Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.900 Reading package lists...
#6 2.105 Building dependency tree...
#6 2.158 Reading state information...
#6 2.224 The following additional packages will be installed:
#6 2.224   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.224   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.224   postgresql-client-common
#6 2.224 Suggested packages:
#6 2.224   npm postgresql-15 postgresql-doc-15
#6 2.262 The following NEW packages will be installed:
#6 2.262   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.262   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.262   postgresql-client-15 postgresql-client-common
#6 2.412 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.412 Need to get 15.8 MB of archives.
#6 2.412 After this operation, 75.5 MB of additional disk space will be used.
#6 2.412 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.552 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.576 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.577 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.681 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.691 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.693 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.694 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.737 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.115 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.291 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.293 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.307 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.404 debconf: delaying package configuration, since apt-utils is not installed
#6 3.414 Fetched 15.8 MB in 1s (15.2 MB/s)
#6 3.422 Selecting previously unselected package libc-ares2:arm64.
#6 3.422 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.432 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.433 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.446 Selecting previously unselected package libuv1:arm64.
#6 3.447 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.448 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.460 Selecting previously unselected package node-xtend.
#6 3.461 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.462 Unpacking node-xtend (4.0.2-3) ...
#6 3.470 Selecting previously unselected package nodejs.
#6 3.471 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.472 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.503 Selecting previously unselected package node-acorn.
#6 3.503 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.504 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.521 Selecting previously unselected package node-cjs-module-lexer.
#6 3.522 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.523 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.531 Selecting previously unselected package node-busboy.
#6 3.532 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.533 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.543 Selecting previously unselected package node-undici.
#6 3.544 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.546 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.569 Selecting previously unselected package libnode108:arm64.
#6 3.570 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.571 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.863 Selecting previously unselected package nodejs-doc.
#6 3.864 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.865 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 3.992 Selecting previously unselected package postgresql-client-common.
#6 3.993 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 3.994 Unpacking postgresql-client-common (248) ...
#6 4.004 Selecting previously unselected package postgresql-client-15.
#6 4.005 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.006 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.090 Selecting previously unselected package postgresql-client.
#6 4.091 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.092 Unpacking postgresql-client (15+248) ...
#6 4.104 Setting up postgresql-client-common (248) ...
#6 4.107 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.245 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.256 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.259 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.261 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.264 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.266 Setting up node-xtend (4.0.2-3) ...
#6 4.268 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.271 Setting up postgresql-client (15+248) ...
#6 4.273 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.277 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.279 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.282 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.284 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.286 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.3s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.71 Successfully installed bundler-2.5.18
#9 12.71 Successfully installed zeitwerk-2.6.18
#9 12.71 Successfully installed thor-1.3.2
#9 12.71 Successfully installed webrick-1.8.1
#9 12.71 Successfully installed rack-3.1.7
#9 12.71 Successfully installed rackup-2.1.0
#9 12.71 Successfully installed concurrent-ruby-1.3.4
#9 12.71 Successfully installed tzinfo-2.0.6
#9 12.71 Successfully installed i18n-1.14.5
#9 12.71 Successfully installed connection_pool-2.4.1
#9 12.71 Successfully installed activesupport-7.2.1
#9 12.71 Successfully installed useragent-0.16.10
#9 12.71 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.71 Successfully installed crass-1.0.6
#9 12.71 Successfully installed loofah-2.22.0
#9 12.71 Successfully installed rails-html-sanitizer-1.6.0
#9 12.71 Successfully installed rails-dom-testing-2.2.0
#9 12.71 Successfully installed rack-test-2.1.0
#9 12.71 Successfully installed rack-session-2.0.0
#9 12.71 Successfully installed erubi-1.13.0
#9 12.71 Successfully installed builder-3.3.0
#9 12.71 Successfully installed actionview-7.2.1
#9 12.71 Successfully installed actionpack-7.2.1
#9 12.71 Successfully installed railties-7.2.1
#9 12.71 Successfully installed marcel-1.0.4
#9 12.71 Successfully installed activemodel-7.2.1
#9 12.71 Successfully installed activerecord-7.2.1
#9 12.71 Successfully installed globalid-1.2.1
#9 12.71 Successfully installed activejob-7.2.1
#9 12.71 Successfully installed activestorage-7.2.1
#9 12.71 Successfully installed actiontext-7.2.1
#9 12.71 Successfully installed mini_mime-1.1.5
#9 12.71 Successfully installed mail-2.8.1
#9 12.71 Successfully installed actionmailer-7.2.1
#9 12.71 Successfully installed actionmailbox-7.2.1
#9 12.71 Successfully installed websocket-extensions-0.1.5
#9 12.71 Building native extensions. This could take a while...
#9 12.83 Successfully installed websocket-driver-0.7.6
#9 12.83 Building native extensions. This could take a while...
#9 14.32 Successfully installed nio4r-2.7.3
#9 14.32 Successfully installed actioncable-7.2.1
#9 14.32 Successfully installed rails-7.2.1
#9 14.32 40 gems installed
#9 DONE 14.4s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.3s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:0fd95bec101f4c4a7c19ff61ace49110ce6eb6b419644b1fdc2e7a9420bf85c8 done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.875 Reading package lists...
#6 2.075 Building dependency tree...
#6 2.128 Reading state information...
#6 2.191 The following additional packages will be installed:
#6 2.191   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.191   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.192   postgresql-client-common
#6 2.192 Suggested packages:
#6 2.192   npm postgresql-15 postgresql-doc-15
#6 2.228 The following NEW packages will be installed:
#6 2.228   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.228   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.228   postgresql-client-15 postgresql-client-common
#6 2.354 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.354 Need to get 15.8 MB of archives.
#6 2.354 After this operation, 75.5 MB of additional disk space will be used.
#6 2.354 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.494 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.554 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.554 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.624 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.635 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.638 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.639 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.678 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.069 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.253 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.254 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.318 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.435 debconf: delaying package configuration, since apt-utils is not installed
#6 3.445 Fetched 15.8 MB in 1s (14.6 MB/s)
#6 3.453 Selecting previously unselected package libc-ares2:arm64.
#6 3.453 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.462 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.464 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.477 Selecting previously unselected package libuv1:arm64.
#6 3.478 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.479 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.491 Selecting previously unselected package node-xtend.
#6 3.492 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.493 Unpacking node-xtend (4.0.2-3) ...
#6 3.500 Selecting previously unselected package nodejs.
#6 3.501 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.502 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.533 Selecting previously unselected package node-acorn.
#6 3.534 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.535 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.552 Selecting previously unselected package node-cjs-module-lexer.
#6 3.553 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.554 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.562 Selecting previously unselected package node-busboy.
#6 3.563 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.563 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.573 Selecting previously unselected package node-undici.
#6 3.574 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.576 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.599 Selecting previously unselected package libnode108:arm64.
#6 3.600 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.601 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.892 Selecting previously unselected package nodejs-doc.
#6 3.893 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.894 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.021 Selecting previously unselected package postgresql-client-common.
#6 4.022 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.023 Unpacking postgresql-client-common (248) ...
#6 4.033 Selecting previously unselected package postgresql-client-15.
#6 4.034 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.035 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.119 Selecting previously unselected package postgresql-client.
#6 4.120 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.121 Unpacking postgresql-client (15+248) ...
#6 4.132 Setting up postgresql-client-common (248) ...
#6 4.136 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.275 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.286 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.288 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.291 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.293 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.295 Setting up node-xtend (4.0.2-3) ...
#6 4.297 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.299 Setting up postgresql-client (15+248) ...
#6 4.302 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.306 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.308 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.310 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.313 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.315 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.73 Successfully installed bundler-2.5.18
#9 12.73 Successfully installed zeitwerk-2.6.18
#9 12.73 Successfully installed thor-1.3.2
#9 12.73 Successfully installed webrick-1.8.1
#9 12.73 Successfully installed rack-3.1.7
#9 12.73 Successfully installed rackup-2.1.0
#9 12.73 Successfully installed concurrent-ruby-1.3.4
#9 12.73 Successfully installed tzinfo-2.0.6
#9 12.73 Successfully installed i18n-1.14.5
#9 12.73 Successfully installed connection_pool-2.4.1
#9 12.73 Successfully installed activesupport-7.2.1
#9 12.73 Successfully installed useragent-0.16.10
#9 12.73 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.73 Successfully installed crass-1.0.6
#9 12.73 Successfully installed loofah-2.22.0
#9 12.73 Successfully installed rails-html-sanitizer-1.6.0
#9 12.73 Successfully installed rails-dom-testing-2.2.0
#9 12.73 Successfully installed rack-test-2.1.0
#9 12.73 Successfully installed rack-session-2.0.0
#9 12.73 Successfully installed erubi-1.13.0
#9 12.73 Successfully installed builder-3.3.0
#9 12.73 Successfully installed actionview-7.2.1
#9 12.73 Successfully installed actionpack-7.2.1
#9 12.73 Successfully installed railties-7.2.1
#9 12.73 Successfully installed marcel-1.0.4
#9 12.73 Successfully installed activemodel-7.2.1
#9 12.73 Successfully installed activerecord-7.2.1
#9 12.73 Successfully installed globalid-1.2.1
#9 12.73 Successfully installed activejob-7.2.1
#9 12.73 Successfully installed activestorage-7.2.1
#9 12.73 Successfully installed actiontext-7.2.1
#9 12.73 Successfully installed mini_mime-1.1.5
#9 12.73 Successfully installed mail-2.8.1
#9 12.73 Successfully installed actionmailer-7.2.1
#9 12.73 Successfully installed actionmailbox-7.2.1
#9 12.73 Successfully installed websocket-extensions-0.1.5
#9 12.73 Building native extensions. This could take a while...
#9 12.86 Successfully installed websocket-driver-0.7.6
#9 12.86 Building native extensions. This could take a while...
#9 14.36 Successfully installed nio4r-2.7.3
#9 14.36 Successfully installed actioncable-7.2.1
#9 14.36 Successfully installed rails-7.2.1
#9 14.36 40 gems installed
#9 DONE 14.4s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:19c3c390d1b4a329802312afe33794e372b9912a7021c11514e7705625d661f5 done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Recreate
 Container spina-app-db-1  Recreated
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 624B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.844 Reading package lists...
#6 2.050 Building dependency tree...
#6 2.105 Reading state information...
#6 2.178 The following additional packages will be installed:
#6 2.178   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.178   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.178   postgresql-client-common
#6 2.179 Suggested packages:
#6 2.179   npm postgresql-15 postgresql-doc-15
#6 2.215 The following NEW packages will be installed:
#6 2.215   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.215   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.215   postgresql-client-15 postgresql-client-common
#6 2.343 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.343 Need to get 15.8 MB of archives.
#6 2.343 After this operation, 75.5 MB of additional disk space will be used.
#6 2.343 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.482 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.543 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.544 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.620 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.630 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.632 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.660 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.676 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.145 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.281 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.283 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.366 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.473 debconf: delaying package configuration, since apt-utils is not installed
#6 3.482 Fetched 15.8 MB in 1s (13.8 MB/s)
#6 3.490 Selecting previously unselected package libc-ares2:arm64.
#6 3.490 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.501 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.502 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.515 Selecting previously unselected package libuv1:arm64.
#6 3.516 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.517 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.530 Selecting previously unselected package node-xtend.
#6 3.531 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.532 Unpacking node-xtend (4.0.2-3) ...
#6 3.540 Selecting previously unselected package nodejs.
#6 3.541 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.542 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.572 Selecting previously unselected package node-acorn.
#6 3.573 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.574 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.590 Selecting previously unselected package node-cjs-module-lexer.
#6 3.591 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.592 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.601 Selecting previously unselected package node-busboy.
#6 3.602 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.602 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.612 Selecting previously unselected package node-undici.
#6 3.613 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.616 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.638 Selecting previously unselected package libnode108:arm64.
#6 3.639 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.640 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.931 Selecting previously unselected package nodejs-doc.
#6 3.932 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.933 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.063 Selecting previously unselected package postgresql-client-common.
#6 4.065 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.066 Unpacking postgresql-client-common (248) ...
#6 4.076 Selecting previously unselected package postgresql-client-15.
#6 4.077 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.078 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.163 Selecting previously unselected package postgresql-client.
#6 4.164 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.165 Unpacking postgresql-client (15+248) ...
#6 4.176 Setting up postgresql-client-common (248) ...
#6 4.181 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.318 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.330 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.332 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.335 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.337 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.339 Setting up node-xtend (4.0.2-3) ...
#6 4.342 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.344 Setting up postgresql-client (15+248) ...
#6 4.346 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.350 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.352 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.355 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.357 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.359 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 CANCELED
canceled
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 585B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.789 Reading package lists...
#6 1.987 Building dependency tree...
#6 2.040 Reading state information...
#6 2.103 The following additional packages will be installed:
#6 2.103   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.103   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.103   postgresql-client-common
#6 2.103 Suggested packages:
#6 2.103   npm postgresql-15 postgresql-doc-15
#6 2.139 The following NEW packages will be installed:
#6 2.139   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.139   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.139   postgresql-client-15 postgresql-client-common
#6 2.269 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.269 Need to get 15.8 MB of archives.
#6 2.269 After this operation, 75.5 MB of additional disk space will be used.
#6 2.269 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.407 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.468 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.468 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.538 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.547 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.550 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.552 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.590 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.034 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.159 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.160 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.239 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.348 debconf: delaying package configuration, since apt-utils is not installed
#6 3.357 Fetched 15.8 MB in 1s (14.4 MB/s)
#6 3.366 Selecting previously unselected package libc-ares2:arm64.
#6 3.366 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.372 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.373 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.385 Selecting previously unselected package libuv1:arm64.
#6 3.386 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.387 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.399 Selecting previously unselected package node-xtend.
#6 3.400 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.401 Unpacking node-xtend (4.0.2-3) ...
#6 3.409 Selecting previously unselected package nodejs.
#6 3.410 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.411 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.440 Selecting previously unselected package node-acorn.
#6 3.440 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.441 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.457 Selecting previously unselected package node-cjs-module-lexer.
#6 3.458 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.459 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.468 Selecting previously unselected package node-busboy.
#6 3.469 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.470 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.479 Selecting previously unselected package node-undici.
#6 3.480 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.482 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.504 Selecting previously unselected package libnode108:arm64.
#6 3.505 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.506 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.788 Selecting previously unselected package nodejs-doc.
#6 3.789 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.790 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 3.918 Selecting previously unselected package postgresql-client-common.
#6 3.919 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 3.920 Unpacking postgresql-client-common (248) ...
#6 3.930 Selecting previously unselected package postgresql-client-15.
#6 3.930 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 3.932 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.015 Selecting previously unselected package postgresql-client.
#6 4.016 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.017 Unpacking postgresql-client (15+248) ...
#6 4.029 Setting up postgresql-client-common (248) ...
#6 4.033 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.167 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.177 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.179 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.181 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.184 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.186 Setting up node-xtend (4.0.2-3) ...
#6 4.188 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.191 Setting up postgresql-client (15+248) ...
#6 4.193 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.197 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.199 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.201 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.204 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.205 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.3s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.37 Successfully installed bundler-2.5.18
#9 12.37 Successfully installed zeitwerk-2.6.18
#9 12.37 Successfully installed thor-1.3.2
#9 12.37 Successfully installed webrick-1.8.1
#9 12.37 Successfully installed rack-3.1.7
#9 12.37 Successfully installed rackup-2.1.0
#9 12.37 Successfully installed concurrent-ruby-1.3.4
#9 12.37 Successfully installed tzinfo-2.0.6
#9 12.37 Successfully installed i18n-1.14.5
#9 12.37 Successfully installed connection_pool-2.4.1
#9 12.37 Successfully installed activesupport-7.2.1
#9 12.37 Successfully installed useragent-0.16.10
#9 12.37 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.37 Successfully installed crass-1.0.6
#9 12.37 Successfully installed loofah-2.22.0
#9 12.37 Successfully installed rails-html-sanitizer-1.6.0
#9 12.37 Successfully installed rails-dom-testing-2.2.0
#9 12.37 Successfully installed rack-test-2.1.0
#9 12.37 Successfully installed rack-session-2.0.0
#9 12.37 Successfully installed erubi-1.13.0
#9 12.37 Successfully installed builder-3.3.0
#9 12.37 Successfully installed actionview-7.2.1
#9 12.37 Successfully installed actionpack-7.2.1
#9 12.37 Successfully installed railties-7.2.1
#9 12.37 Successfully installed marcel-1.0.4
#9 12.37 Successfully installed activemodel-7.2.1
#9 12.37 Successfully installed activerecord-7.2.1
#9 12.37 Successfully installed globalid-1.2.1
#9 12.37 Successfully installed activejob-7.2.1
#9 12.37 Successfully installed activestorage-7.2.1
#9 12.37 Successfully installed actiontext-7.2.1
#9 12.37 Successfully installed mini_mime-1.1.5
#9 12.37 Successfully installed mail-2.8.1
#9 12.37 Successfully installed actionmailer-7.2.1
#9 12.37 Successfully installed actionmailbox-7.2.1
#9 12.37 Successfully installed websocket-extensions-0.1.5
#9 12.37 Building native extensions. This could take a while...
#9 12.50 Successfully installed websocket-driver-0.7.6
#9 12.50 Building native extensions. This could take a while...
#9 13.98 Successfully installed nio4r-2.7.3
#9 13.98 Successfully installed actioncable-7.2.1
#9 13.98 Successfully installed rails-7.2.1
#9 13.98 40 gems installed
#9 DONE 14.0s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.1s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:89003d438140a075876483caf1ae5adf17c7f261df29d023f09b3c4edc2ef1c7 done
#12 naming to docker.io/library/spina-app-web
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Recreate
 Container spina-app-db-1  Recreated
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 526B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.947 Reading package lists...
#6 2.151 Building dependency tree...
#6 2.203 Reading state information...
#6 2.266 The following additional packages will be installed:
#6 2.266   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.266   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.266   postgresql-client-common
#6 2.266 Suggested packages:
#6 2.266   npm postgresql-15 postgresql-doc-15
#6 2.303 The following NEW packages will be installed:
#6 2.304   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.304   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.304   postgresql-client-15 postgresql-client-common
#6 2.451 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.451 Need to get 15.8 MB of archives.
#6 2.451 After this operation, 75.5 MB of additional disk space will be used.
#6 2.451 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.599 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.624 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.657 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.723 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.736 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.737 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.738 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.391 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.210 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.501 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.503 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.639 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.758 debconf: delaying package configuration, since apt-utils is not installed
#6 4.768 Fetched 15.8 MB in 2s (6775 kB/s)
#6 4.777 Selecting previously unselected package libc-ares2:arm64.
#6 4.777 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.787 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.788 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.801 Selecting previously unselected package libuv1:arm64.
#6 4.802 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.803 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.815 Selecting previously unselected package node-xtend.
#6 4.816 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.817 Unpacking node-xtend (4.0.2-3) ...
#6 4.825 Selecting previously unselected package nodejs.
#6 4.826 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.827 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.858 Selecting previously unselected package node-acorn.
#6 4.859 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.860 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.879 Selecting previously unselected package node-cjs-module-lexer.
#6 4.880 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.881 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.890 Selecting previously unselected package node-busboy.
#6 4.891 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.891 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.901 Selecting previously unselected package node-undici.
#6 4.902 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.904 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.926 Selecting previously unselected package libnode108:arm64.
#6 4.927 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.928 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.222 Selecting previously unselected package nodejs-doc.
#6 5.224 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 5.224 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.352 Selecting previously unselected package postgresql-client-common.
#6 5.353 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 5.354 Unpacking postgresql-client-common (248) ...
#6 5.364 Selecting previously unselected package postgresql-client-15.
#6 5.365 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.366 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.451 Selecting previously unselected package postgresql-client.
#6 5.452 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 5.453 Unpacking postgresql-client (15+248) ...
#6 5.465 Setting up postgresql-client-common (248) ...
#6 5.468 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.608 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.621 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.623 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.625 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.628 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.630 Setting up node-xtend (4.0.2-3) ...
#6 5.633 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.635 Setting up postgresql-client (15+248) ...
#6 5.637 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.642 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.644 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.646 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.649 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.650 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.7s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.71 Successfully installed bundler-2.5.18
#9 12.71 Successfully installed zeitwerk-2.6.18
#9 12.71 Successfully installed thor-1.3.2
#9 12.71 Successfully installed webrick-1.8.1
#9 12.71 Successfully installed rack-3.1.7
#9 12.71 Successfully installed rackup-2.1.0
#9 12.71 Successfully installed concurrent-ruby-1.3.4
#9 12.71 Successfully installed tzinfo-2.0.6
#9 12.71 Successfully installed i18n-1.14.5
#9 12.71 Successfully installed connection_pool-2.4.1
#9 12.71 Successfully installed activesupport-7.2.1
#9 12.71 Successfully installed useragent-0.16.10
#9 12.71 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.71 Successfully installed crass-1.0.6
#9 12.71 Successfully installed loofah-2.22.0
#9 12.71 Successfully installed rails-html-sanitizer-1.6.0
#9 12.71 Successfully installed rails-dom-testing-2.2.0
#9 12.71 Successfully installed rack-test-2.1.0
#9 12.71 Successfully installed rack-session-2.0.0
#9 12.71 Successfully installed erubi-1.13.0
#9 12.71 Successfully installed builder-3.3.0
#9 12.71 Successfully installed actionview-7.2.1
#9 12.71 Successfully installed actionpack-7.2.1
#9 12.71 Successfully installed railties-7.2.1
#9 12.71 Successfully installed marcel-1.0.4
#9 12.71 Successfully installed activemodel-7.2.1
#9 12.71 Successfully installed activerecord-7.2.1
#9 12.71 Successfully installed globalid-1.2.1
#9 12.71 Successfully installed activejob-7.2.1
#9 12.71 Successfully installed activestorage-7.2.1
#9 12.71 Successfully installed actiontext-7.2.1
#9 12.71 Successfully installed mini_mime-1.1.5
#9 12.71 Successfully installed mail-2.8.1
#9 12.71 Successfully installed actionmailer-7.2.1
#9 12.71 Successfully installed actionmailbox-7.2.1
#9 12.71 Successfully installed websocket-extensions-0.1.5
#9 12.71 Building native extensions. This could take a while...
#9 12.83 Successfully installed websocket-driver-0.7.6
#9 12.83 Building native extensions. This could take a while...
#9 14.34 Successfully installed nio4r-2.7.3
#9 14.34 Successfully installed actioncable-7.2.1
#9 14.34 Successfully installed rails-7.2.1
#9 14.34 40 gems installed
#9 DONE 14.4s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:a39108cb3ea55cbca7fcec31c6e19ddd734073da77d45f12a7da53bb4fcb8ef3
#12 writing image sha256:a39108cb3ea55cbca7fcec31c6e19ddd734073da77d45f12a7da53bb4fcb8ef3 done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 550B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.912 Reading package lists...
#6 2.112 Building dependency tree...
#6 2.166 Reading state information...
#6 2.229 The following additional packages will be installed:
#6 2.229   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.229   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.229   postgresql-client-common
#6 2.230 Suggested packages:
#6 2.230   npm postgresql-15 postgresql-doc-15
#6 2.267 The following NEW packages will be installed:
#6 2.267   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.267   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.267   postgresql-client-15 postgresql-client-common
#6 2.392 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.392 Need to get 15.8 MB of archives.
#6 2.392 After this operation, 75.5 MB of additional disk space will be used.
#6 2.392 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.532 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.592 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.593 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.694 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.697 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.698 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.699 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.714 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.117 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.267 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.268 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.353 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.473 debconf: delaying package configuration, since apt-utils is not installed
#6 3.485 Fetched 15.8 MB in 1s (14.6 MB/s)
#6 3.494 Selecting previously unselected package libc-ares2:arm64.
#6 3.494 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.506 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.507 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.520 Selecting previously unselected package libuv1:arm64.
#6 3.521 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.522 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.535 Selecting previously unselected package node-xtend.
#6 3.536 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.537 Unpacking node-xtend (4.0.2-3) ...
#6 3.545 Selecting previously unselected package nodejs.
#6 3.546 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.547 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.580 Selecting previously unselected package node-acorn.
#6 3.581 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.582 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.599 Selecting previously unselected package node-cjs-module-lexer.
#6 3.600 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.601 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.609 Selecting previously unselected package node-busboy.
#6 3.610 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.611 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.622 Selecting previously unselected package node-undici.
#6 3.623 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.625 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.647 Selecting previously unselected package libnode108:arm64.
#6 3.648 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.649 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.939 Selecting previously unselected package nodejs-doc.
#6 3.940 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.940 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.067 Selecting previously unselected package postgresql-client-common.
#6 4.068 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.069 Unpacking postgresql-client-common (248) ...
#6 4.079 Selecting previously unselected package postgresql-client-15.
#6 4.080 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.081 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.165 Selecting previously unselected package postgresql-client.
#6 4.166 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.166 Unpacking postgresql-client (15+248) ...
#6 4.178 Setting up postgresql-client-common (248) ...
#6 4.182 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.320 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.333 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.335 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.338 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.340 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.342 Setting up node-xtend (4.0.2-3) ...
#6 4.344 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.346 Setting up postgresql-client (15+248) ...
#6 4.349 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.353 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.355 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.357 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.360 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.362 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.98 Successfully installed bundler-2.5.18
#9 12.98 Successfully installed zeitwerk-2.6.18
#9 12.98 Successfully installed thor-1.3.2
#9 12.98 Successfully installed webrick-1.8.1
#9 12.98 Successfully installed rack-3.1.7
#9 12.98 Successfully installed rackup-2.1.0
#9 12.98 Successfully installed concurrent-ruby-1.3.4
#9 12.98 Successfully installed tzinfo-2.0.6
#9 12.98 Successfully installed i18n-1.14.5
#9 12.98 Successfully installed connection_pool-2.4.1
#9 12.98 Successfully installed activesupport-7.2.1
#9 12.98 Successfully installed useragent-0.16.10
#9 12.98 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.98 Successfully installed crass-1.0.6
#9 12.98 Successfully installed loofah-2.22.0
#9 12.98 Successfully installed rails-html-sanitizer-1.6.0
#9 12.98 Successfully installed rails-dom-testing-2.2.0
#9 12.98 Successfully installed rack-test-2.1.0
#9 12.98 Successfully installed rack-session-2.0.0
#9 12.98 Successfully installed erubi-1.13.0
#9 12.98 Successfully installed builder-3.3.0
#9 12.98 Successfully installed actionview-7.2.1
#9 12.98 Successfully installed actionpack-7.2.1
#9 12.98 Successfully installed railties-7.2.1
#9 12.98 Successfully installed marcel-1.0.4
#9 12.98 Successfully installed activemodel-7.2.1
#9 12.98 Successfully installed activerecord-7.2.1
#9 12.98 Successfully installed globalid-1.2.1
#9 12.98 Successfully installed activejob-7.2.1
#9 12.98 Successfully installed activestorage-7.2.1
#9 12.98 Successfully installed actiontext-7.2.1
#9 12.98 Successfully installed mini_mime-1.1.5
#9 12.98 Successfully installed mail-2.8.1
#9 12.98 Successfully installed actionmailer-7.2.1
#9 12.98 Successfully installed actionmailbox-7.2.1
#9 12.98 Successfully installed websocket-extensions-0.1.5
#9 12.98 Building native extensions. This could take a while...
#9 13.11 Successfully installed websocket-driver-0.7.6
#9 13.11 Building native extensions. This could take a while...
#9 14.60 Successfully installed nio4r-2.7.3
#9 14.60 Successfully installed actioncable-7.2.1
#9 14.60 Successfully installed rails-7.2.1
#9 14.60 40 gems installed
#9 DONE 14.6s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers 0.1s done
#12 writing image sha256:96d863a446baaf9df664f267dbb816548164f791bca99ab3b055b5c4554eaa70 done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 641B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/6] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 526B done
#5 DONE 0.0s

#6 [web 2/6] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.853 Reading package lists...
#6 2.067 Building dependency tree...
#6 2.119 Reading state information...
#6 2.185 The following additional packages will be installed:
#6 2.185   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.185   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.185   postgresql-client-common
#6 2.185 Suggested packages:
#6 2.185   npm postgresql-15 postgresql-doc-15
#6 2.225 The following NEW packages will be installed:
#6 2.225   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.225   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.225   postgresql-client-15 postgresql-client-common
#6 2.354 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.354 Need to get 15.8 MB of archives.
#6 2.354 After this operation, 75.5 MB of additional disk space will be used.
#6 2.354 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.491 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.552 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.552 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.622 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.632 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.634 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.636 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.676 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.113 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.157 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.165 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.237 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.344 debconf: delaying package configuration, since apt-utils is not installed
#6 3.354 Fetched 15.8 MB in 1s (15.7 MB/s)
#6 3.362 Selecting previously unselected package libc-ares2:arm64.
#6 3.362 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.372 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.374 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.387 Selecting previously unselected package libuv1:arm64.
#6 3.388 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.389 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.402 Selecting previously unselected package node-xtend.
#6 3.403 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.404 Unpacking node-xtend (4.0.2-3) ...
#6 3.412 Selecting previously unselected package nodejs.
#6 3.413 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.413 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.444 Selecting previously unselected package node-acorn.
#6 3.445 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.446 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.463 Selecting previously unselected package node-cjs-module-lexer.
#6 3.465 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.465 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.474 Selecting previously unselected package node-busboy.
#6 3.475 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.476 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.486 Selecting previously unselected package node-undici.
#6 3.487 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.490 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.518 Selecting previously unselected package libnode108:arm64.
#6 3.519 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.520 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.814 Selecting previously unselected package nodejs-doc.
#6 3.815 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.815 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 3.944 Selecting previously unselected package postgresql-client-common.
#6 3.945 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 3.946 Unpacking postgresql-client-common (248) ...
#6 3.956 Selecting previously unselected package postgresql-client-15.
#6 3.957 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 3.958 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.042 Selecting previously unselected package postgresql-client.
#6 4.043 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.044 Unpacking postgresql-client (15+248) ...
#6 4.055 Setting up postgresql-client-common (248) ...
#6 4.059 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.199 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.211 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.213 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.216 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.218 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.221 Setting up node-xtend (4.0.2-3) ...
#6 4.222 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.225 Setting up postgresql-client (15+248) ...
#6 4.227 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.231 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.233 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.236 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.238 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.240 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.3s

#7 [web 3/6] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/6] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/6] COPY setup.sh /app/setup.sh
#9 DONE 0.0s

#10 [web 6/6] RUN chmod +x /app/setup.sh
#10 DONE 0.1s

#11 [web] exporting to image
#11 exporting layers 0.1s done
#11 writing image sha256:ffdbbeb140ed61032c751fcf11c0beed0b3b3269c299fe0025cd6d53edaaf826 done
#11 naming to docker.io/library/spina-app-web
#11 naming to docker.io/library/spina-app-web done
#11 DONE 0.1s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 641B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/6] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 280B done
#5 DONE 0.0s

#6 [web 2/6] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.835 Reading package lists...
#6 2.038 Building dependency tree...
#6 2.091 Reading state information...
#6 2.154 The following additional packages will be installed:
#6 2.154   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.154   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.154   postgresql-client-common
#6 2.155 Suggested packages:
#6 2.155   npm postgresql-15 postgresql-doc-15
#6 2.191 The following NEW packages will be installed:
#6 2.191   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.191   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.191   postgresql-client-15 postgresql-client-common
#6 2.318 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.318 Need to get 15.8 MB of archives.
#6 2.318 After this operation, 75.5 MB of additional disk space will be used.
#6 2.318 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.458 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.518 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.519 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.588 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.599 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.602 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.604 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.639 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.037 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.166 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.168 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.226 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.341 debconf: delaying package configuration, since apt-utils is not installed
#6 3.352 Fetched 15.8 MB in 1s (15.3 MB/s)
#6 3.360 Selecting previously unselected package libc-ares2:arm64.
#6 3.360 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.370 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.372 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.385 Selecting previously unselected package libuv1:arm64.
#6 3.386 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.387 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.399 Selecting previously unselected package node-xtend.
#6 3.400 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.401 Unpacking node-xtend (4.0.2-3) ...
#6 3.409 Selecting previously unselected package nodejs.
#6 3.410 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.411 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.442 Selecting previously unselected package node-acorn.
#6 3.443 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.444 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.462 Selecting previously unselected package node-cjs-module-lexer.
#6 3.463 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.463 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.472 Selecting previously unselected package node-busboy.
#6 3.473 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.474 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.484 Selecting previously unselected package node-undici.
#6 3.485 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.487 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.510 Selecting previously unselected package libnode108:arm64.
#6 3.511 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.511 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.806 Selecting previously unselected package nodejs-doc.
#6 3.808 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.808 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 3.936 Selecting previously unselected package postgresql-client-common.
#6 3.937 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 3.938 Unpacking postgresql-client-common (248) ...
#6 3.949 Selecting previously unselected package postgresql-client-15.
#6 3.950 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 3.950 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.035 Selecting previously unselected package postgresql-client.
#6 4.036 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.037 Unpacking postgresql-client (15+248) ...
#6 4.048 Setting up postgresql-client-common (248) ...
#6 4.052 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.192 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.204 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.206 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.208 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.211 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.213 Setting up node-xtend (4.0.2-3) ...
#6 4.215 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.218 Setting up postgresql-client (15+248) ...
#6 4.220 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.224 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.226 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.228 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.231 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.232 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.3s

#7 [web 3/6] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/6] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/6] COPY setup.sh /app/setup.sh
#9 DONE 0.0s

#10 [web 6/6] RUN chmod +x /app/setup.sh
#10 DONE 0.2s

#11 [web] exporting to image
#11 exporting layers 0.1s done
#11 writing image sha256:752ead906de03a809962b8c2e08bdde05aeebd760c5bd85a8d8816acc29df361 done
#11 naming to docker.io/library/spina-app-web done
#11 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 583B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/6] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/6] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.834 Reading package lists...
#6 2.060 Building dependency tree...
#6 2.119 Reading state information...
#6 2.190 The following additional packages will be installed:
#6 2.190   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.190   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.190   postgresql-client-common
#6 2.190 Suggested packages:
#6 2.190   npm postgresql-15 postgresql-doc-15
#6 2.231 The following NEW packages will be installed:
#6 2.231   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.231   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.231   postgresql-client-15 postgresql-client-common
#6 2.363 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.363 Need to get 15.8 MB of archives.
#6 2.363 After this operation, 75.5 MB of additional disk space will be used.
#6 2.363 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.500 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.559 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.560 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.629 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.677 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.677 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.678 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.681 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.057 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.150 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.152 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.229 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.306 debconf: delaying package configuration, since apt-utils is not installed
#6 3.318 Fetched 15.8 MB in 1s (15.9 MB/s)
#6 3.330 Selecting previously unselected package libc-ares2:arm64.
#6 3.330 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.348 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.350 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.368 Selecting previously unselected package libuv1:arm64.
#6 3.369 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.370 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.384 Selecting previously unselected package node-xtend.
#6 3.385 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.386 Unpacking node-xtend (4.0.2-3) ...
#6 3.396 Selecting previously unselected package nodejs.
#6 3.397 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.398 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.453 Selecting previously unselected package node-acorn.
#6 3.455 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.456 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.477 Selecting previously unselected package node-cjs-module-lexer.
#6 3.478 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.479 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.489 Selecting previously unselected package node-busboy.
#6 3.490 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.491 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.503 Selecting previously unselected package node-undici.
#6 3.504 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.506 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.531 Selecting previously unselected package libnode108:arm64.
#6 3.532 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.533 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.829 Selecting previously unselected package nodejs-doc.
#6 3.830 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.831 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 3.961 Selecting previously unselected package postgresql-client-common.
#6 3.962 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 3.963 Unpacking postgresql-client-common (248) ...
#6 3.974 Selecting previously unselected package postgresql-client-15.
#6 3.975 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 3.976 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.062 Selecting previously unselected package postgresql-client.
#6 4.063 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.064 Unpacking postgresql-client (15+248) ...
#6 4.075 Setting up postgresql-client-common (248) ...
#6 4.080 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.225 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.238 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.240 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.242 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.244 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.247 Setting up node-xtend (4.0.2-3) ...
#6 4.249 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.251 Setting up postgresql-client (15+248) ...
#6 4.253 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.257 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.259 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.262 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.264 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.266 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.3s

#7 [web 3/6] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/6] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/6] COPY setup.sh /app/setup.sh
#9 DONE 0.0s

#10 [web 6/6] RUN chmod +x /app/setup.sh
#10 DONE 0.2s

#11 [web] exporting to image
#11 exporting layers 0.1s done
#11 writing image sha256:b4c29284440615ad63f81ab6f20295a55c720371e1c80a97e2914a105739bd65 done
#11 naming to docker.io/library/spina-app-web
#11 naming to docker.io/library/spina-app-web done
#11 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.7s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 187B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.955 Reading package lists...
#6 2.176 Building dependency tree...
#6 2.230 Reading state information...
#6 2.296 The following additional packages will be installed:
#6 2.297   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.297   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.297   postgresql-client-common
#6 2.297 Suggested packages:
#6 2.297   npm postgresql-15 postgresql-doc-15
#6 2.335 The following NEW packages will be installed:
#6 2.335   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.335   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.335   postgresql-client-15 postgresql-client-common
#6 2.468 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.468 Need to get 15.8 MB of archives.
#6 2.468 After this operation, 75.5 MB of additional disk space will be used.
#6 2.468 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.608 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.668 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.669 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.738 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.748 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.751 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.752 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.790 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.509 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.557 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.558 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.695 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.808 debconf: delaying package configuration, since apt-utils is not installed
#6 3.818 Fetched 15.8 MB in 1s (11.7 MB/s)
#6 3.826 Selecting previously unselected package libc-ares2:arm64.
#6 3.826 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.835 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.837 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.850 Selecting previously unselected package libuv1:arm64.
#6 3.851 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.852 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.865 Selecting previously unselected package node-xtend.
#6 3.866 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.866 Unpacking node-xtend (4.0.2-3) ...
#6 3.875 Selecting previously unselected package nodejs.
#6 3.876 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.877 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.907 Selecting previously unselected package node-acorn.
#6 3.908 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.909 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.925 Selecting previously unselected package node-cjs-module-lexer.
#6 3.926 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.927 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.935 Selecting previously unselected package node-busboy.
#6 3.936 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.937 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.947 Selecting previously unselected package node-undici.
#6 3.947 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.950 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.972 Selecting previously unselected package libnode108:arm64.
#6 3.973 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.974 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.263 Selecting previously unselected package nodejs-doc.
#6 4.264 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.265 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.394 Selecting previously unselected package postgresql-client-common.
#6 4.395 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.396 Unpacking postgresql-client-common (248) ...
#6 4.406 Selecting previously unselected package postgresql-client-15.
#6 4.407 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.408 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.493 Selecting previously unselected package postgresql-client.
#6 4.494 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.495 Unpacking postgresql-client (15+248) ...
#6 4.506 Setting up postgresql-client-common (248) ...
#6 4.510 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.647 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.659 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.661 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.664 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.666 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.668 Setting up node-xtend (4.0.2-3) ...
#6 4.671 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.673 Setting up postgresql-client (15+248) ...
#6 4.675 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.679 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.682 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.684 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.686 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.688 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.65 Successfully installed bundler-2.5.18
#9 12.65 Successfully installed zeitwerk-2.6.18
#9 12.65 Successfully installed thor-1.3.2
#9 12.65 Successfully installed webrick-1.8.1
#9 12.65 Successfully installed rack-3.1.7
#9 12.65 Successfully installed rackup-2.1.0
#9 12.65 Successfully installed concurrent-ruby-1.3.4
#9 12.65 Successfully installed tzinfo-2.0.6
#9 12.65 Successfully installed i18n-1.14.5
#9 12.65 Successfully installed connection_pool-2.4.1
#9 12.65 Successfully installed activesupport-7.2.1
#9 12.65 Successfully installed useragent-0.16.10
#9 12.65 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.65 Successfully installed crass-1.0.6
#9 12.65 Successfully installed loofah-2.22.0
#9 12.65 Successfully installed rails-html-sanitizer-1.6.0
#9 12.65 Successfully installed rails-dom-testing-2.2.0
#9 12.65 Successfully installed rack-test-2.1.0
#9 12.65 Successfully installed rack-session-2.0.0
#9 12.65 Successfully installed erubi-1.13.0
#9 12.65 Successfully installed builder-3.3.0
#9 12.65 Successfully installed actionview-7.2.1
#9 12.65 Successfully installed actionpack-7.2.1
#9 12.65 Successfully installed railties-7.2.1
#9 12.65 Successfully installed marcel-1.0.4
#9 12.65 Successfully installed activemodel-7.2.1
#9 12.65 Successfully installed activerecord-7.2.1
#9 12.65 Successfully installed globalid-1.2.1
#9 12.65 Successfully installed activejob-7.2.1
#9 12.65 Successfully installed activestorage-7.2.1
#9 12.65 Successfully installed actiontext-7.2.1
#9 12.65 Successfully installed mini_mime-1.1.5
#9 12.65 Successfully installed mail-2.8.1
#9 12.65 Successfully installed actionmailer-7.2.1
#9 12.65 Successfully installed actionmailbox-7.2.1
#9 12.65 Successfully installed websocket-extensions-0.1.5
#9 12.65 Building native extensions. This could take a while...
#9 12.77 Successfully installed websocket-driver-0.7.6
#9 12.77 Building native extensions. This could take a while...
#9 14.27 Successfully installed nio4r-2.7.3
#9 14.27 Successfully installed actioncable-7.2.1
#9 14.27 Successfully installed rails-7.2.1
#9 14.27 40 gems installed
#9 DONE 14.3s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.1s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:30dc6d4142188922f7515912c9cfbe2bf002916fc08e72f97ee1c08b68cbf85c done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 403B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/4] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 30B done
#5 DONE 0.0s

#6 [web 2/4] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.849 Reading package lists...
#6 2.066 Building dependency tree...
#6 2.124 Reading state information...
#6 2.194 The following additional packages will be installed:
#6 2.194   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.194   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.194   postgresql-client-common
#6 2.194 Suggested packages:
#6 2.194   npm postgresql-15 postgresql-doc-15
#6 2.234 The following NEW packages will be installed:
#6 2.234   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.234   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.234   postgresql-client-15 postgresql-client-common
#6 2.360 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.360 Need to get 15.8 MB of archives.
#6 2.360 After this operation, 75.5 MB of additional disk space will be used.
#6 2.360 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.498 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.524 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.525 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.634 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.638 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.639 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.640 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.678 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.099 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.261 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.263 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.357 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.471 debconf: delaying package configuration, since apt-utils is not installed
#6 3.481 Fetched 15.8 MB in 1s (14.1 MB/s)
#6 3.490 Selecting previously unselected package libc-ares2:arm64.
#6 3.490 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.501 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.502 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.515 Selecting previously unselected package libuv1:arm64.
#6 3.516 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.518 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.530 Selecting previously unselected package node-xtend.
#6 3.531 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.532 Unpacking node-xtend (4.0.2-3) ...
#6 3.540 Selecting previously unselected package nodejs.
#6 3.541 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.542 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.573 Selecting previously unselected package node-acorn.
#6 3.574 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.575 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.592 Selecting previously unselected package node-cjs-module-lexer.
#6 3.593 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.594 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.603 Selecting previously unselected package node-busboy.
#6 3.604 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.605 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.615 Selecting previously unselected package node-undici.
#6 3.616 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.618 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.641 Selecting previously unselected package libnode108:arm64.
#6 3.642 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.643 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.937 Selecting previously unselected package nodejs-doc.
#6 3.938 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.939 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.066 Selecting previously unselected package postgresql-client-common.
#6 4.067 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.068 Unpacking postgresql-client-common (248) ...
#6 4.078 Selecting previously unselected package postgresql-client-15.
#6 4.079 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.080 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.166 Selecting previously unselected package postgresql-client.
#6 4.167 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.168 Unpacking postgresql-client (15+248) ...
#6 4.179 Setting up postgresql-client-common (248) ...
#6 4.183 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.321 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.334 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.336 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.339 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.341 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.343 Setting up node-xtend (4.0.2-3) ...
#6 4.345 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.347 Setting up postgresql-client (15+248) ...
#6 4.350 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.354 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.356 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.358 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.361 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.363 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/4] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/4] COPY .env.dev .env
#8 DONE 0.0s

#9 [web] exporting to image
#9 exporting layers 0.1s done
#9 writing image sha256:8f066f24791412e71eb1d51660d9b5b442995772732b5020ac895329683a1a62 done
#9 naming to docker.io/library/spina-app-web done
#9 DONE 0.1s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web internal] load build context
#4 transferring context: 763B done
#4 DONE 0.0s

#5 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#5 resolve docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa done
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 0B / 23.59MB 0.1s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 0B / 64.00MB 0.1s
#5 sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa 10.31kB / 10.31kB done
#5 sha256:32db650edd885f16f97b1a9820b3072821b9937135c2df0481d9f68315661e36 2.32kB / 2.32kB done
#5 sha256:4b3e67cb3c33061c807016882ca84fdc31086257045f0ead69876d7f267b1b57 7.01kB / 7.01kB done
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 0B / 49.59MB 0.1s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 3.15MB / 49.59MB 0.4s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 6.29MB / 49.59MB 0.6s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 4.19MB / 64.00MB 0.8s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 9.44MB / 49.59MB 0.9s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 3.15MB / 23.59MB 1.1s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 9.44MB / 64.00MB 1.1s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 12.58MB / 49.59MB 1.2s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 6.29MB / 23.59MB 1.4s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 13.63MB / 64.00MB 1.4s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 9.44MB / 23.59MB 1.6s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 17.83MB / 49.59MB 1.6s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 11.53MB / 23.59MB 1.8s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 18.87MB / 64.00MB 1.8s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 20.97MB / 49.59MB 1.9s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 13.63MB / 23.59MB 2.0s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 23.07MB / 64.00MB 2.2s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 16.78MB / 23.59MB 2.4s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 26.21MB / 49.59MB 2.4s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 18.87MB / 23.59MB 2.6s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 28.31MB / 64.00MB 2.6s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 22.02MB / 23.59MB 2.8s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 30.41MB / 49.59MB 2.8s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 23.59MB / 23.59MB 2.9s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 32.51MB / 64.00MB 2.9s
#5 sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 23.59MB / 23.59MB 2.9s done
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 0B / 202.65MB 3.0s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 37.75MB / 64.00MB 3.2s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 35.65MB / 49.59MB 3.2s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 40.89MB / 49.59MB 3.6s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 41.94MB / 64.00MB 3.7s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 44.42MB / 49.59MB 3.9s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 46.14MB / 64.00MB 4.0s
#5 sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 49.59MB / 49.59MB 4.4s done
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 12.58MB / 202.65MB 4.4s
#5 sha256:1d13fb13a9b4ed31a0872f02bbaf262250bb69b97bdc12eb0c7df884f110fc7a 0B / 198B 4.4s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 50.33MB / 64.00MB 4.5s
#5 extracting sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39
#5 sha256:1d13fb13a9b4ed31a0872f02bbaf262250bb69b97bdc12eb0c7df884f110fc7a 198B / 198B 4.6s
#5 sha256:1d13fb13a9b4ed31a0872f02bbaf262250bb69b97bdc12eb0c7df884f110fc7a 198B / 198B 4.6s done
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 0B / 38.06MB 4.7s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 54.53MB / 64.00MB 4.9s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 2.10MB / 38.06MB 5.0s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 24.12MB / 202.65MB 5.1s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 59.77MB / 64.00MB 5.4s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 5.24MB / 38.06MB 5.4s
#5 extracting sha256:56c9b9253ff98351db158cb6789848656b8d54f411c0037347bf2358efb18f39 1.2s done
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 7.34MB / 38.06MB 5.6s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 34.60MB / 202.65MB 5.7s
#5 extracting sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 0.1s
#5 sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 64.00MB / 64.00MB 5.8s done
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 9.44MB / 38.06MB 5.8s
#5 sha256:356f6106f26a9c86f1494bc7316b06cea1a8da95f6c4e076462e82de4145ae92 0B / 142B 5.8s
#5 extracting sha256:364d19f59f69474a80c53fc78da91f85553e16e8ba6a28063cbebf259821119e 0.3s done
#5 extracting sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 11.53MB / 38.06MB 6.0s
#5 sha256:356f6106f26a9c86f1494bc7316b06cea1a8da95f6c4e076462e82de4145ae92 142B / 142B 6.0s done
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 45.09MB / 202.65MB 6.1s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 13.63MB / 38.06MB 6.2s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 16.78MB / 38.06MB 6.5s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 57.67MB / 202.65MB 6.6s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 18.87MB / 38.06MB 6.7s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 20.97MB / 38.06MB 6.9s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 24.12MB / 38.06MB 7.1s
#5 extracting sha256:843b1d8321825bc8302752ae003026f13bd15c6eef2efe032f3ca1520c5bbc07 1.3s done
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 73.40MB / 202.65MB 7.4s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 28.31MB / 38.06MB 7.4s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 33.55MB / 38.06MB 7.7s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 35.65MB / 38.06MB 7.8s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 37.75MB / 38.06MB 7.9s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 83.89MB / 202.65MB 8.1s
#5 sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 38.06MB / 38.06MB 7.9s done
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 96.47MB / 202.65MB 8.8s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 108.00MB / 202.65MB 9.2s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 122.68MB / 202.65MB 9.6s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 140.51MB / 202.65MB 10.1s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 153.09MB / 202.65MB 10.4s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 163.58MB / 202.65MB 10.7s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 180.36MB / 202.65MB 11.2s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 191.89MB / 202.65MB 11.9s
#5 sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 202.65MB / 202.65MB 12.7s done
#5 extracting sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 0.1s
#5 extracting sha256:a348c2a8d94613f34ce7d0ac4fd4e51800d8f4aa8a0bc9347fe5c8436b4c3bd5 3.2s done
#5 extracting sha256:1d13fb13a9b4ed31a0872f02bbaf262250bb69b97bdc12eb0c7df884f110fc7a
#5 extracting sha256:1d13fb13a9b4ed31a0872f02bbaf262250bb69b97bdc12eb0c7df884f110fc7a done
#5 extracting sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 0.1s
#5 extracting sha256:85c0eb4e2b5cb70b6aae7120a12ce84cda9b0e2a62b5fa79193f1b18bef44e5f 0.5s done
#5 extracting sha256:356f6106f26a9c86f1494bc7316b06cea1a8da95f6c4e076462e82de4145ae92 done
#5 DONE 16.7s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.848 Reading package lists...
#6 2.061 Building dependency tree...
#6 2.116 Reading state information...
#6 2.182 The following additional packages will be installed:
#6 2.182   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.182   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.182   postgresql-client-common
#6 2.183 Suggested packages:
#6 2.183   npm postgresql-15 postgresql-doc-15
#6 2.220 The following NEW packages will be installed:
#6 2.220   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.220   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.220   postgresql-client-15 postgresql-client-common
#6 2.351 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.351 Need to get 15.8 MB of archives.
#6 2.351 After this operation, 75.5 MB of additional disk space will be used.
#6 2.351 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.489 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.552 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.552 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.619 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.631 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.633 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.634 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.672 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.079 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.248 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.249 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.326 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.434 debconf: delaying package configuration, since apt-utils is not installed
#6 3.443 Fetched 15.8 MB in 1s (14.3 MB/s)
#6 3.451 Selecting previously unselected package libc-ares2:arm64.
#6 3.451 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.458 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.459 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.472 Selecting previously unselected package libuv1:arm64.
#6 3.473 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.474 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.487 Selecting previously unselected package node-xtend.
#6 3.488 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.489 Unpacking node-xtend (4.0.2-3) ...
#6 3.497 Selecting previously unselected package nodejs.
#6 3.498 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.499 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.528 Selecting previously unselected package node-acorn.
#6 3.530 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.531 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.546 Selecting previously unselected package node-cjs-module-lexer.
#6 3.547 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.548 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.557 Selecting previously unselected package node-busboy.
#6 3.558 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.559 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.568 Selecting previously unselected package node-undici.
#6 3.570 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.572 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.593 Selecting previously unselected package libnode108:arm64.
#6 3.594 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.595 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.890 Selecting previously unselected package nodejs-doc.
#6 3.892 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.892 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.021 Selecting previously unselected package postgresql-client-common.
#6 4.022 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.023 Unpacking postgresql-client-common (248) ...
#6 4.033 Selecting previously unselected package postgresql-client-15.
#6 4.034 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.035 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.117 Selecting previously unselected package postgresql-client.
#6 4.119 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.120 Unpacking postgresql-client (15+248) ...
#6 4.131 Setting up postgresql-client-common (248) ...
#6 4.135 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.270 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.280 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.282 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.285 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.287 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.290 Setting up node-xtend (4.0.2-3) ...
#6 4.292 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.295 Setting up postgresql-client (15+248) ...
#6 4.297 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.301 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.303 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.305 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.308 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.309 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.69 Successfully installed bundler-2.5.18
#9 12.69 Successfully installed zeitwerk-2.6.18
#9 12.69 Successfully installed thor-1.3.2
#9 12.69 Successfully installed webrick-1.8.1
#9 12.69 Successfully installed rack-3.1.7
#9 12.69 Successfully installed rackup-2.1.0
#9 12.69 Successfully installed concurrent-ruby-1.3.4
#9 12.69 Successfully installed tzinfo-2.0.6
#9 12.69 Successfully installed i18n-1.14.5
#9 12.69 Successfully installed connection_pool-2.4.1
#9 12.69 Successfully installed activesupport-7.2.1
#9 12.69 Successfully installed useragent-0.16.10
#9 12.69 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.69 Successfully installed crass-1.0.6
#9 12.69 Successfully installed loofah-2.22.0
#9 12.69 Successfully installed rails-html-sanitizer-1.6.0
#9 12.69 Successfully installed rails-dom-testing-2.2.0
#9 12.69 Successfully installed rack-test-2.1.0
#9 12.69 Successfully installed rack-session-2.0.0
#9 12.69 Successfully installed erubi-1.13.0
#9 12.69 Successfully installed builder-3.3.0
#9 12.69 Successfully installed actionview-7.2.1
#9 12.69 Successfully installed actionpack-7.2.1
#9 12.69 Successfully installed railties-7.2.1
#9 12.69 Successfully installed marcel-1.0.4
#9 12.69 Successfully installed activemodel-7.2.1
#9 12.69 Successfully installed activerecord-7.2.1
#9 12.69 Successfully installed globalid-1.2.1
#9 12.69 Successfully installed activejob-7.2.1
#9 12.69 Successfully installed activestorage-7.2.1
#9 12.69 Successfully installed actiontext-7.2.1
#9 12.69 Successfully installed mini_mime-1.1.5
#9 12.69 Successfully installed mail-2.8.1
#9 12.69 Successfully installed actionmailer-7.2.1
#9 12.69 Successfully installed actionmailbox-7.2.1
#9 12.69 Successfully installed websocket-extensions-0.1.5
#9 12.69 Building native extensions. This could take a while...
#9 12.81 Successfully installed websocket-driver-0.7.6
#9 12.81 Building native extensions. This could take a while...
#9 14.36 Successfully installed nio4r-2.7.3
#9 14.36 Successfully installed actioncable-7.2.1
#9 14.36 Successfully installed rails-7.2.1
#9 14.36 40 gems installed
#9 DONE 14.4s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.3s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:cd93a5e6ea32a0b716a616830fc2c8b01901329ad4dc2f8f0f86b0e602aa49bc
#12 writing image sha256:cd93a5e6ea32a0b716a616830fc2c8b01901329ad4dc2f8f0f86b0e602aa49bc done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 db Pulling 
 92c3b3500be6 Pulling fs layer 
 b660189dd276 Pulling fs layer 
 fb679f354328 Pulling fs layer 
 ad02a42a2878 Pulling fs layer 
 c0d0f50cfb10 Pulling fs layer 
 deb116a8fa5a Pulling fs layer 
 171219159bda Pulling fs layer 
 f6bfe07d8fb4 Pulling fs layer 
 80bcae7f8752 Pulling fs layer 
 293d2b57a669 Pulling fs layer 
 b69fc66923de Pulling fs layer 
 3cc2b9a53ff3 Pulling fs layer 
 825ddd511187 Pulling fs layer 
 7d6d378a0a89 Pulling fs layer 
 80bcae7f8752 Waiting 
 293d2b57a669 Waiting 
 b69fc66923de Waiting 
 3cc2b9a53ff3 Waiting 
 825ddd511187 Waiting 
 7d6d378a0a89 Waiting 
 ad02a42a2878 Waiting 
 c0d0f50cfb10 Waiting 
 deb116a8fa5a Waiting 
 171219159bda Waiting 
 f6bfe07d8fb4 Waiting 
 b660189dd276 Downloading [==============================>                    ]     721B/1.163kB
 b660189dd276 Downloading [==================================================>]  1.163kB/1.163kB
 b660189dd276 Download complete 
 fb679f354328 Downloading [>                                                  ]  45.67kB/4.499MB
 92c3b3500be6 Downloading [>                                                  ]  294.9kB/29.16MB
 fb679f354328 Downloading [==============>                                    ]  1.284MB/4.499MB
 92c3b3500be6 Downloading [===>                                               ]  2.063MB/29.16MB
 fb679f354328 Downloading [============================================>      ]  3.988MB/4.499MB
 fb679f354328 Download complete 
 92c3b3500be6 Downloading [=========>                                         ]  5.618MB/29.16MB
 92c3b3500be6 Downloading [==============>                                    ]  8.317MB/29.16MB
 ad02a42a2878 Downloading [>                                                  ]  14.27kB/1.379MB
 92c3b3500be6 Downloading [=================>                                 ]  10.11MB/29.16MB
 ad02a42a2878 Downloading [================================>                  ]    884kB/1.379MB
 92c3b3500be6 Downloading [===================>                               ]   11.6MB/29.16MB
 ad02a42a2878 Verifying Checksum 
 ad02a42a2878 Download complete 
 92c3b3500be6 Downloading [==========================>                        ]  15.48MB/29.16MB
 92c3b3500be6 Downloading [==================================>                ]  20.25MB/29.16MB
 c0d0f50cfb10 Downloading [>                                                  ]  81.55kB/8.066MB
 c0d0f50cfb10 Downloading [=======>                                           ]  1.162MB/8.066MB
 92c3b3500be6 Downloading [======================================>            ]  22.34MB/29.16MB
 92c3b3500be6 Downloading [=======================================>           ]  22.93MB/29.16MB
 c0d0f50cfb10 Downloading [=============>                                     ]  2.146MB/8.066MB
 c0d0f50cfb10 Downloading [===========================>                       ]  4.471MB/8.066MB
 92c3b3500be6 Downloading [==============================================>    ]  27.13MB/29.16MB
 92c3b3500be6 Verifying Checksum 
 92c3b3500be6 Download complete 
 92c3b3500be6 Extracting [>                                                  ]  294.9kB/29.16MB
 c0d0f50cfb10 Downloading [====================================>              ]   5.88MB/8.066MB
 92c3b3500be6 Extracting [=============>                                     ]  7.963MB/29.16MB
 92c3b3500be6 Extracting [====================>                              ]  12.09MB/29.16MB
 c0d0f50cfb10 Downloading [=============================================>     ]  7.367MB/8.066MB
 c0d0f50cfb10 Verifying Checksum 
 c0d0f50cfb10 Download complete 
 92c3b3500be6 Extracting [======================================>            ]  22.41MB/29.16MB
 92c3b3500be6 Extracting [=========================================>         ]  24.18MB/29.16MB
 171219159bda Downloading [==================================================>]     116B/116B
 171219159bda Verifying Checksum 
 171219159bda Download complete 
 92c3b3500be6 Extracting [================================================>  ]  28.02MB/29.16MB
 92c3b3500be6 Extracting [================================================>  ]  28.31MB/29.16MB
 deb116a8fa5a Downloading [>                                                  ]  11.54kB/1.109MB
 f6bfe07d8fb4 Downloading [===========>                                       ]     720B/3.143kB
 f6bfe07d8fb4 Downloading [==================================================>]  3.143kB/3.143kB
 f6bfe07d8fb4 Verifying Checksum 
 f6bfe07d8fb4 Download complete 
 deb116a8fa5a Downloading [==================================================>]  1.109MB/1.109MB
 deb116a8fa5a Verifying Checksum 
 deb116a8fa5a Download complete 
 92c3b3500be6 Extracting [==================================================>]  29.16MB/29.16MB
 92c3b3500be6 Pull complete 
 b660189dd276 Extracting [==================================================>]  1.163kB/1.163kB
 b660189dd276 Extracting [==================================================>]  1.163kB/1.163kB
 b660189dd276 Pull complete 
 fb679f354328 Extracting [>                                                  ]  65.54kB/4.499MB
 fb679f354328 Extracting [==================================================>]  4.499MB/4.499MB
 fb679f354328 Pull complete 
 ad02a42a2878 Extracting [=>                                                 ]  32.77kB/1.379MB
 ad02a42a2878 Extracting [==================================================>]  1.379MB/1.379MB
 ad02a42a2878 Pull complete 
 c0d0f50cfb10 Extracting [>                                                  ]   98.3kB/8.066MB
 c0d0f50cfb10 Extracting [===============================>                   ]  5.112MB/8.066MB
 80bcae7f8752 Downloading [>                                                  ]  527.6kB/107.4MB
 c0d0f50cfb10 Extracting [==================================================>]  8.066MB/8.066MB
 c0d0f50cfb10 Pull complete 
 deb116a8fa5a Extracting [=>                                                 ]  32.77kB/1.109MB
 deb116a8fa5a Extracting [==================================================>]  1.109MB/1.109MB
 deb116a8fa5a Extracting [==================================================>]  1.109MB/1.109MB
 80bcae7f8752 Downloading [=>                                                 ]  3.726MB/107.4MB
 deb116a8fa5a Pull complete 
 171219159bda Extracting [==================================================>]     116B/116B
 171219159bda Extracting [==================================================>]     116B/116B
 171219159bda Pull complete 
 f6bfe07d8fb4 Extracting [==================================================>]  3.143kB/3.143kB
 f6bfe07d8fb4 Extracting [==================================================>]  3.143kB/3.143kB
 f6bfe07d8fb4 Pull complete 
 293d2b57a669 Downloading [======>                                            ]  1.369kB/9.923kB
 293d2b57a669 Downloading [==================================================>]  9.923kB/9.923kB
 293d2b57a669 Verifying Checksum 
 293d2b57a669 Download complete 
 b69fc66923de Downloading [==================================================>]     128B/128B
 b69fc66923de Verifying Checksum 
 b69fc66923de Download complete 
 80bcae7f8752 Downloading [====>                                              ]  9.628MB/107.4MB
 80bcae7f8752 Downloading [======>                                            ]  15.01MB/107.4MB
 80bcae7f8752 Downloading [========>                                          ]  19.29MB/107.4MB
 80bcae7f8752 Downloading [===========>                                       ]  24.14MB/107.4MB
 825ddd511187 Downloading [======>                                            ]     720B/5.42kB
 825ddd511187 Downloading [==================================================>]   5.42kB/5.42kB
 825ddd511187 Verifying Checksum 
 825ddd511187 Download complete 
 3cc2b9a53ff3 Downloading [==================================================>]     167B/167B
 3cc2b9a53ff3 Verifying Checksum 
 3cc2b9a53ff3 Download complete 
 80bcae7f8752 Downloading [============>                                      ]  26.82MB/107.4MB
 80bcae7f8752 Downloading [==============>                                    ]  30.57MB/107.4MB
 80bcae7f8752 Downloading [================>                                  ]  34.89MB/107.4MB
 80bcae7f8752 Downloading [==================>                                ]  39.18MB/107.4MB
 80bcae7f8752 Downloading [====================>                              ]  43.47MB/107.4MB
 7d6d378a0a89 Downloading [==================================================>]     184B/184B
 7d6d378a0a89 Verifying Checksum 
 7d6d378a0a89 Download complete 
 80bcae7f8752 Downloading [=====================>                             ]  45.62MB/107.4MB
 80bcae7f8752 Downloading [======================>                            ]   48.3MB/107.4MB
 80bcae7f8752 Downloading [=======================>                           ]  49.91MB/107.4MB
 80bcae7f8752 Downloading [=======================>                           ]  50.98MB/107.4MB
 80bcae7f8752 Downloading [=========================>                         ]  54.73MB/107.4MB
 80bcae7f8752 Downloading [==========================>                        ]  56.36MB/107.4MB
 80bcae7f8752 Downloading [============================>                      ]  62.26MB/107.4MB
 80bcae7f8752 Downloading [=============================>                     ]   64.4MB/107.4MB
 80bcae7f8752 Downloading [===============================>                   ]  68.16MB/107.4MB
 80bcae7f8752 Downloading [================================>                  ]  69.22MB/107.4MB
 80bcae7f8752 Downloading [=================================>                 ]  71.89MB/107.4MB
 80bcae7f8752 Downloading [==================================>                ]  74.57MB/107.4MB
 80bcae7f8752 Downloading [====================================>              ]  78.85MB/107.4MB
 80bcae7f8752 Downloading [=====================================>             ]  81.55MB/107.4MB
 80bcae7f8752 Downloading [======================================>            ]  82.64MB/107.4MB
 80bcae7f8752 Downloading [========================================>          ]  87.98MB/107.4MB
 80bcae7f8752 Downloading [=========================================>         ]  89.59MB/107.4MB
 80bcae7f8752 Downloading [==========================================>        ]  92.26MB/107.4MB
 80bcae7f8752 Downloading [==============================================>    ]  99.74MB/107.4MB
 80bcae7f8752 Downloading [================================================>  ]  104.6MB/107.4MB
 80bcae7f8752 Verifying Checksum 
 80bcae7f8752 Download complete 
 80bcae7f8752 Extracting [>                                                  ]  557.1kB/107.4MB
 80bcae7f8752 Extracting [=====>                                             ]   11.7MB/107.4MB
 80bcae7f8752 Extracting [===========>                                       ]  25.62MB/107.4MB
 80bcae7f8752 Extracting [===============>                                   ]  32.31MB/107.4MB
 80bcae7f8752 Extracting [===================>                               ]  42.89MB/107.4MB
 80bcae7f8752 Extracting [=========================>                         ]  55.71MB/107.4MB
 80bcae7f8752 Extracting [===============================>                   ]   67.4MB/107.4MB
 80bcae7f8752 Extracting [=================================>                 ]  72.42MB/107.4MB
 80bcae7f8752 Extracting [=====================================>             ]  80.77MB/107.4MB
 80bcae7f8752 Extracting [========================================>          ]  88.01MB/107.4MB
 80bcae7f8752 Extracting [============================================>      ]  95.26MB/107.4MB
 80bcae7f8752 Extracting [==============================================>    ]  100.3MB/107.4MB
 80bcae7f8752 Extracting [================================================>  ]  103.6MB/107.4MB
 80bcae7f8752 Extracting [=================================================> ]  105.8MB/107.4MB
 80bcae7f8752 Extracting [==================================================>]  107.4MB/107.4MB
 80bcae7f8752 Pull complete 
 293d2b57a669 Extracting [==================================================>]  9.923kB/9.923kB
 293d2b57a669 Extracting [==================================================>]  9.923kB/9.923kB
 293d2b57a669 Pull complete 
 b69fc66923de Extracting [==================================================>]     128B/128B
 b69fc66923de Extracting [==================================================>]     128B/128B
 b69fc66923de Pull complete 
 3cc2b9a53ff3 Extracting [==================================================>]     167B/167B
 3cc2b9a53ff3 Extracting [==================================================>]     167B/167B
 3cc2b9a53ff3 Pull complete 
 825ddd511187 Extracting [==================================================>]   5.42kB/5.42kB
 825ddd511187 Extracting [==================================================>]   5.42kB/5.42kB
 825ddd511187 Pull complete 
 7d6d378a0a89 Extracting [==================================================>]     184B/184B
 7d6d378a0a89 Extracting [==================================================>]     184B/184B
 7d6d378a0a89 Pull complete 
 db Pulled 
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 581B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/6] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 526B done
#5 DONE 0.0s

#6 [web 2/6] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.935 Reading package lists...
#6 2.142 Building dependency tree...
#6 2.202 Reading state information...
#6 2.266 The following additional packages will be installed:
#6 2.266   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.266   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.267   postgresql-client-common
#6 2.267 Suggested packages:
#6 2.267   npm postgresql-15 postgresql-doc-15
#6 2.305 The following NEW packages will be installed:
#6 2.305   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.305   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.305   postgresql-client-15 postgresql-client-common
#6 2.433 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.433 Need to get 15.8 MB of archives.
#6 2.433 After this operation, 75.5 MB of additional disk space will be used.
#6 2.433 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.572 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.600 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.601 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.700 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.711 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.711 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.713 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.758 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.284 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.344 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.344 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.476 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.584 debconf: delaying package configuration, since apt-utils is not installed
#6 3.600 Fetched 15.8 MB in 1s (13.5 MB/s)
#6 3.611 Selecting previously unselected package libc-ares2:arm64.
#6 3.611 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.622 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.625 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.639 Selecting previously unselected package libuv1:arm64.
#6 3.640 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.641 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.656 Selecting previously unselected package node-xtend.
#6 3.657 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.658 Unpacking node-xtend (4.0.2-3) ...
#6 3.666 Selecting previously unselected package nodejs.
#6 3.667 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.668 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.700 Selecting previously unselected package node-acorn.
#6 3.701 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.702 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.718 Selecting previously unselected package node-cjs-module-lexer.
#6 3.719 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.720 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.729 Selecting previously unselected package node-busboy.
#6 3.730 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.731 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.743 Selecting previously unselected package node-undici.
#6 3.744 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.746 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.770 Selecting previously unselected package libnode108:arm64.
#6 3.771 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.772 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.065 Selecting previously unselected package nodejs-doc.
#6 4.066 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.067 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.197 Selecting previously unselected package postgresql-client-common.
#6 4.198 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.199 Unpacking postgresql-client-common (248) ...
#6 4.212 Selecting previously unselected package postgresql-client-15.
#6 4.213 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.214 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.300 Selecting previously unselected package postgresql-client.
#6 4.301 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.302 Unpacking postgresql-client (15+248) ...
#6 4.316 Setting up postgresql-client-common (248) ...
#6 4.321 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.459 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.469 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.473 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.475 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.479 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.482 Setting up node-xtend (4.0.2-3) ...
#6 4.484 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.487 Setting up postgresql-client (15+248) ...
#6 4.491 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.495 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.499 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.502 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.505 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.507 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/6] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/6] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/6] COPY setup.sh /app/setup.sh
#9 DONE 0.0s

#10 [web 6/6] RUN chmod +x /app/setup.sh
#10 DONE 0.1s

#11 [web] exporting to image
#11 exporting layers
#11 exporting layers 0.2s done
#11 writing image sha256:9dcc5070db58a34e6d0ece44e41372cd951ce254fa15a06fac851ccd39920255
#11 writing image sha256:9dcc5070db58a34e6d0ece44e41372cd951ce254fa15a06fac851ccd39920255 done
#11 naming to docker.io/library/spina-app-web done
#11 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 641B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.832 Reading package lists...
#6 2.041 Building dependency tree...
#6 2.094 Reading state information...
#6 2.160 The following additional packages will be installed:
#6 2.160   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.160   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.160   postgresql-client-common
#6 2.161 Suggested packages:
#6 2.161   npm postgresql-15 postgresql-doc-15
#6 2.199 The following NEW packages will be installed:
#6 2.199   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.199   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.199   postgresql-client-15 postgresql-client-common
#6 2.395 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.395 Need to get 15.8 MB of archives.
#6 2.395 After this operation, 75.5 MB of additional disk space will be used.
#6 2.395 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.538 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.563 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.565 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.671 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.679 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.682 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.684 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.726 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.265 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.422 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.422 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.503 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.615 debconf: delaying package configuration, since apt-utils is not installed
#6 3.625 Fetched 15.8 MB in 1s (12.2 MB/s)
#6 3.633 Selecting previously unselected package libc-ares2:arm64.
#6 3.633 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.642 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.644 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.657 Selecting previously unselected package libuv1:arm64.
#6 3.658 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.659 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.672 Selecting previously unselected package node-xtend.
#6 3.672 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.673 Unpacking node-xtend (4.0.2-3) ...
#6 3.681 Selecting previously unselected package nodejs.
#6 3.682 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.683 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.714 Selecting previously unselected package node-acorn.
#6 3.715 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.715 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.732 Selecting previously unselected package node-cjs-module-lexer.
#6 3.733 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.734 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.742 Selecting previously unselected package node-busboy.
#6 3.743 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.744 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.754 Selecting previously unselected package node-undici.
#6 3.755 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.757 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.780 Selecting previously unselected package libnode108:arm64.
#6 3.781 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.781 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.072 Selecting previously unselected package nodejs-doc.
#6 4.073 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.074 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.202 Selecting previously unselected package postgresql-client-common.
#6 4.203 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.204 Unpacking postgresql-client-common (248) ...
#6 4.215 Selecting previously unselected package postgresql-client-15.
#6 4.216 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.216 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.303 Selecting previously unselected package postgresql-client.
#6 4.305 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.305 Unpacking postgresql-client (15+248) ...
#6 4.317 Setting up postgresql-client-common (248) ...
#6 4.321 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.459 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.471 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.473 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.476 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.478 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.480 Setting up node-xtend (4.0.2-3) ...
#6 4.483 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.485 Setting up postgresql-client (15+248) ...
#6 4.487 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.491 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.493 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.495 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.498 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.500 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.98 Successfully installed bundler-2.5.18
#9 12.98 Successfully installed zeitwerk-2.6.18
#9 12.98 Successfully installed thor-1.3.2
#9 12.98 Successfully installed webrick-1.8.1
#9 12.98 Successfully installed rack-3.1.7
#9 12.98 Successfully installed rackup-2.1.0
#9 12.98 Successfully installed concurrent-ruby-1.3.4
#9 12.98 Successfully installed tzinfo-2.0.6
#9 12.98 Successfully installed i18n-1.14.5
#9 12.98 Successfully installed connection_pool-2.4.1
#9 12.98 Successfully installed activesupport-7.2.1
#9 12.98 Successfully installed useragent-0.16.10
#9 12.98 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.98 Successfully installed crass-1.0.6
#9 12.98 Successfully installed loofah-2.22.0
#9 12.98 Successfully installed rails-html-sanitizer-1.6.0
#9 12.98 Successfully installed rails-dom-testing-2.2.0
#9 12.98 Successfully installed rack-test-2.1.0
#9 12.98 Successfully installed rack-session-2.0.0
#9 12.98 Successfully installed erubi-1.13.0
#9 12.98 Successfully installed builder-3.3.0
#9 12.98 Successfully installed actionview-7.2.1
#9 12.98 Successfully installed actionpack-7.2.1
#9 12.98 Successfully installed railties-7.2.1
#9 12.98 Successfully installed marcel-1.0.4
#9 12.98 Successfully installed activemodel-7.2.1
#9 12.98 Successfully installed activerecord-7.2.1
#9 12.98 Successfully installed globalid-1.2.1
#9 12.98 Successfully installed activejob-7.2.1
#9 12.98 Successfully installed activestorage-7.2.1
#9 12.98 Successfully installed actiontext-7.2.1
#9 12.98 Successfully installed mini_mime-1.1.5
#9 12.98 Successfully installed mail-2.8.1
#9 12.98 Successfully installed actionmailer-7.2.1
#9 12.98 Successfully installed actionmailbox-7.2.1
#9 12.98 Successfully installed websocket-extensions-0.1.5
#9 12.98 Building native extensions. This could take a while...
#9 13.12 Successfully installed websocket-driver-0.7.6
#9 13.12 Building native extensions. This could take a while...
#9 14.67 Successfully installed nio4r-2.7.3
#9 14.67 Successfully installed actioncable-7.2.1
#9 14.67 Successfully installed rails-7.2.1
#9 14.67 40 gems installed
#9 DONE 14.7s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:fc087fdb4a4b4b051e11a3b6584b65b812fe66d391f205c57284df4d65fb47db
#12 writing image sha256:fc087fdb4a4b4b051e11a3b6584b65b812fe66d391f205c57284df4d65fb47db done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Created
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Usage: ./run.sh [dev|prod]
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 513B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 2.018 Reading package lists...
#6 2.219 Building dependency tree...
#6 2.275 Reading state information...
#6 2.337 The following additional packages will be installed:
#6 2.338   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.338   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.338   postgresql-client-common
#6 2.338 Suggested packages:
#6 2.338   npm postgresql-15 postgresql-doc-15
#6 2.375 The following NEW packages will be installed:
#6 2.375   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.375   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.375   postgresql-client-15 postgresql-client-common
#6 2.504 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.504 Need to get 15.8 MB of archives.
#6 2.504 After this operation, 75.5 MB of additional disk space will be used.
#6 2.504 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.646 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.706 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.706 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.774 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.784 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.787 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.789 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.827 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.212 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.320 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.320 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.362 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.464 debconf: delaying package configuration, since apt-utils is not installed
#6 3.474 Fetched 15.8 MB in 1s (16.1 MB/s)
#6 3.483 Selecting previously unselected package libc-ares2:arm64.
#6 3.483 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.494 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.496 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.509 Selecting previously unselected package libuv1:arm64.
#6 3.510 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.511 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.524 Selecting previously unselected package node-xtend.
#6 3.525 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.525 Unpacking node-xtend (4.0.2-3) ...
#6 3.534 Selecting previously unselected package nodejs.
#6 3.535 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.535 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.568 Selecting previously unselected package node-acorn.
#6 3.569 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.570 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.586 Selecting previously unselected package node-cjs-module-lexer.
#6 3.587 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.588 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.597 Selecting previously unselected package node-busboy.
#6 3.598 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.599 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.609 Selecting previously unselected package node-undici.
#6 3.610 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.612 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.635 Selecting previously unselected package libnode108:arm64.
#6 3.636 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.637 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.927 Selecting previously unselected package nodejs-doc.
#6 3.928 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.929 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.059 Selecting previously unselected package postgresql-client-common.
#6 4.061 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.061 Unpacking postgresql-client-common (248) ...
#6 4.072 Selecting previously unselected package postgresql-client-15.
#6 4.073 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.074 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.158 Selecting previously unselected package postgresql-client.
#6 4.159 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.160 Unpacking postgresql-client (15+248) ...
#6 4.172 Setting up postgresql-client-common (248) ...
#6 4.176 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.315 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.327 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.329 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.331 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.334 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.336 Setting up node-xtend (4.0.2-3) ...
#6 4.338 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.340 Setting up postgresql-client (15+248) ...
#6 4.342 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.347 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.349 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.352 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.354 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.356 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.67 Successfully installed bundler-2.5.18
#9 12.67 Successfully installed zeitwerk-2.6.18
#9 12.67 Successfully installed thor-1.3.2
#9 12.67 Successfully installed webrick-1.8.1
#9 12.67 Successfully installed rack-3.1.7
#9 12.67 Successfully installed rackup-2.1.0
#9 12.67 Successfully installed concurrent-ruby-1.3.4
#9 12.67 Successfully installed tzinfo-2.0.6
#9 12.67 Successfully installed i18n-1.14.5
#9 12.67 Successfully installed connection_pool-2.4.1
#9 12.67 Successfully installed activesupport-7.2.1
#9 12.67 Successfully installed useragent-0.16.10
#9 12.67 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.67 Successfully installed crass-1.0.6
#9 12.67 Successfully installed loofah-2.22.0
#9 12.67 Successfully installed rails-html-sanitizer-1.6.0
#9 12.67 Successfully installed rails-dom-testing-2.2.0
#9 12.67 Successfully installed rack-test-2.1.0
#9 12.67 Successfully installed rack-session-2.0.0
#9 12.67 Successfully installed erubi-1.13.0
#9 12.67 Successfully installed builder-3.3.0
#9 12.67 Successfully installed actionview-7.2.1
#9 12.67 Successfully installed actionpack-7.2.1
#9 12.67 Successfully installed railties-7.2.1
#9 12.67 Successfully installed marcel-1.0.4
#9 12.67 Successfully installed activemodel-7.2.1
#9 12.67 Successfully installed activerecord-7.2.1
#9 12.67 Successfully installed globalid-1.2.1
#9 12.67 Successfully installed activejob-7.2.1
#9 12.67 Successfully installed activestorage-7.2.1
#9 12.67 Successfully installed actiontext-7.2.1
#9 12.67 Successfully installed mini_mime-1.1.5
#9 12.67 Successfully installed mail-2.8.1
#9 12.67 Successfully installed actionmailer-7.2.1
#9 12.67 Successfully installed actionmailbox-7.2.1
#9 12.67 Successfully installed websocket-extensions-0.1.5
#9 12.67 Building native extensions. This could take a while...
#9 12.80 Successfully installed websocket-driver-0.7.6
#9 12.80 Building native extensions. This could take a while...
#9 14.30 Successfully installed nio4r-2.7.3
#9 14.30 Successfully installed actioncable-7.2.1
#9 14.30 Successfully installed rails-7.2.1
#9 14.30 40 gems installed
#9 DONE 14.3s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:3bc53bbc7f122a14769a4f5b1580b9c8403bcb5b52ff817f83d0b8b166c5d7c6 done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.932 Reading package lists...
#6 2.132 Building dependency tree...
#6 2.185 Reading state information...
#6 2.248 The following additional packages will be installed:
#6 2.249   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.249   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.249   postgresql-client-common
#6 2.249 Suggested packages:
#6 2.249   npm postgresql-15 postgresql-doc-15
#6 2.286 The following NEW packages will be installed:
#6 2.286   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.286   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.286   postgresql-client-15 postgresql-client-common
#6 2.416 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.416 Need to get 15.8 MB of archives.
#6 2.416 After this operation, 75.5 MB of additional disk space will be used.
#6 2.416 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.556 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.617 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.619 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.686 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.698 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.699 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.701 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.741 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.205 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.302 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.302 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.332 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.432 debconf: delaying package configuration, since apt-utils is not installed
#6 3.442 Fetched 15.8 MB in 1s (15.2 MB/s)
#6 3.451 Selecting previously unselected package libc-ares2:arm64.
#6 3.451 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.461 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.463 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.476 Selecting previously unselected package libuv1:arm64.
#6 3.477 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.478 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.490 Selecting previously unselected package node-xtend.
#6 3.491 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.492 Unpacking node-xtend (4.0.2-3) ...
#6 3.500 Selecting previously unselected package nodejs.
#6 3.501 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.502 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.533 Selecting previously unselected package node-acorn.
#6 3.534 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.535 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.552 Selecting previously unselected package node-cjs-module-lexer.
#6 3.553 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.554 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.562 Selecting previously unselected package node-busboy.
#6 3.563 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.564 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.575 Selecting previously unselected package node-undici.
#6 3.575 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.578 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.600 Selecting previously unselected package libnode108:arm64.
#6 3.601 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.602 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.893 Selecting previously unselected package nodejs-doc.
#6 3.894 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.894 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.022 Selecting previously unselected package postgresql-client-common.
#6 4.023 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.024 Unpacking postgresql-client-common (248) ...
#6 4.034 Selecting previously unselected package postgresql-client-15.
#6 4.035 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.036 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.121 Selecting previously unselected package postgresql-client.
#6 4.122 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.123 Unpacking postgresql-client (15+248) ...
#6 4.135 Setting up postgresql-client-common (248) ...
#6 4.139 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.276 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.288 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.291 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.294 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.296 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.298 Setting up node-xtend (4.0.2-3) ...
#6 4.300 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.302 Setting up postgresql-client (15+248) ...
#6 4.305 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.309 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.311 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.313 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.316 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.318 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.85 Successfully installed bundler-2.5.18
#9 12.85 Successfully installed zeitwerk-2.6.18
#9 12.85 Successfully installed thor-1.3.2
#9 12.85 Successfully installed webrick-1.8.1
#9 12.85 Successfully installed rack-3.1.7
#9 12.85 Successfully installed rackup-2.1.0
#9 12.85 Successfully installed concurrent-ruby-1.3.4
#9 12.85 Successfully installed tzinfo-2.0.6
#9 12.85 Successfully installed i18n-1.14.5
#9 12.85 Successfully installed connection_pool-2.4.1
#9 12.85 Successfully installed activesupport-7.2.1
#9 12.85 Successfully installed useragent-0.16.10
#9 12.85 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.85 Successfully installed crass-1.0.6
#9 12.85 Successfully installed loofah-2.22.0
#9 12.85 Successfully installed rails-html-sanitizer-1.6.0
#9 12.85 Successfully installed rails-dom-testing-2.2.0
#9 12.85 Successfully installed rack-test-2.1.0
#9 12.85 Successfully installed rack-session-2.0.0
#9 12.85 Successfully installed erubi-1.13.0
#9 12.85 Successfully installed builder-3.3.0
#9 12.85 Successfully installed actionview-7.2.1
#9 12.85 Successfully installed actionpack-7.2.1
#9 12.85 Successfully installed railties-7.2.1
#9 12.85 Successfully installed marcel-1.0.4
#9 12.85 Successfully installed activemodel-7.2.1
#9 12.85 Successfully installed activerecord-7.2.1
#9 12.85 Successfully installed globalid-1.2.1
#9 12.85 Successfully installed activejob-7.2.1
#9 12.85 Successfully installed activestorage-7.2.1
#9 12.85 Successfully installed actiontext-7.2.1
#9 12.85 Successfully installed mini_mime-1.1.5
#9 12.85 Successfully installed mail-2.8.1
#9 12.85 Successfully installed actionmailer-7.2.1
#9 12.85 Successfully installed actionmailbox-7.2.1
#9 12.85 Successfully installed websocket-extensions-0.1.5
#9 12.85 Building native extensions. This could take a while...
#9 12.98 Successfully installed websocket-driver-0.7.6
#9 12.98 Building native extensions. This could take a while...
#9 14.47 Successfully installed nio4r-2.7.3
#9 14.47 Successfully installed actioncable-7.2.1
#9 14.47 Successfully installed rails-7.2.1
#9 14.47 40 gems installed
#9 DONE 14.5s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:d6ff957bad8327c6c5c31101b428829753e20df6a846ac001f8681dc7af91cac
#12 writing image sha256:d6ff957bad8327c6c5c31101b428829753e20df6a846ac001f8681dc7af91cac done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 640B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 513B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client
#6 1.842 Reading package lists...
#6 2.047 Building dependency tree...
#6 2.100 Reading state information...
#6 2.162 The following additional packages will be installed:
#6 2.162   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.162   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.162   postgresql-client-common
#6 2.163 Suggested packages:
#6 2.163   npm postgresql-15 postgresql-doc-15
#6 2.200 The following NEW packages will be installed:
#6 2.200   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.200   node-undici node-xtend nodejs nodejs-doc postgresql-client
#6 2.200   postgresql-client-15 postgresql-client-common
#6 2.345 0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
#6 2.345 Need to get 15.8 MB of archives.
#6 2.345 After this operation, 75.5 MB of additional disk space will be used.
#6 2.345 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.487 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.511 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.512 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.613 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.622 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.624 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.626 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.668 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.076 Get:10 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.261 Get:11 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.263 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.319 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.428 debconf: delaying package configuration, since apt-utils is not installed
#6 3.438 Fetched 15.8 MB in 1s (14.2 MB/s)
#6 3.447 Selecting previously unselected package libc-ares2:arm64.
#6 3.447 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.458 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.459 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.473 Selecting previously unselected package libuv1:arm64.
#6 3.474 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.475 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.487 Selecting previously unselected package node-xtend.
#6 3.488 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.489 Unpacking node-xtend (4.0.2-3) ...
#6 3.497 Selecting previously unselected package nodejs.
#6 3.498 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.499 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.530 Selecting previously unselected package node-acorn.
#6 3.531 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.532 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.549 Selecting previously unselected package node-cjs-module-lexer.
#6 3.550 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.551 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.560 Selecting previously unselected package node-busboy.
#6 3.561 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.561 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.572 Selecting previously unselected package node-undici.
#6 3.573 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.575 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.598 Selecting previously unselected package libnode108:arm64.
#6 3.599 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.600 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.890 Selecting previously unselected package nodejs-doc.
#6 3.891 Preparing to unpack .../09-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.892 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.022 Selecting previously unselected package postgresql-client-common.
#6 4.023 Preparing to unpack .../10-postgresql-client-common_248_all.deb ...
#6 4.024 Unpacking postgresql-client-common (248) ...
#6 4.035 Selecting previously unselected package postgresql-client-15.
#6 4.036 Preparing to unpack .../11-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.037 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.122 Selecting previously unselected package postgresql-client.
#6 4.123 Preparing to unpack .../12-postgresql-client_15+248_all.deb ...
#6 4.124 Unpacking postgresql-client (15+248) ...
#6 4.136 Setting up postgresql-client-common (248) ...
#6 4.140 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.278 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.290 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.293 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.295 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.297 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.300 Setting up node-xtend (4.0.2-3) ...
#6 4.302 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.304 Setting up postgresql-client (15+248) ...
#6 4.306 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.311 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.313 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.315 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.318 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.319 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.96 Successfully installed bundler-2.5.18
#9 12.96 Successfully installed zeitwerk-2.6.18
#9 12.96 Successfully installed thor-1.3.2
#9 12.96 Successfully installed webrick-1.8.1
#9 12.96 Successfully installed rack-3.1.7
#9 12.96 Successfully installed rackup-2.1.0
#9 12.96 Successfully installed concurrent-ruby-1.3.4
#9 12.96 Successfully installed tzinfo-2.0.6
#9 12.96 Successfully installed i18n-1.14.5
#9 12.96 Successfully installed connection_pool-2.4.1
#9 12.96 Successfully installed activesupport-7.2.1
#9 12.96 Successfully installed useragent-0.16.10
#9 12.96 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.96 Successfully installed crass-1.0.6
#9 12.96 Successfully installed loofah-2.22.0
#9 12.96 Successfully installed rails-html-sanitizer-1.6.0
#9 12.96 Successfully installed rails-dom-testing-2.2.0
#9 12.96 Successfully installed rack-test-2.1.0
#9 12.96 Successfully installed rack-session-2.0.0
#9 12.96 Successfully installed erubi-1.13.0
#9 12.96 Successfully installed builder-3.3.0
#9 12.96 Successfully installed actionview-7.2.1
#9 12.96 Successfully installed actionpack-7.2.1
#9 12.96 Successfully installed railties-7.2.1
#9 12.96 Successfully installed marcel-1.0.4
#9 12.96 Successfully installed activemodel-7.2.1
#9 12.96 Successfully installed activerecord-7.2.1
#9 12.96 Successfully installed globalid-1.2.1
#9 12.96 Successfully installed activejob-7.2.1
#9 12.96 Successfully installed activestorage-7.2.1
#9 12.96 Successfully installed actiontext-7.2.1
#9 12.96 Successfully installed mini_mime-1.1.5
#9 12.96 Successfully installed mail-2.8.1
#9 12.96 Successfully installed actionmailer-7.2.1
#9 12.96 Successfully installed actionmailbox-7.2.1
#9 12.96 Successfully installed websocket-extensions-0.1.5
#9 12.96 Building native extensions. This could take a while...
#9 13.09 Successfully installed websocket-driver-0.7.6
#9 13.09 Building native extensions. This could take a while...
#9 14.60 Successfully installed nio4r-2.7.3
#9 14.60 Successfully installed actioncable-7.2.1
#9 14.60 Successfully installed rails-7.2.1
#9 14.60 40 gems installed
#9 DONE 14.7s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.1s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:0a0bba7c24e9f5a43800fb7d289c8e1c045b1415cc03442939dc410caa063516 done
#12 naming to docker.io/library/spina-app-web
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 647B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 512B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat
#6 1.878 Reading package lists...
#6 2.088 Building dependency tree...
#6 2.141 Reading state information...
#6 2.143 Package netcat is a virtual package provided by:
#6 2.143   netcat-openbsd 1.219-1
#6 2.143   netcat-traditional 1.10-47
#6 2.143 
#6 2.144 E: Package 'netcat' has no installation candidate
#6 ERROR: process "/bin/sh -c apt-get update -qq && apt-get install -y nodejs postgresql-client netcat" did not complete successfully: exit code: 100
------
 > [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat:

2.088 Building dependency tree...
2.141 Reading state information...
2.143 Package netcat is a virtual package provided by:
2.143   netcat-openbsd 1.219-1
2.143   netcat-traditional 1.10-47
2.143 
2.144 E: Package 'netcat' has no installation candidate
------
failed to solve: process "/bin/sh -c apt-get update -qq && apt-get install -y nodejs postgresql-client netcat" did not complete successfully: exit code: 100
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 643B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client nc
#6 1.828 Reading package lists...
#6 2.039 Building dependency tree...
#6 2.096 Reading state information...
#6 2.099 Package nc is not available, but is referred to by another package.
#6 2.099 This may mean that the package is missing, has been obsoleted, or
#6 2.099 is only available from another source
#6 2.099 
#6 2.100 E: Package 'nc' has no installation candidate
#6 ERROR: process "/bin/sh -c apt-get update -qq && apt-get install -y nodejs postgresql-client nc" did not complete successfully: exit code: 100
------
 > [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client nc:

2.039 Building dependency tree...
2.096 Reading state information...
2.099 Package nc is not available, but is referred to by another package.
2.099 This may mean that the package is missing, has been obsoleted, or
2.099 is only available from another source
2.099 
2.100 E: Package 'nc' has no installation candidate
------
failed to solve: process "/bin/sh -c apt-get update -qq && apt-get install -y nodejs postgresql-client nc" did not complete successfully: exit code: 100
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 655B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.892 Reading package lists...
#6 2.094 Building dependency tree...
#6 2.147 Reading state information...
#6 2.210 The following additional packages will be installed:
#6 2.210   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.210   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.210   postgresql-client-common
#6 2.210 Suggested packages:
#6 2.210   npm postgresql-15 postgresql-doc-15
#6 2.254 The following NEW packages will be installed:
#6 2.254   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.254   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.254   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.385 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.385 Need to get 15.9 MB of archives.
#6 2.385 After this operation, 75.6 MB of additional disk space will be used.
#6 2.385 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.525 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.592 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.593 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.655 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.662 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.664 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.666 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.708 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.150 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.152 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.264 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.265 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.316 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.426 debconf: delaying package configuration, since apt-utils is not installed
#6 3.436 Fetched 15.9 MB in 1s (15.0 MB/s)
#6 3.445 Selecting previously unselected package libc-ares2:arm64.
#6 3.445 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.456 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.457 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.471 Selecting previously unselected package libuv1:arm64.
#6 3.472 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.473 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.486 Selecting previously unselected package node-xtend.
#6 3.487 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.487 Unpacking node-xtend (4.0.2-3) ...
#6 3.496 Selecting previously unselected package nodejs.
#6 3.497 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.498 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.528 Selecting previously unselected package node-acorn.
#6 3.529 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.530 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.546 Selecting previously unselected package node-cjs-module-lexer.
#6 3.547 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.548 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.557 Selecting previously unselected package node-busboy.
#6 3.558 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.559 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.569 Selecting previously unselected package node-undici.
#6 3.570 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.572 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.595 Selecting previously unselected package libnode108:arm64.
#6 3.596 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.597 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.887 Selecting previously unselected package netcat-openbsd.
#6 3.888 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.889 Unpacking netcat-openbsd (1.219-1) ...
#6 3.899 Selecting previously unselected package nodejs-doc.
#6 3.900 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.901 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.030 Selecting previously unselected package postgresql-client-common.
#6 4.031 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.032 Unpacking postgresql-client-common (248) ...
#6 4.044 Selecting previously unselected package postgresql-client-15.
#6 4.045 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.045 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.132 Selecting previously unselected package postgresql-client.
#6 4.133 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.133 Unpacking postgresql-client (15+248) ...
#6 4.145 Setting up postgresql-client-common (248) ...
#6 4.149 Setting up netcat-openbsd (1.219-1) ...
#6 4.152 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.154 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.292 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.305 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.307 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.310 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.312 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.314 Setting up node-xtend (4.0.2-3) ...
#6 4.317 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.319 Setting up postgresql-client (15+248) ...
#6 4.321 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.325 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.328 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.330 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.333 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.334 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.91 Successfully installed bundler-2.5.18
#9 12.91 Successfully installed zeitwerk-2.6.18
#9 12.91 Successfully installed thor-1.3.2
#9 12.91 Successfully installed webrick-1.8.1
#9 12.91 Successfully installed rack-3.1.7
#9 12.91 Successfully installed rackup-2.1.0
#9 12.91 Successfully installed concurrent-ruby-1.3.4
#9 12.91 Successfully installed tzinfo-2.0.6
#9 12.91 Successfully installed i18n-1.14.5
#9 12.91 Successfully installed connection_pool-2.4.1
#9 12.91 Successfully installed activesupport-7.2.1
#9 12.91 Successfully installed useragent-0.16.10
#9 12.91 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.91 Successfully installed crass-1.0.6
#9 12.91 Successfully installed loofah-2.22.0
#9 12.91 Successfully installed rails-html-sanitizer-1.6.0
#9 12.91 Successfully installed rails-dom-testing-2.2.0
#9 12.91 Successfully installed rack-test-2.1.0
#9 12.91 Successfully installed rack-session-2.0.0
#9 12.91 Successfully installed erubi-1.13.0
#9 12.91 Successfully installed builder-3.3.0
#9 12.91 Successfully installed actionview-7.2.1
#9 12.91 Successfully installed actionpack-7.2.1
#9 12.91 Successfully installed railties-7.2.1
#9 12.91 Successfully installed marcel-1.0.4
#9 12.91 Successfully installed activemodel-7.2.1
#9 12.91 Successfully installed activerecord-7.2.1
#9 12.91 Successfully installed globalid-1.2.1
#9 12.91 Successfully installed activejob-7.2.1
#9 12.91 Successfully installed activestorage-7.2.1
#9 12.91 Successfully installed actiontext-7.2.1
#9 12.91 Successfully installed mini_mime-1.1.5
#9 12.91 Successfully installed mail-2.8.1
#9 12.91 Successfully installed actionmailer-7.2.1
#9 12.91 Successfully installed actionmailbox-7.2.1
#9 12.91 Successfully installed websocket-extensions-0.1.5
#9 12.91 Building native extensions. This could take a while...
#9 13.03 Successfully installed websocket-driver-0.7.6
#9 13.03 Building native extensions. This could take a while...
#9 14.52 Successfully installed nio4r-2.7.3
#9 14.52 Successfully installed actioncable-7.2.1
#9 14.52 Successfully installed rails-7.2.1
#9 14.52 40 gems installed
#9 DONE 14.6s

#10 [web 6/7] COPY setup.sh /app/setup.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/setup.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:8c53f8b804f686c38b9a3dc0404162013b14d5c85525e791a14f6a17418f10be done
#12 naming to docker.io/library/spina-app-web
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 2.25kB done
#1 DONE 0.0s

#2 [web] resolve image config for docker.io/docker/dockerfile:1
#2 DONE 1.8s

#3 [web] docker-image://docker.io/docker/dockerfile:1@sha256:865e5dd094beca432e8c0a1d5e1c465db5f998dca4e439981029b3b81fb39ed5
#3 resolve docker.io/docker/dockerfile:1@sha256:865e5dd094beca432e8c0a1d5e1c465db5f998dca4e439981029b3b81fb39ed5 done
#3 sha256:865e5dd094beca432e8c0a1d5e1c465db5f998dca4e439981029b3b81fb39ed5 8.40kB / 8.40kB done
#3 sha256:d456ba66bc50a59872fb321c1bff5dcafde009e5d25a1c2ca8cc794a333f537f 850B / 850B done
#3 sha256:d41ce21e37a46d6411f831d0323293a1999d0ddb8ae75ff1a9fc9de15e865eb9 1.26kB / 1.26kB done
#3 sha256:2497f84902b1323692e7ee57c118729e611373bf98041d2e8210f5cce14cdebf 0B / 11.73MB 0.1s
#3 sha256:2497f84902b1323692e7ee57c118729e611373bf98041d2e8210f5cce14cdebf 2.10MB / 11.73MB 0.3s
#3 sha256:2497f84902b1323692e7ee57c118729e611373bf98041d2e8210f5cce14cdebf 9.44MB / 11.73MB 0.5s
#3 sha256:2497f84902b1323692e7ee57c118729e611373bf98041d2e8210f5cce14cdebf 11.73MB / 11.73MB 0.6s done
#3 extracting sha256:2497f84902b1323692e7ee57c118729e611373bf98041d2e8210f5cce14cdebf 0.1s done
#3 DONE 0.7s

#4 [web internal] load metadata for docker.io/library/ruby:3.3.5-slim
#4 DONE 1.5s

#5 [web internal] load .dockerignore
#5 transferring context: 896B done
#5 DONE 0.0s

#6 [web base 1/3] FROM docker.io/library/ruby:3.3.5-slim@sha256:106f5d38fda9e58669b3cd7d8b06dab5acb4a86eb92319e0139bb903d8858784
#6 resolve docker.io/library/ruby:3.3.5-slim@sha256:106f5d38fda9e58669b3cd7d8b06dab5acb4a86eb92319e0139bb903d8858784 done
#6 ...

#7 [web internal] load build context
#7 transferring context: 1.25MB 0.0s done
#7 DONE 0.0s

#6 [web base 1/3] FROM docker.io/library/ruby:3.3.5-slim@sha256:106f5d38fda9e58669b3cd7d8b06dab5acb4a86eb92319e0139bb903d8858784
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 0B / 37.92MB 0.2s
#6 sha256:106f5d38fda9e58669b3cd7d8b06dab5acb4a86eb92319e0139bb903d8858784 10.37kB / 10.37kB done
#6 sha256:826cc11abad1f0acb5218112582d9521886caa13e09b7b1ee52cdab7cc62eaa6 1.94kB / 1.94kB done
#6 sha256:41b18bd7e295329d4ff888c7d9503cf614bd62e717953d08d7b897c9dbd2ca0e 6.09kB / 6.09kB done
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 0B / 12.71MB 0.2s
#6 sha256:b2bc19cb4a03f79ce4636e6073e911f7c3c32df36ab4320fb7b242b6beeb2bcf 0B / 198B 0.2s
#6 sha256:b2bc19cb4a03f79ce4636e6073e911f7c3c32df36ab4320fb7b242b6beeb2bcf 198B / 198B 0.3s done
#6 sha256:376a3fe2adeb4c7d64c2cf810a7085d42f37ae93913a744ff3e332a6a9135b21 0B / 141B 0.4s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 2.10MB / 37.92MB 0.6s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 7.34MB / 37.92MB 0.8s
#6 sha256:376a3fe2adeb4c7d64c2cf810a7085d42f37ae93913a744ff3e332a6a9135b21 141B / 141B 0.7s done
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 11.53MB / 37.92MB 1.0s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 13.63MB / 37.92MB 1.1s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 17.83MB / 37.92MB 1.3s
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 2.10MB / 12.71MB 1.3s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 22.02MB / 37.92MB 1.4s
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 3.15MB / 12.71MB 1.4s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 28.31MB / 37.92MB 1.6s
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 4.19MB / 12.71MB 1.6s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 32.51MB / 37.92MB 1.8s
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 7.34MB / 12.71MB 1.8s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 36.70MB / 37.92MB 2.0s
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 10.49MB / 12.71MB 2.0s
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 12.71MB / 12.71MB 2.1s
#6 sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 37.92MB / 37.92MB 2.1s done
#6 sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 12.71MB / 12.71MB 2.1s done
#6 extracting sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 0.1s
#6 extracting sha256:7ebf56764222a71df8462451e12efe142c9053ee5be7c36d0a456d2f8159a5cd 0.4s done
#6 extracting sha256:b2bc19cb4a03f79ce4636e6073e911f7c3c32df36ab4320fb7b242b6beeb2bcf done
#6 extracting sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84
#6 extracting sha256:2ce5f3e4760afb45eed442ba591595016898fb0a38d687f3c29035a809c03f84 0.5s done
#6 extracting sha256:376a3fe2adeb4c7d64c2cf810a7085d42f37ae93913a744ff3e332a6a9135b21 done
#6 DONE 3.1s

#8 [web base 2/3] WORKDIR /rails
#8 DONE 0.1s

#9 [web base 3/3] RUN apt-get update -qq &&     apt-get install --no-install-recommends -y curl libjemalloc2 libvips postgresql-client &&     rm -rf /var/lib/apt/lists /var/cache/apt/archives
#9 2.052 Reading package lists...
#9 2.260 Building dependency tree...
#9 2.318 Reading state information...
#9 2.385 The following additional packages will be installed:
#9 2.385   fontconfig fontconfig-config fonts-dejavu-core imagemagick-6-common libaec0
#9 2.385   libaom3 libbrotli1 libbsd0 libcairo-gobject2 libcairo2 libcfitsio10 libcgif0
#9 2.385   libcurl3-gnutls libcurl4 libdatrie1 libdav1d6 libde265-0 libdeflate0
#9 2.385   libexif12 libexpat1 libfftw3-double3 libfontconfig1 libfreetype6 libfribidi0
#9 2.385   libgdbm-compat4 libgdbm6 libgdk-pixbuf-2.0-0 libgdk-pixbuf2.0-common
#9 2.385   libglib2.0-0 libgomp1 libgraphite2-3 libgsf-1-114 libgsf-1-common
#9 2.385   libharfbuzz0b libhdf5-103-1 libheif1 libhwy1 libicu72 libimagequant0
#9 2.385   libimath-3-1-29 libjbig0 libjpeg62-turbo libjxl0.7 liblcms2-2 libldap-2.5-0
#9 2.385   liblerc4 liblqr-1-0 libltdl7 libmagickcore-6.q16-6 libmatio11 libnghttp2-14
#9 2.385   libnspr4 libnss3 libnuma1 libopenexr-3-1-30 libopenjp2-7 libopenslide0
#9 2.385   liborc-0.4-0 libpango-1.0-0 libpangocairo-1.0-0 libpangoft2-1.0-0
#9 2.385   libperl5.36 libpixman-1-0 libpng16-16 libpoppler-glib8 libpoppler126 libpq5
#9 2.385   libpsl5 libreadline8 librsvg2-2 librtmp1 libsasl2-2 libsasl2-modules-db
#9 2.385   libsqlite3-0 libssh2-1 libsz2 libthai-data libthai0 libtiff6 libwebp7
#9 2.385   libwebpdemux2 libwebpmux3 libx11-6 libx11-data libx265-199 libxau6
#9 2.385   libxcb-render0 libxcb-shm0 libxcb1 libxdmcp6 libxext6 libxml2 libxrender1
#9 2.385   netbase perl perl-modules-5.36 postgresql-client-15 postgresql-client-common
#9 2.385   readline-common sensible-utils shared-mime-info
#9 2.386 Suggested packages:
#9 2.386   libfftw3-bin libfftw3-dev gdbm-l10n low-memory-monitor liblcms2-utils
#9 2.386   libmagickcore-6.q16-6-extra librsvg2-bin nip2 perl-doc
#9 2.386   libterm-readline-gnu-perl | libterm-readline-perl-perl make
#9 2.386   libtap-harness-archive-perl postgresql-15 postgresql-doc-15 readline-doc
#9 2.386 Recommended packages:
#9 2.386   libgdk-pixbuf2.0-bin libglib2.0-data xdg-user-dirs libldap-common
#9 2.386   ghostscript gsfonts poppler-data publicsuffix librsvg2-common
#9 2.386   libsasl2-modules
#9 2.673 The following NEW packages will be installed:
#9 2.673   curl fontconfig fontconfig-config fonts-dejavu-core imagemagick-6-common
#9 2.673   libaec0 libaom3 libbrotli1 libbsd0 libcairo-gobject2 libcairo2 libcfitsio10
#9 2.673   libcgif0 libcurl3-gnutls libcurl4 libdatrie1 libdav1d6 libde265-0
#9 2.673   libdeflate0 libexif12 libexpat1 libfftw3-double3 libfontconfig1 libfreetype6
#9 2.673   libfribidi0 libgdbm-compat4 libgdbm6 libgdk-pixbuf-2.0-0
#9 2.673   libgdk-pixbuf2.0-common libglib2.0-0 libgomp1 libgraphite2-3 libgsf-1-114
#9 2.673   libgsf-1-common libharfbuzz0b libhdf5-103-1 libheif1 libhwy1 libicu72
#9 2.673   libimagequant0 libimath-3-1-29 libjbig0 libjemalloc2 libjpeg62-turbo
#9 2.673   libjxl0.7 liblcms2-2 libldap-2.5-0 liblerc4 liblqr-1-0 libltdl7
#9 2.673   libmagickcore-6.q16-6 libmatio11 libnghttp2-14 libnspr4 libnss3 libnuma1
#9 2.673   libopenexr-3-1-30 libopenjp2-7 libopenslide0 liborc-0.4-0 libpango-1.0-0
#9 2.673   libpangocairo-1.0-0 libpangoft2-1.0-0 libperl5.36 libpixman-1-0 libpng16-16
#9 2.673   libpoppler-glib8 libpoppler126 libpq5 libpsl5 libreadline8 librsvg2-2
#9 2.673   librtmp1 libsasl2-2 libsasl2-modules-db libsqlite3-0 libssh2-1 libsz2
#9 2.673   libthai-data libthai0 libtiff6 libvips42 libwebp7 libwebpdemux2 libwebpmux3
#9 2.673   libx11-6 libx11-data libx265-199 libxau6 libxcb-render0 libxcb-shm0 libxcb1
#9 2.673   libxdmcp6 libxext6 libxml2 libxrender1 netbase perl perl-modules-5.36
#9 2.673   postgresql-client postgresql-client-15 postgresql-client-common
#9 2.673   readline-common sensible-utils shared-mime-info
#9 2.804 0 upgraded, 105 newly installed, 0 to remove and 0 not upgraded.
#9 2.804 Need to get 50.6 MB of archives.
#9 2.804 After this operation, 210 MB of additional disk space will be used.
#9 2.804 Get:1 http://deb.debian.org/debian bookworm/main arm64 perl-modules-5.36 all 5.36.0-7+deb12u1 [2815 kB]
#9 3.232 Get:2 http://deb.debian.org/debian bookworm/main arm64 libgdbm6 arm64 1.23-3 [70.9 kB]
#9 3.235 Get:3 http://deb.debian.org/debian bookworm/main arm64 libgdbm-compat4 arm64 1.23-3 [48.0 kB]
#9 3.239 Get:4 http://deb.debian.org/debian bookworm/main arm64 libperl5.36 arm64 5.36.0-7+deb12u1 [4014 kB]
#9 3.373 Get:5 http://deb.debian.org/debian bookworm/main arm64 perl arm64 5.36.0-7+deb12u1 [239 kB]
#9 3.375 Get:6 http://deb.debian.org/debian bookworm/main arm64 libgomp1 arm64 12.2.0-14 [104 kB]
#9 3.376 Get:7 http://deb.debian.org/debian bookworm/main arm64 libfftw3-double3 arm64 3.3.10-1 [326 kB]
#9 3.378 Get:8 http://deb.debian.org/debian bookworm/main arm64 libexpat1 arm64 2.5.0-1 [84.8 kB]
#9 3.379 Get:9 http://deb.debian.org/debian bookworm/main arm64 libbrotli1 arm64 1.0.9-2+b6 [269 kB]
#9 3.406 Get:10 http://deb.debian.org/debian bookworm/main arm64 libpng16-16 arm64 1.6.39-2 [269 kB]
#9 3.421 Get:11 http://deb.debian.org/debian bookworm/main arm64 libfreetype6 arm64 2.12.1+dfsg-5+deb12u3 [368 kB]
#9 3.430 Get:12 http://deb.debian.org/debian bookworm/main arm64 fonts-dejavu-core all 2.37-6 [1068 kB]
#9 3.455 Get:13 http://deb.debian.org/debian bookworm/main arm64 fontconfig-config arm64 2.14.1-4 [315 kB]
#9 3.542 Get:14 http://deb.debian.org/debian bookworm/main arm64 libfontconfig1 arm64 2.14.1-4 [381 kB]
#9 3.547 Get:15 http://deb.debian.org/debian bookworm/main arm64 libaom3 arm64 3.6.0-1+deb12u1 [1379 kB]
#9 3.556 Get:16 http://deb.debian.org/debian bookworm/main arm64 libdav1d6 arm64 1.0.0-2+deb12u1 [275 kB]
#9 3.557 Get:17 http://deb.debian.org/debian bookworm/main arm64 libde265-0 arm64 1.0.11-1+deb12u2 [148 kB]
#9 3.559 Get:18 http://deb.debian.org/debian bookworm/main arm64 libnuma1 arm64 2.0.16-1 [20.3 kB]
#9 3.563 Get:19 http://deb.debian.org/debian bookworm/main arm64 libx265-199 arm64 3.5-2+b1 [603 kB]
#9 3.566 Get:20 http://deb.debian.org/debian bookworm/main arm64 libheif1 arm64 1.15.1-1 [191 kB]
#9 3.571 Get:21 http://deb.debian.org/debian bookworm/main arm64 libjbig0 arm64 2.1-6.1 [30.0 kB]
#9 3.571 Get:22 http://deb.debian.org/debian bookworm/main arm64 libjpeg62-turbo arm64 1:2.1.5-2 [171 kB]
#9 3.612 Get:23 http://deb.debian.org/debian bookworm/main arm64 liblcms2-2 arm64 2.14-2 [143 kB]
#9 3.615 Get:24 http://deb.debian.org/debian bookworm/main arm64 libglib2.0-0 arm64 2.74.6-2+deb12u3 [1313 kB]
#9 3.655 Get:25 http://deb.debian.org/debian bookworm/main arm64 liblqr-1-0 arm64 0.4.2-2.1 [23.9 kB]
#9 3.656 Get:26 http://deb.debian.org/debian bookworm/main arm64 libltdl7 arm64 2.4.7-7~deb12u1 [392 kB]
#9 3.675 Get:27 http://deb.debian.org/debian bookworm/main arm64 libopenjp2-7 arm64 2.5.0-2 [175 kB]
#9 3.681 Get:28 http://deb.debian.org/debian bookworm/main arm64 libdeflate0 arm64 1.14-1 [54.3 kB]
#9 3.681 Get:29 http://deb.debian.org/debian bookworm/main arm64 liblerc4 arm64 4.0.0+ds-2 [138 kB]
#9 3.685 Get:30 http://deb.debian.org/debian bookworm/main arm64 libwebp7 arm64 1.2.4-0.2+deb12u1 [260 kB]
#9 3.694 Get:31 http://deb.debian.org/debian bookworm/main arm64 libtiff6 arm64 4.5.0-6+deb12u1 [301 kB]
#9 3.707 Get:32 http://deb.debian.org/debian bookworm/main arm64 libwebpdemux2 arm64 1.2.4-0.2+deb12u1 [99.3 kB]
#9 3.708 Get:33 http://deb.debian.org/debian bookworm/main arm64 libwebpmux3 arm64 1.2.4-0.2+deb12u1 [109 kB]
#9 3.719 Get:34 http://deb.debian.org/debian bookworm/main arm64 libxau6 arm64 1:1.0.9-1 [19.7 kB]
#9 3.719 Get:35 http://deb.debian.org/debian bookworm/main arm64 libbsd0 arm64 0.11.7-2 [115 kB]
#9 3.740 Get:36 http://deb.debian.org/debian bookworm/main arm64 libxdmcp6 arm64 1:1.1.2-3 [25.4 kB]
#9 3.749 Get:37 http://deb.debian.org/debian bookworm/main arm64 libxcb1 arm64 1.15-1 [143 kB]
#9 3.752 Get:38 http://deb.debian.org/debian bookworm/main arm64 libx11-data all 2:1.8.4-2+deb12u2 [292 kB]
#9 3.760 Get:39 http://deb.debian.org/debian bookworm/main arm64 libx11-6 arm64 2:1.8.4-2+deb12u2 [735 kB]
#9 3.781 Get:40 http://deb.debian.org/debian bookworm/main arm64 libxext6 arm64 2:1.3.4-1+b1 [51.7 kB]
#9 3.784 Get:41 http://deb.debian.org/debian bookworm/main arm64 libicu72 arm64 72.1-3 [9204 kB]
#9 4.128 Get:42 http://deb.debian.org/debian bookworm/main arm64 libxml2 arm64 2.9.14+dfsg-1.3~deb12u1 [619 kB]
#9 4.137 Get:43 http://deb.debian.org/debian bookworm/main arm64 imagemagick-6-common all 8:6.9.11.60+dfsg-1.6+deb12u2 [166 kB]
#9 4.142 Get:44 http://deb.debian.org/debian bookworm/main arm64 libmagickcore-6.q16-6 arm64 8:6.9.11.60+dfsg-1.6+deb12u2 [1590 kB]
#9 4.201 Get:45 http://deb.debian.org/debian bookworm/main arm64 netbase all 6.4 [12.8 kB]
#9 4.202 Get:46 http://deb.debian.org/debian bookworm/main arm64 readline-common all 8.2-1.3 [69.0 kB]
#9 4.203 Get:47 http://deb.debian.org/debian bookworm/main arm64 sensible-utils all 0.0.17+nmu1 [19.0 kB]
#9 4.204 Get:48 http://deb.debian.org/debian bookworm/main arm64 libsasl2-modules-db arm64 2.1.28+dfsg-10 [20.8 kB]
#9 4.204 Get:49 http://deb.debian.org/debian bookworm/main arm64 libsasl2-2 arm64 2.1.28+dfsg-10 [58.0 kB]
#9 4.205 Get:50 http://deb.debian.org/debian bookworm/main arm64 libldap-2.5-0 arm64 2.5.13+dfsg-5 [171 kB]
#9 4.210 Get:51 http://deb.debian.org/debian bookworm/main arm64 libnghttp2-14 arm64 1.52.0-1+deb12u1 [68.3 kB]
#9 4.210 Get:52 http://deb.debian.org/debian bookworm/main arm64 libpsl5 arm64 0.21.2-1 [58.6 kB]
#9 4.213 Get:53 http://deb.debian.org/debian bookworm/main arm64 librtmp1 arm64 2.4+20151223.gitfa8646d.1-2+b2 [59.4 kB]
#9 4.264 Get:54 http://deb.debian.org/debian bookworm/main arm64 libssh2-1 arm64 1.10.0-3+b1 [172 kB]
#9 4.272 Get:55 http://deb.debian.org/debian bookworm/main arm64 libcurl4 arm64 7.88.1-10+deb12u7 [365 kB]
#9 4.281 Get:56 http://deb.debian.org/debian bookworm/main arm64 curl arm64 7.88.1-10+deb12u7 [309 kB]
#9 4.290 Get:57 http://deb.debian.org/debian bookworm/main arm64 fontconfig arm64 2.14.1-4 [449 kB]
#9 4.304 Get:58 http://deb.debian.org/debian bookworm/main arm64 libaec0 arm64 1.0.6-1+b1 [19.9 kB]
#9 4.304 Get:59 http://deb.debian.org/debian bookworm/main arm64 libpixman-1-0 arm64 0.42.2-1 [470 kB]
#9 4.318 Get:60 http://deb.debian.org/debian bookworm/main arm64 libxcb-render0 arm64 1.15-1 [115 kB]
#9 4.334 Get:61 http://deb.debian.org/debian bookworm/main arm64 libxcb-shm0 arm64 1.15-1 [106 kB]
#9 4.338 Get:62 http://deb.debian.org/debian bookworm/main arm64 libxrender1 arm64 1:0.9.10-1.1 [32.0 kB]
#9 4.339 Get:63 http://deb.debian.org/debian bookworm/main arm64 libcairo2 arm64 1.16.0-7 [527 kB]
#9 4.353 Get:64 http://deb.debian.org/debian bookworm/main arm64 libcairo-gobject2 arm64 1.16.0-7 [112 kB]
#9 4.356 Get:65 http://deb.debian.org/debian bookworm/main arm64 libcurl3-gnutls arm64 7.88.1-10+deb12u7 [361 kB]
#9 4.367 Get:66 http://deb.debian.org/debian bookworm/main arm64 libcfitsio10 arm64 4.2.0-3 [510 kB]
#9 4.380 Get:67 http://deb.debian.org/debian bookworm/main arm64 libcgif0 arm64 0.3.0-1 [9084 B]
#9 4.380 Get:68 http://deb.debian.org/debian bookworm/main arm64 libdatrie1 arm64 0.2.13-2+b1 [42.6 kB]
#9 4.383 Get:69 http://deb.debian.org/debian bookworm/main arm64 libexif12 arm64 0.6.24-1+b1 [396 kB]
#9 4.411 Get:70 http://deb.debian.org/debian bookworm/main arm64 libfribidi0 arm64 1.0.8-2.1 [64.9 kB]
#9 4.412 Get:71 http://deb.debian.org/debian bookworm/main arm64 libgdk-pixbuf2.0-common all 2.42.10+dfsg-1+deb12u1 [306 kB]
#9 4.422 Get:72 http://deb.debian.org/debian bookworm/main arm64 shared-mime-info arm64 2.2-1 [727 kB]
#9 4.443 Get:73 http://deb.debian.org/debian bookworm/main arm64 libgdk-pixbuf-2.0-0 arm64 2.42.10+dfsg-1+deb12u1 [130 kB]
#9 4.447 Get:74 http://deb.debian.org/debian bookworm/main arm64 libgraphite2-3 arm64 1.3.14-1 [75.6 kB]
#9 4.449 Get:75 http://deb.debian.org/debian bookworm/main arm64 libgsf-1-common all 1.14.50-1 [162 kB]
#9 4.452 Get:76 http://deb.debian.org/debian bookworm/main arm64 libgsf-1-114 arm64 1.14.50-1 [155 kB]
#9 4.471 Get:77 http://deb.debian.org/debian bookworm/main arm64 libharfbuzz0b arm64 6.0.0+dfsg-3 [1914 kB]
#9 4.537 Get:78 http://deb.debian.org/debian bookworm/main arm64 libsz2 arm64 1.0.6-1+b1 [7740 B]
#9 4.537 Get:79 http://deb.debian.org/debian bookworm/main arm64 libhdf5-103-1 arm64 1.10.8+repack1-1 [1037 kB]
#9 4.575 Get:80 http://deb.debian.org/debian bookworm/main arm64 libhwy1 arm64 1.0.3-3+deb12u1 [226 kB]
#9 4.584 Get:81 http://deb.debian.org/debian bookworm/main arm64 libimagequant0 arm64 2.17.0-1 [31.3 kB]
#9 4.584 Get:82 http://deb.debian.org/debian bookworm/main arm64 libimath-3-1-29 arm64 3.1.6-1 [35.5 kB]
#9 4.584 Get:83 http://deb.debian.org/debian bookworm/main arm64 libjemalloc2 arm64 5.3.0-1 [217 kB]
#9 4.589 Get:84 http://deb.debian.org/debian bookworm/main arm64 libjxl0.7 arm64 0.7.0-10 [643 kB]
#9 4.621 Get:85 http://deb.debian.org/debian bookworm/main arm64 libmatio11 arm64 1.5.23-2 [89.6 kB]
#9 4.623 Get:86 http://deb.debian.org/debian bookworm/main arm64 libnspr4 arm64 2:4.35-1 [105 kB]
#9 4.625 Get:87 http://deb.debian.org/debian bookworm/main arm64 libsqlite3-0 arm64 3.40.1-2 [786 kB]
#9 4.646 Get:88 http://deb.debian.org/debian bookworm/main arm64 libnss3 arm64 2:3.87.1-1 [1218 kB]
#9 4.699 Get:89 http://deb.debian.org/debian bookworm/main arm64 libopenexr-3-1-30 arm64 3.1.5-5 [843 kB]
#9 4.720 Get:90 http://deb.debian.org/debian bookworm/main arm64 libopenslide0 arm64 3.4.1+dfsg-6+b1 [79.9 kB]
#9 4.722 Get:91 http://deb.debian.org/debian bookworm/main arm64 liborc-0.4-0 arm64 1:0.4.33-2 [148 kB]
#9 4.734 Get:92 http://deb.debian.org/debian bookworm/main arm64 libthai-data all 0.1.29-1 [176 kB]
#9 4.736 Get:93 http://deb.debian.org/debian bookworm/main arm64 libthai0 arm64 0.1.29-1 [56.2 kB]
#9 4.743 Get:94 http://deb.debian.org/debian bookworm/main arm64 libpango-1.0-0 arm64 1.50.12+ds-1 [200 kB]
#9 4.756 Get:95 http://deb.debian.org/debian bookworm/main arm64 libpangoft2-1.0-0 arm64 1.50.12+ds-1 [44.5 kB]
#9 4.757 Get:96 http://deb.debian.org/debian bookworm/main arm64 libpangocairo-1.0-0 arm64 1.50.12+ds-1 [32.0 kB]
#9 4.758 Get:97 http://deb.debian.org/debian bookworm/main arm64 libpoppler126 arm64 22.12.0-2+b1 [1754 kB]
#9 4.824 Get:98 http://deb.debian.org/debian bookworm/main arm64 libpoppler-glib8 arm64 22.12.0-2+b1 [122 kB]
#9 4.825 Get:99 http://deb.debian.org/debian bookworm/main arm64 libpq5 arm64 15.8-0+deb12u1 [179 kB]
#9 4.829 Get:100 http://deb.debian.org/debian bookworm/main arm64 libreadline8 arm64 8.2-1.3 [155 kB]
#9 4.833 Get:101 http://deb.debian.org/debian bookworm/main arm64 librsvg2-2 arm64 2.54.7+dfsg-1~deb12u1 [2290 kB]
#9 4.911 Get:102 http://deb.debian.org/debian bookworm/main arm64 libvips42 arm64 8.14.1-3+deb12u1 [1171 kB]
#9 4.955 Get:103 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#9 4.955 Get:104 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#9 5.001 Get:105 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#9 5.095 debconf: delaying package configuration, since apt-utils is not installed
#9 5.112 Fetched 50.6 MB in 2s (21.8 MB/s)
#9 5.131 Selecting previously unselected package perl-modules-5.36.
#9 5.131 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 8726 files and directories currently installed.)
#9 5.135 Preparing to unpack .../000-perl-modules-5.36_5.36.0-7+deb12u1_all.deb ...
#9 5.136 Unpacking perl-modules-5.36 (5.36.0-7+deb12u1) ...
#9 5.299 Selecting previously unselected package libgdbm6:arm64.
#9 5.299 Preparing to unpack .../001-libgdbm6_1.23-3_arm64.deb ...
#9 5.302 Unpacking libgdbm6:arm64 (1.23-3) ...
#9 5.313 Selecting previously unselected package libgdbm-compat4:arm64.
#9 5.314 Preparing to unpack .../002-libgdbm-compat4_1.23-3_arm64.deb ...
#9 5.315 Unpacking libgdbm-compat4:arm64 (1.23-3) ...
#9 5.326 Selecting previously unselected package libperl5.36:arm64.
#9 5.327 Preparing to unpack .../003-libperl5.36_5.36.0-7+deb12u1_arm64.deb ...
#9 5.329 Unpacking libperl5.36:arm64 (5.36.0-7+deb12u1) ...
#9 5.524 Selecting previously unselected package perl.
#9 5.525 Preparing to unpack .../004-perl_5.36.0-7+deb12u1_arm64.deb ...
#9 5.527 Unpacking perl (5.36.0-7+deb12u1) ...
#9 5.548 Selecting previously unselected package libgomp1:arm64.
#9 5.548 Preparing to unpack .../005-libgomp1_12.2.0-14_arm64.deb ...
#9 5.551 Unpacking libgomp1:arm64 (12.2.0-14) ...
#9 5.566 Selecting previously unselected package libfftw3-double3:arm64.
#9 5.567 Preparing to unpack .../006-libfftw3-double3_3.3.10-1_arm64.deb ...
#9 5.568 Unpacking libfftw3-double3:arm64 (3.3.10-1) ...
#9 5.590 Selecting previously unselected package libexpat1:arm64.
#9 5.590 Preparing to unpack .../007-libexpat1_2.5.0-1_arm64.deb ...
#9 5.591 Unpacking libexpat1:arm64 (2.5.0-1) ...
#9 5.605 Selecting previously unselected package libbrotli1:arm64.
#9 5.605 Preparing to unpack .../008-libbrotli1_1.0.9-2+b6_arm64.deb ...
#9 5.606 Unpacking libbrotli1:arm64 (1.0.9-2+b6) ...
#9 5.627 Selecting previously unselected package libpng16-16:arm64.
#9 5.628 Preparing to unpack .../009-libpng16-16_1.6.39-2_arm64.deb ...
#9 5.628 Unpacking libpng16-16:arm64 (1.6.39-2) ...
#9 5.645 Selecting previously unselected package libfreetype6:arm64.
#9 5.645 Preparing to unpack .../010-libfreetype6_2.12.1+dfsg-5+deb12u3_arm64.deb ...
#9 5.646 Unpacking libfreetype6:arm64 (2.12.1+dfsg-5+deb12u3) ...
#9 5.669 Selecting previously unselected package fonts-dejavu-core.
#9 5.670 Preparing to unpack .../011-fonts-dejavu-core_2.37-6_all.deb ...
#9 5.671 Unpacking fonts-dejavu-core (2.37-6) ...
#9 5.726 Selecting previously unselected package fontconfig-config.
#9 5.727 Preparing to unpack .../012-fontconfig-config_2.14.1-4_arm64.deb ...
#9 5.757 Unpacking fontconfig-config (2.14.1-4) ...
#9 5.774 Selecting previously unselected package libfontconfig1:arm64.
#9 5.775 Preparing to unpack .../013-libfontconfig1_2.14.1-4_arm64.deb ...
#9 5.776 Unpacking libfontconfig1:arm64 (2.14.1-4) ...
#9 5.791 Selecting previously unselected package libaom3:arm64.
#9 5.791 Preparing to unpack .../014-libaom3_3.6.0-1+deb12u1_arm64.deb ...
#9 5.793 Unpacking libaom3:arm64 (3.6.0-1+deb12u1) ...
#9 5.856 Selecting previously unselected package libdav1d6:arm64.
#9 5.857 Preparing to unpack .../015-libdav1d6_1.0.0-2+deb12u1_arm64.deb ...
#9 5.858 Unpacking libdav1d6:arm64 (1.0.0-2+deb12u1) ...
#9 5.882 Selecting previously unselected package libde265-0:arm64.
#9 5.883 Preparing to unpack .../016-libde265-0_1.0.11-1+deb12u2_arm64.deb ...
#9 5.884 Unpacking libde265-0:arm64 (1.0.11-1+deb12u2) ...
#9 5.899 Selecting previously unselected package libnuma1:arm64.
#9 5.900 Preparing to unpack .../017-libnuma1_2.0.16-1_arm64.deb ...
#9 5.902 Unpacking libnuma1:arm64 (2.0.16-1) ...
#9 5.913 Selecting previously unselected package libx265-199:arm64.
#9 5.913 Preparing to unpack .../018-libx265-199_3.5-2+b1_arm64.deb ...
#9 5.914 Unpacking libx265-199:arm64 (3.5-2+b1) ...
#9 5.951 Selecting previously unselected package libheif1:arm64.
#9 5.951 Preparing to unpack .../019-libheif1_1.15.1-1_arm64.deb ...
#9 5.952 Unpacking libheif1:arm64 (1.15.1-1) ...
#9 5.970 Selecting previously unselected package libjbig0:arm64.
#9 5.971 Preparing to unpack .../020-libjbig0_2.1-6.1_arm64.deb ...
#9 5.972 Unpacking libjbig0:arm64 (2.1-6.1) ...
#9 5.982 Selecting previously unselected package libjpeg62-turbo:arm64.
#9 5.982 Preparing to unpack .../021-libjpeg62-turbo_1%3a2.1.5-2_arm64.deb ...
#9 5.983 Unpacking libjpeg62-turbo:arm64 (1:2.1.5-2) ...
#9 6.000 Selecting previously unselected package liblcms2-2:arm64.
#9 6.001 Preparing to unpack .../022-liblcms2-2_2.14-2_arm64.deb ...
#9 6.002 Unpacking liblcms2-2:arm64 (2.14-2) ...
#9 6.018 Selecting previously unselected package libglib2.0-0:arm64.
#9 6.019 Preparing to unpack .../023-libglib2.0-0_2.74.6-2+deb12u3_arm64.deb ...
#9 6.019 Unpacking libglib2.0-0:arm64 (2.74.6-2+deb12u3) ...
#9 6.077 Selecting previously unselected package liblqr-1-0:arm64.
#9 6.078 Preparing to unpack .../024-liblqr-1-0_0.4.2-2.1_arm64.deb ...
#9 6.079 Unpacking liblqr-1-0:arm64 (0.4.2-2.1) ...
#9 6.088 Selecting previously unselected package libltdl7:arm64.
#9 6.088 Preparing to unpack .../025-libltdl7_2.4.7-7~deb12u1_arm64.deb ...
#9 6.090 Unpacking libltdl7:arm64 (2.4.7-7~deb12u1) ...
#9 6.104 Selecting previously unselected package libopenjp2-7:arm64.
#9 6.104 Preparing to unpack .../026-libopenjp2-7_2.5.0-2_arm64.deb ...
#9 6.105 Unpacking libopenjp2-7:arm64 (2.5.0-2) ...
#9 6.123 Selecting previously unselected package libdeflate0:arm64.
#9 6.124 Preparing to unpack .../027-libdeflate0_1.14-1_arm64.deb ...
#9 6.124 Unpacking libdeflate0:arm64 (1.14-1) ...
#9 6.135 Selecting previously unselected package liblerc4:arm64.
#9 6.136 Preparing to unpack .../028-liblerc4_4.0.0+ds-2_arm64.deb ...
#9 6.137 Unpacking liblerc4:arm64 (4.0.0+ds-2) ...
#9 6.153 Selecting previously unselected package libwebp7:arm64.
#9 6.154 Preparing to unpack .../029-libwebp7_1.2.4-0.2+deb12u1_arm64.deb ...
#9 6.155 Unpacking libwebp7:arm64 (1.2.4-0.2+deb12u1) ...
#9 6.174 Selecting previously unselected package libtiff6:arm64.
#9 6.174 Preparing to unpack .../030-libtiff6_4.5.0-6+deb12u1_arm64.deb ...
#9 6.175 Unpacking libtiff6:arm64 (4.5.0-6+deb12u1) ...
#9 6.195 Selecting previously unselected package libwebpdemux2:arm64.
#9 6.195 Preparing to unpack .../031-libwebpdemux2_1.2.4-0.2+deb12u1_arm64.deb ...
#9 6.197 Unpacking libwebpdemux2:arm64 (1.2.4-0.2+deb12u1) ...
#9 6.210 Selecting previously unselected package libwebpmux3:arm64.
#9 6.210 Preparing to unpack .../032-libwebpmux3_1.2.4-0.2+deb12u1_arm64.deb ...
#9 6.211 Unpacking libwebpmux3:arm64 (1.2.4-0.2+deb12u1) ...
#9 6.224 Selecting previously unselected package libxau6:arm64.
#9 6.224 Preparing to unpack .../033-libxau6_1%3a1.0.9-1_arm64.deb ...
#9 6.226 Unpacking libxau6:arm64 (1:1.0.9-1) ...
#9 6.236 Selecting previously unselected package libbsd0:arm64.
#9 6.237 Preparing to unpack .../034-libbsd0_0.11.7-2_arm64.deb ...
#9 6.239 Unpacking libbsd0:arm64 (0.11.7-2) ...
#9 6.252 Selecting previously unselected package libxdmcp6:arm64.
#9 6.253 Preparing to unpack .../035-libxdmcp6_1%3a1.1.2-3_arm64.deb ...
#9 6.254 Unpacking libxdmcp6:arm64 (1:1.1.2-3) ...
#9 6.263 Selecting previously unselected package libxcb1:arm64.
#9 6.264 Preparing to unpack .../036-libxcb1_1.15-1_arm64.deb ...
#9 6.265 Unpacking libxcb1:arm64 (1.15-1) ...
#9 6.276 Selecting previously unselected package libx11-data.
#9 6.277 Preparing to unpack .../037-libx11-data_2%3a1.8.4-2+deb12u2_all.deb ...
#9 6.278 Unpacking libx11-data (2:1.8.4-2+deb12u2) ...
#9 6.300 Selecting previously unselected package libx11-6:arm64.
#9 6.301 Preparing to unpack .../038-libx11-6_2%3a1.8.4-2+deb12u2_arm64.deb ...
#9 6.302 Unpacking libx11-6:arm64 (2:1.8.4-2+deb12u2) ...
#9 6.338 Selecting previously unselected package libxext6:arm64.
#9 6.338 Preparing to unpack .../039-libxext6_2%3a1.3.4-1+b1_arm64.deb ...
#9 6.339 Unpacking libxext6:arm64 (2:1.3.4-1+b1) ...
#9 6.350 Selecting previously unselected package libicu72:arm64.
#9 6.351 Preparing to unpack .../040-libicu72_72.1-3_arm64.deb ...
#9 6.352 Unpacking libicu72:arm64 (72.1-3) ...
#9 6.663 Selecting previously unselected package libxml2:arm64.
#9 6.664 Preparing to unpack .../041-libxml2_2.9.14+dfsg-1.3~deb12u1_arm64.deb ...
#9 6.665 Unpacking libxml2:arm64 (2.9.14+dfsg-1.3~deb12u1) ...
#9 6.700 Selecting previously unselected package imagemagick-6-common.
#9 6.700 Preparing to unpack .../042-imagemagick-6-common_8%3a6.9.11.60+dfsg-1.6+deb12u2_all.deb ...
#9 6.701 Unpacking imagemagick-6-common (8:6.9.11.60+dfsg-1.6+deb12u2) ...
#9 6.715 Selecting previously unselected package libmagickcore-6.q16-6:arm64.
#9 6.716 Preparing to unpack .../043-libmagickcore-6.q16-6_8%3a6.9.11.60+dfsg-1.6+deb12u2_arm64.deb ...
#9 6.718 Unpacking libmagickcore-6.q16-6:arm64 (8:6.9.11.60+dfsg-1.6+deb12u2) ...
#9 6.800 Selecting previously unselected package netbase.
#9 6.800 Preparing to unpack .../044-netbase_6.4_all.deb ...
#9 6.801 Unpacking netbase (6.4) ...
#9 6.810 Selecting previously unselected package readline-common.
#9 6.811 Preparing to unpack .../045-readline-common_8.2-1.3_all.deb ...
#9 6.812 Unpacking readline-common (8.2-1.3) ...
#9 6.822 Selecting previously unselected package sensible-utils.
#9 6.823 Preparing to unpack .../046-sensible-utils_0.0.17+nmu1_all.deb ...
#9 6.825 Unpacking sensible-utils (0.0.17+nmu1) ...
#9 6.834 Selecting previously unselected package libsasl2-modules-db:arm64.
#9 6.834 Preparing to unpack .../047-libsasl2-modules-db_2.1.28+dfsg-10_arm64.deb ...
#9 6.835 Unpacking libsasl2-modules-db:arm64 (2.1.28+dfsg-10) ...
#9 6.846 Selecting previously unselected package libsasl2-2:arm64.
#9 6.847 Preparing to unpack .../048-libsasl2-2_2.1.28+dfsg-10_arm64.deb ...
#9 6.847 Unpacking libsasl2-2:arm64 (2.1.28+dfsg-10) ...
#9 6.859 Selecting previously unselected package libldap-2.5-0:arm64.
#9 6.860 Preparing to unpack .../049-libldap-2.5-0_2.5.13+dfsg-5_arm64.deb ...
#9 6.862 Unpacking libldap-2.5-0:arm64 (2.5.13+dfsg-5) ...
#9 6.878 Selecting previously unselected package libnghttp2-14:arm64.
#9 6.879 Preparing to unpack .../050-libnghttp2-14_1.52.0-1+deb12u1_arm64.deb ...
#9 6.881 Unpacking libnghttp2-14:arm64 (1.52.0-1+deb12u1) ...
#9 6.894 Selecting previously unselected package libpsl5:arm64.
#9 6.894 Preparing to unpack .../051-libpsl5_0.21.2-1_arm64.deb ...
#9 6.895 Unpacking libpsl5:arm64 (0.21.2-1) ...
#9 6.910 Selecting previously unselected package librtmp1:arm64.
#9 6.910 Preparing to unpack .../052-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_arm64.deb ...
#9 6.914 Unpacking librtmp1:arm64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#9 6.925 Selecting previously unselected package libssh2-1:arm64.
#9 6.925 Preparing to unpack .../053-libssh2-1_1.10.0-3+b1_arm64.deb ...
#9 6.927 Unpacking libssh2-1:arm64 (1.10.0-3+b1) ...
#9 6.945 Selecting previously unselected package libcurl4:arm64.
#9 6.945 Preparing to unpack .../054-libcurl4_7.88.1-10+deb12u7_arm64.deb ...
#9 6.946 Unpacking libcurl4:arm64 (7.88.1-10+deb12u7) ...
#9 6.970 Selecting previously unselected package curl.
#9 6.971 Preparing to unpack .../055-curl_7.88.1-10+deb12u7_arm64.deb ...
#9 6.972 Unpacking curl (7.88.1-10+deb12u7) ...
#9 6.995 Selecting previously unselected package fontconfig.
#9 6.996 Preparing to unpack .../056-fontconfig_2.14.1-4_arm64.deb ...
#9 6.996 Unpacking fontconfig (2.14.1-4) ...
#9 7.014 Selecting previously unselected package libaec0:arm64.
#9 7.015 Preparing to unpack .../057-libaec0_1.0.6-1+b1_arm64.deb ...
#9 7.015 Unpacking libaec0:arm64 (1.0.6-1+b1) ...
#9 7.026 Selecting previously unselected package libpixman-1-0:arm64.
#9 7.027 Preparing to unpack .../058-libpixman-1-0_0.42.2-1_arm64.deb ...
#9 7.028 Unpacking libpixman-1-0:arm64 (0.42.2-1) ...
#9 7.048 Selecting previously unselected package libxcb-render0:arm64.
#9 7.049 Preparing to unpack .../059-libxcb-render0_1.15-1_arm64.deb ...
#9 7.050 Unpacking libxcb-render0:arm64 (1.15-1) ...
#9 7.066 Selecting previously unselected package libxcb-shm0:arm64.
#9 7.066 Preparing to unpack .../060-libxcb-shm0_1.15-1_arm64.deb ...
#9 7.067 Unpacking libxcb-shm0:arm64 (1.15-1) ...
#9 7.081 Selecting previously unselected package libxrender1:arm64.
#9 7.081 Preparing to unpack .../061-libxrender1_1%3a0.9.10-1.1_arm64.deb ...
#9 7.082 Unpacking libxrender1:arm64 (1:0.9.10-1.1) ...
#9 7.093 Selecting previously unselected package libcairo2:arm64.
#9 7.093 Preparing to unpack .../062-libcairo2_1.16.0-7_arm64.deb ...
#9 7.094 Unpacking libcairo2:arm64 (1.16.0-7) ...
#9 7.123 Selecting previously unselected package libcairo-gobject2:arm64.
#9 7.124 Preparing to unpack .../063-libcairo-gobject2_1.16.0-7_arm64.deb ...
#9 7.125 Unpacking libcairo-gobject2:arm64 (1.16.0-7) ...
#9 7.139 Selecting previously unselected package libcurl3-gnutls:arm64.
#9 7.140 Preparing to unpack .../064-libcurl3-gnutls_7.88.1-10+deb12u7_arm64.deb ...
#9 7.140 Unpacking libcurl3-gnutls:arm64 (7.88.1-10+deb12u7) ...
#9 7.163 Selecting previously unselected package libcfitsio10:arm64.
#9 7.163 Preparing to unpack .../065-libcfitsio10_4.2.0-3_arm64.deb ...
#9 7.165 Unpacking libcfitsio10:arm64 (4.2.0-3) ...
#9 7.193 Selecting previously unselected package libcgif0:arm64.
#9 7.193 Preparing to unpack .../066-libcgif0_0.3.0-1_arm64.deb ...
#9 7.194 Unpacking libcgif0:arm64 (0.3.0-1) ...
#9 7.203 Selecting previously unselected package libdatrie1:arm64.
#9 7.204 Preparing to unpack .../067-libdatrie1_0.2.13-2+b1_arm64.deb ...
#9 7.205 Unpacking libdatrie1:arm64 (0.2.13-2+b1) ...
#9 7.216 Selecting previously unselected package libexif12:arm64.
#9 7.217 Preparing to unpack .../068-libexif12_0.6.24-1+b1_arm64.deb ...
#9 7.218 Unpacking libexif12:arm64 (0.6.24-1+b1) ...
#9 7.246 Selecting previously unselected package libfribidi0:arm64.
#9 7.247 Preparing to unpack .../069-libfribidi0_1.0.8-2.1_arm64.deb ...
#9 7.249 Unpacking libfribidi0:arm64 (1.0.8-2.1) ...
#9 7.259 Selecting previously unselected package libgdk-pixbuf2.0-common.
#9 7.260 Preparing to unpack .../070-libgdk-pixbuf2.0-common_2.42.10+dfsg-1+deb12u1_all.deb ...
#9 7.261 Unpacking libgdk-pixbuf2.0-common (2.42.10+dfsg-1+deb12u1) ...
#9 7.285 Selecting previously unselected package shared-mime-info.
#9 7.285 Preparing to unpack .../071-shared-mime-info_2.2-1_arm64.deb ...
#9 7.286 Unpacking shared-mime-info (2.2-1) ...
#9 7.331 Selecting previously unselected package libgdk-pixbuf-2.0-0:arm64.
#9 7.332 Preparing to unpack .../072-libgdk-pixbuf-2.0-0_2.42.10+dfsg-1+deb12u1_arm64.deb ...
#9 7.333 Unpacking libgdk-pixbuf-2.0-0:arm64 (2.42.10+dfsg-1+deb12u1) ...
#9 7.348 Selecting previously unselected package libgraphite2-3:arm64.
#9 7.348 Preparing to unpack .../073-libgraphite2-3_1.3.14-1_arm64.deb ...
#9 7.349 Unpacking libgraphite2-3:arm64 (1.3.14-1) ...
#9 7.360 Selecting previously unselected package libgsf-1-common.
#9 7.360 Preparing to unpack .../074-libgsf-1-common_1.14.50-1_all.deb ...
#9 7.362 Unpacking libgsf-1-common (1.14.50-1) ...
#9 7.380 Selecting previously unselected package libgsf-1-114:arm64.
#9 7.380 Preparing to unpack .../075-libgsf-1-114_1.14.50-1_arm64.deb ...
#9 7.381 Unpacking libgsf-1-114:arm64 (1.14.50-1) ...
#9 7.397 Selecting previously unselected package libharfbuzz0b:arm64.
#9 7.398 Preparing to unpack .../076-libharfbuzz0b_6.0.0+dfsg-3_arm64.deb ...
#9 7.400 Unpacking libharfbuzz0b:arm64 (6.0.0+dfsg-3) ...
#9 7.432 Selecting previously unselected package libsz2:arm64.
#9 7.433 Preparing to unpack .../077-libsz2_1.0.6-1+b1_arm64.deb ...
#9 7.434 Unpacking libsz2:arm64 (1.0.6-1+b1) ...
#9 7.445 Selecting previously unselected package libhdf5-103-1:arm64.
#9 7.446 Preparing to unpack .../078-libhdf5-103-1_1.10.8+repack1-1_arm64.deb ...
#9 7.447 Unpacking libhdf5-103-1:arm64 (1.10.8+repack1-1) ...
#9 7.500 Selecting previously unselected package libhwy1:arm64.
#9 7.501 Preparing to unpack .../079-libhwy1_1.0.3-3+deb12u1_arm64.deb ...
#9 7.502 Unpacking libhwy1:arm64 (1.0.3-3+deb12u1) ...
#9 7.525 Selecting previously unselected package libimagequant0:arm64.
#9 7.526 Preparing to unpack .../080-libimagequant0_2.17.0-1_arm64.deb ...
#9 7.526 Unpacking libimagequant0:arm64 (2.17.0-1) ...
#9 7.536 Selecting previously unselected package libimath-3-1-29:arm64.
#9 7.537 Preparing to unpack .../081-libimath-3-1-29_3.1.6-1_arm64.deb ...
#9 7.539 Unpacking libimath-3-1-29:arm64 (3.1.6-1) ...
#9 7.551 Selecting previously unselected package libjemalloc2:arm64.
#9 7.552 Preparing to unpack .../082-libjemalloc2_5.3.0-1_arm64.deb ...
#9 7.553 Unpacking libjemalloc2:arm64 (5.3.0-1) ...
#9 7.572 Selecting previously unselected package libjxl0.7:arm64.
#9 7.573 Preparing to unpack .../083-libjxl0.7_0.7.0-10_arm64.deb ...
#9 7.579 Unpacking libjxl0.7:arm64 (0.7.0-10) ...
#9 7.614 Selecting previously unselected package libmatio11:arm64.
#9 7.615 Preparing to unpack .../084-libmatio11_1.5.23-2_arm64.deb ...
#9 7.616 Unpacking libmatio11:arm64 (1.5.23-2) ...
#9 7.629 Selecting previously unselected package libnspr4:arm64.
#9 7.629 Preparing to unpack .../085-libnspr4_2%3a4.35-1_arm64.deb ...
#9 7.631 Unpacking libnspr4:arm64 (2:4.35-1) ...
#9 7.646 Selecting previously unselected package libsqlite3-0:arm64.
#9 7.646 Preparing to unpack .../086-libsqlite3-0_3.40.1-2_arm64.deb ...
#9 7.647 Unpacking libsqlite3-0:arm64 (3.40.1-2) ...
#9 7.684 Selecting previously unselected package libnss3:arm64.
#9 7.684 Preparing to unpack .../087-libnss3_2%3a3.87.1-1_arm64.deb ...
#9 7.686 Unpacking libnss3:arm64 (2:3.87.1-1) ...
#9 7.747 Selecting previously unselected package libopenexr-3-1-30:arm64.
#9 7.748 Preparing to unpack .../088-libopenexr-3-1-30_3.1.5-5_arm64.deb ...
#9 7.749 Unpacking libopenexr-3-1-30:arm64 (3.1.5-5) ...
#9 7.799 Selecting previously unselected package libopenslide0.
#9 7.799 Preparing to unpack .../089-libopenslide0_3.4.1+dfsg-6+b1_arm64.deb ...
#9 7.800 Unpacking libopenslide0 (3.4.1+dfsg-6+b1) ...
#9 7.812 Selecting previously unselected package liborc-0.4-0:arm64.
#9 7.813 Preparing to unpack .../090-liborc-0.4-0_1%3a0.4.33-2_arm64.deb ...
#9 7.814 Unpacking liborc-0.4-0:arm64 (1:0.4.33-2) ...
#9 7.830 Selecting previously unselected package libthai-data.
#9 7.830 Preparing to unpack .../091-libthai-data_0.1.29-1_all.deb ...
#9 7.831 Unpacking libthai-data (0.1.29-1) ...
#9 7.850 Selecting previously unselected package libthai0:arm64.
#9 7.851 Preparing to unpack .../092-libthai0_0.1.29-1_arm64.deb ...
#9 7.851 Unpacking libthai0:arm64 (0.1.29-1) ...
#9 7.864 Selecting previously unselected package libpango-1.0-0:arm64.
#9 7.865 Preparing to unpack .../093-libpango-1.0-0_1.50.12+ds-1_arm64.deb ...
#9 7.866 Unpacking libpango-1.0-0:arm64 (1.50.12+ds-1) ...
#9 7.884 Selecting previously unselected package libpangoft2-1.0-0:arm64.
#9 7.884 Preparing to unpack .../094-libpangoft2-1.0-0_1.50.12+ds-1_arm64.deb ...
#9 7.887 Unpacking libpangoft2-1.0-0:arm64 (1.50.12+ds-1) ...
#9 7.898 Selecting previously unselected package libpangocairo-1.0-0:arm64.
#9 7.899 Preparing to unpack .../095-libpangocairo-1.0-0_1.50.12+ds-1_arm64.deb ...
#9 7.900 Unpacking libpangocairo-1.0-0:arm64 (1.50.12+ds-1) ...
#9 7.912 Selecting previously unselected package libpoppler126:arm64.
#9 7.913 Preparing to unpack .../096-libpoppler126_22.12.0-2+b1_arm64.deb ...
#9 7.914 Unpacking libpoppler126:arm64 (22.12.0-2+b1) ...
#9 7.968 Selecting previously unselected package libpoppler-glib8:arm64.
#9 7.968 Preparing to unpack .../097-libpoppler-glib8_22.12.0-2+b1_arm64.deb ...
#9 7.969 Unpacking libpoppler-glib8:arm64 (22.12.0-2+b1) ...
#9 7.984 Selecting previously unselected package libpq5:arm64.
#9 7.984 Preparing to unpack .../098-libpq5_15.8-0+deb12u1_arm64.deb ...
#9 7.986 Unpacking libpq5:arm64 (15.8-0+deb12u1) ...
#9 8.003 Selecting previously unselected package libreadline8:arm64.
#9 8.004 Preparing to unpack .../099-libreadline8_8.2-1.3_arm64.deb ...
#9 8.005 Unpacking libreadline8:arm64 (8.2-1.3) ...
#9 8.019 Selecting previously unselected package librsvg2-2:arm64.
#9 8.020 Preparing to unpack .../100-librsvg2-2_2.54.7+dfsg-1~deb12u1_arm64.deb ...
#9 8.020 Unpacking librsvg2-2:arm64 (2.54.7+dfsg-1~deb12u1) ...
#9 8.132 Selecting previously unselected package libvips42:arm64.
#9 8.132 Preparing to unpack .../101-libvips42_8.14.1-3+deb12u1_arm64.deb ...
#9 8.133 Unpacking libvips42:arm64 (8.14.1-3+deb12u1) ...
#9 8.197 Selecting previously unselected package postgresql-client-common.
#9 8.198 Preparing to unpack .../102-postgresql-client-common_248_all.deb ...
#9 8.199 Unpacking postgresql-client-common (248) ...
#9 8.211 Selecting previously unselected package postgresql-client-15.
#9 8.212 Preparing to unpack .../103-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#9 8.213 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#9 8.307 Selecting previously unselected package postgresql-client.
#9 8.307 Preparing to unpack .../104-postgresql-client_15+248_all.deb ...
#9 8.308 Unpacking postgresql-client (15+248) ...
#9 8.321 Setting up libexpat1:arm64 (2.5.0-1) ...
#9 8.327 Setting up libgsf-1-common (1.14.50-1) ...
#9 8.329 Setting up libgraphite2-3:arm64 (1.3.14-1) ...
#9 8.332 Setting up liblcms2-2:arm64 (2.14-2) ...
#9 8.335 Setting up libpixman-1-0:arm64 (0.42.2-1) ...
#9 8.339 Setting up libaom3:arm64 (3.6.0-1+deb12u1) ...
#9 8.341 Setting up libxau6:arm64 (1:1.0.9-1) ...
#9 8.344 Setting up imagemagick-6-common (8:6.9.11.60+dfsg-1.6+deb12u2) ...
#9 8.361 Setting up libpsl5:arm64 (0.21.2-1) ...
#9 8.365 Setting up libcgif0:arm64 (0.3.0-1) ...
#9 8.368 Setting up libicu72:arm64 (72.1-3) ...
#9 8.370 Setting up liblerc4:arm64 (4.0.0+ds-2) ...
#9 8.374 Setting up libdatrie1:arm64 (0.2.13-2+b1) ...
#9 8.377 Setting up libglib2.0-0:arm64 (2.74.6-2+deb12u3) ...
#9 8.381 No schema files found: doing nothing.
#9 8.383 Setting up libbrotli1:arm64 (1.0.9-2+b6) ...
#9 8.385 Setting up libsqlite3-0:arm64 (3.40.1-2) ...
#9 8.388 Setting up libgdk-pixbuf2.0-common (2.42.10+dfsg-1+deb12u1) ...
#9 8.393 Setting up libnghttp2-14:arm64 (1.52.0-1+deb12u1) ...
#9 8.400 Setting up libdeflate0:arm64 (1.14-1) ...
#9 8.402 Setting up libhwy1:arm64 (1.0.3-3+deb12u1) ...
#9 8.405 Setting up libjemalloc2:arm64 (5.3.0-1) ...
#9 8.409 Setting up libgomp1:arm64 (12.2.0-14) ...
#9 8.412 Setting up libimath-3-1-29:arm64 (3.1.6-1) ...
#9 8.415 Setting up libjbig0:arm64 (2.1-6.1) ...
#9 8.418 Setting up libaec0:arm64 (1.0.6-1+b1) ...
#9 8.423 Setting up libsasl2-modules-db:arm64 (2.1.28+dfsg-10) ...
#9 8.426 Setting up perl-modules-5.36 (5.36.0-7+deb12u1) ...
#9 8.428 Setting up libjpeg62-turbo:arm64 (1:2.1.5-2) ...
#9 8.432 Setting up libx11-data (2:1.8.4-2+deb12u2) ...
#9 8.435 Setting up libnspr4:arm64 (2:4.35-1) ...
#9 8.438 Setting up librtmp1:arm64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#9 8.441 Setting up libopenexr-3-1-30:arm64 (3.1.5-5) ...
#9 8.444 Setting up libfribidi0:arm64 (1.0.8-2.1) ...
#9 8.447 Setting up libexif12:arm64 (0.6.24-1+b1) ...
#9 8.451 Setting up libimagequant0:arm64 (2.17.0-1) ...
#9 8.454 Setting up libpng16-16:arm64 (1.6.39-2) ...
#9 8.457 Setting up liborc-0.4-0:arm64 (1:0.4.33-2) ...
#9 8.460 Setting up fonts-dejavu-core (2.37-6) ...
#9 8.476 Setting up libjxl0.7:arm64 (0.7.0-10) ...
#9 8.480 Setting up libdav1d6:arm64 (1.0.0-2+deb12u1) ...
#9 8.482 Setting up libltdl7:arm64 (2.4.7-7~deb12u1) ...
#9 8.485 Setting up libfftw3-double3:arm64 (3.3.10-1) ...
#9 8.489 Setting up libsasl2-2:arm64 (2.1.28+dfsg-10) ...
#9 8.491 Setting up libwebp7:arm64 (1.2.4-0.2+deb12u1) ...
#9 8.495 Setting up libnuma1:arm64 (2.0.16-1) ...
#9 8.498 Setting up liblqr-1-0:arm64 (0.4.2-2.1) ...
#9 8.501 Setting up sensible-utils (0.0.17+nmu1) ...
#9 8.503 Setting up libtiff6:arm64 (4.5.0-6+deb12u1) ...
#9 8.507 Setting up libopenjp2-7:arm64 (2.5.0-2) ...
#9 8.510 Setting up libthai-data (0.1.29-1) ...
#9 8.514 Setting up libssh2-1:arm64 (1.10.0-3+b1) ...
#9 8.516 Setting up netbase (6.4) ...
#9 8.524 Setting up libde265-0:arm64 (1.0.11-1+deb12u2) ...
#9 8.528 Setting up libwebpmux3:arm64 (1.2.4-0.2+deb12u1) ...
#9 8.531 Setting up libbsd0:arm64 (0.11.7-2) ...
#9 8.536 Setting up readline-common (8.2-1.3) ...
#9 8.539 Setting up libxml2:arm64 (2.9.14+dfsg-1.3~deb12u1) ...
#9 8.541 Setting up libsz2:arm64 (1.0.6-1+b1) ...
#9 8.546 Setting up libgdbm6:arm64 (1.23-3) ...
#9 8.549 Setting up libxdmcp6:arm64 (1:1.1.2-3) ...
#9 8.551 Setting up libxcb1:arm64 (1.15-1) ...
#9 8.557 Setting up libxcb-render0:arm64 (1.15-1) ...
#9 8.560 Setting up fontconfig-config (2.14.1-4) ...
#9 8.589 debconf: unable to initialize frontend: Dialog
#9 8.589 debconf: (TERM is not set, so the dialog frontend is not usable.)
#9 8.589 debconf: falling back to frontend: Readline
#9 8.591 debconf: unable to initialize frontend: Readline
#9 8.591 debconf: (This frontend requires a controlling tty.)
#9 8.591 debconf: falling back to frontend: Teletype
#9 8.634 Setting up libwebpdemux2:arm64 (1.2.4-0.2+deb12u1) ...
#9 8.637 Setting up libreadline8:arm64 (8.2-1.3) ...
#9 8.640 Setting up libnss3:arm64 (2:3.87.1-1) ...
#9 8.643 Setting up libxcb-shm0:arm64 (1.15-1) ...
#9 8.647 Setting up libldap-2.5-0:arm64 (2.5.13+dfsg-5) ...
#9 8.649 Setting up libgsf-1-114:arm64 (1.14.50-1) ...
#9 8.653 Setting up libthai0:arm64 (0.1.29-1) ...
#9 8.656 Setting up libfreetype6:arm64 (2.12.1+dfsg-5+deb12u3) ...
#9 8.658 Setting up shared-mime-info (2.2-1) ...
#9 9.286 Setting up libgdbm-compat4:arm64 (1.23-3) ...
#9 9.295 Setting up libx265-199:arm64 (3.5-2+b1) ...
#9 9.299 Setting up libcurl4:arm64 (7.88.1-10+deb12u7) ...
#9 9.304 Setting up libx11-6:arm64 (2:1.8.4-2+deb12u2) ...
#9 9.307 Setting up libharfbuzz0b:arm64 (6.0.0+dfsg-3) ...
#9 9.314 Setting up libgdk-pixbuf-2.0-0:arm64 (2.42.10+dfsg-1+deb12u1) ...
#9 9.327 Setting up curl (7.88.1-10+deb12u7) ...
#9 9.335 Setting up libfontconfig1:arm64 (2.14.1-4) ...
#9 9.339 Setting up libperl5.36:arm64 (5.36.0-7+deb12u1) ...
#9 9.342 Setting up fontconfig (2.14.1-4) ...
#9 9.346 Regenerating fonts cache... done.
#9 11.36 Setting up libxrender1:arm64 (1:0.9.10-1.1) ...
#9 11.37 Setting up libpango-1.0-0:arm64 (1.50.12+ds-1) ...
#9 11.38 Setting up libheif1:arm64 (1.15.1-1) ...
#9 11.38 Setting up libpq5:arm64 (15.8-0+deb12u1) ...
#9 11.39 Setting up libxext6:arm64 (2:1.3.4-1+b1) ...
#9 11.40 Setting up libcurl3-gnutls:arm64 (7.88.1-10+deb12u7) ...
#9 11.40 Setting up libcfitsio10:arm64 (4.2.0-3) ...
#9 11.40 Setting up libcairo2:arm64 (1.16.0-7) ...
#9 11.41 Setting up libmagickcore-6.q16-6:arm64 (8:6.9.11.60+dfsg-1.6+deb12u2) ...
#9 11.41 Setting up perl (5.36.0-7+deb12u1) ...
#9 11.42 Setting up libpoppler126:arm64 (22.12.0-2+b1) ...
#9 11.43 Setting up libhdf5-103-1:arm64 (1.10.8+repack1-1) ...
#9 11.43 Setting up libcairo-gobject2:arm64 (1.16.0-7) ...
#9 11.43 Setting up libpangoft2-1.0-0:arm64 (1.50.12+ds-1) ...
#9 11.44 Setting up libopenslide0 (3.4.1+dfsg-6+b1) ...
#9 11.44 Setting up libpangocairo-1.0-0:arm64 (1.50.12+ds-1) ...
#9 11.45 Setting up postgresql-client-common (248) ...
#9 11.45 Setting up libpoppler-glib8:arm64 (22.12.0-2+b1) ...
#9 11.45 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#9 11.59 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#9 11.60 Setting up librsvg2-2:arm64 (2.54.7+dfsg-1~deb12u1) ...
#9 11.60 Setting up libmatio11:arm64 (1.5.23-2) ...
#9 11.61 Setting up libvips42:arm64 (8.14.1-3+deb12u1) ...
#9 11.61 Setting up postgresql-client (15+248) ...
#9 11.61 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#9 DONE 11.7s

#10 [web build 1/6] RUN apt-get update -qq &&     apt-get install --no-install-recommends -y build-essential git libpq-dev pkg-config &&     rm -rf /var/lib/apt/lists /var/cache/apt/archives
#10 2.009 Reading package lists...
#10 2.209 Building dependency tree...
#10 2.266 Reading state information...
#10 2.331 The following additional packages will be installed:
#10 2.331   binutils binutils-aarch64-linux-gnu binutils-common cpp cpp-12 dpkg-dev g++
#10 2.331   g++-12 gcc gcc-12 git-man libasan8 libatomic1 libbinutils libcc1-0
#10 2.331   libctf-nobfd0 libctf0 libdpkg-perl liberror-perl libgcc-12-dev libgprofng0
#10 2.331   libhwasan0 libisl23 libitm1 libjansson4 liblsan0 libmpc3 libmpfr6
#10 2.331   libpkgconf3 libstdc++-12-dev libtsan2 libubsan1 make patch pkgconf
#10 2.331   pkgconf-bin xz-utils
#10 2.332 Suggested packages:
#10 2.332   binutils-doc cpp-doc gcc-12-locales cpp-12-doc debian-keyring gcc-12-doc
#10 2.332   gcc-multilib manpages-dev autoconf automake libtool flex bison gdb gcc-doc
#10 2.332   gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui
#10 2.332   gitk gitweb git-cvs git-mediawiki git-svn gnupg | sq | sqop | pgpainless-cli
#10 2.332   bzr postgresql-doc-15 libstdc++-12-doc make-doc ed diffutils-doc
#10 2.332 Recommended packages:
#10 2.332   fakeroot gnupg | sq | sqop | pgpainless-cli libalgorithm-merge-perl less
#10 2.332   ssh-client libfile-fcntllock-perl liblocale-gettext-perl
#10 2.433 The following NEW packages will be installed:
#10 2.433   binutils binutils-aarch64-linux-gnu binutils-common build-essential cpp
#10 2.433   cpp-12 dpkg-dev g++ g++-12 gcc gcc-12 git git-man libasan8 libatomic1
#10 2.433   libbinutils libcc1-0 libctf-nobfd0 libctf0 libdpkg-perl liberror-perl
#10 2.433   libgcc-12-dev libgprofng0 libhwasan0 libisl23 libitm1 libjansson4 liblsan0
#10 2.433   libmpc3 libmpfr6 libpkgconf3 libpq-dev libstdc++-12-dev libtsan2 libubsan1
#10 2.434   make patch pkg-config pkgconf pkgconf-bin xz-utils
#10 2.561 0 upgraded, 41 newly installed, 0 to remove and 0 not upgraded.
#10 2.561 Need to get 64.0 MB of archives.
#10 2.561 After this operation, 277 MB of additional disk space will be used.
#10 2.561 Get:1 http://deb.debian.org/debian bookworm/main arm64 xz-utils arm64 5.4.1-0.2 [469 kB]
#10 2.824 Get:2 http://deb.debian.org/debian bookworm/main arm64 binutils-common arm64 2.40-2 [2487 kB]
#10 2.977 Get:3 http://deb.debian.org/debian bookworm/main arm64 libbinutils arm64 2.40-2 [645 kB]
#10 3.015 Get:4 http://deb.debian.org/debian bookworm/main arm64 libctf-nobfd0 arm64 2.40-2 [144 kB]
#10 3.017 Get:5 http://deb.debian.org/debian bookworm/main arm64 libctf0 arm64 2.40-2 [79.2 kB]
#10 3.019 Get:6 http://deb.debian.org/debian bookworm/main arm64 libgprofng0 arm64 2.40-2 [680 kB]
#10 3.039 Get:7 http://deb.debian.org/debian bookworm/main arm64 libjansson4 arm64 2.14-2 [40.2 kB]
#10 3.122 Get:8 http://deb.debian.org/debian bookworm/main arm64 binutils-aarch64-linux-gnu arm64 2.40-2 [2637 kB]
#10 3.207 Get:9 http://deb.debian.org/debian bookworm/main arm64 binutils arm64 2.40-2 [64.9 kB]
#10 3.207 Get:10 http://deb.debian.org/debian bookworm/main arm64 libisl23 arm64 0.25-1.1 [610 kB]
#10 3.210 Get:11 http://deb.debian.org/debian bookworm/main arm64 libmpfr6 arm64 4.2.0-1 [600 kB]
#10 3.214 Get:12 http://deb.debian.org/debian bookworm/main arm64 libmpc3 arm64 1.3.1-1 [49.2 kB]
#10 3.215 Get:13 http://deb.debian.org/debian bookworm/main arm64 cpp-12 arm64 12.2.0-14 [8226 kB]
#10 3.521 Get:14 http://deb.debian.org/debian bookworm/main arm64 cpp arm64 4:12.2.0-3 [6832 B]
#10 3.521 Get:15 http://deb.debian.org/debian bookworm/main arm64 libcc1-0 arm64 12.2.0-14 [37.7 kB]
#10 3.521 Get:16 http://deb.debian.org/debian bookworm/main arm64 libitm1 arm64 12.2.0-14 [23.9 kB]
#10 3.523 Get:17 http://deb.debian.org/debian bookworm/main arm64 libatomic1 arm64 12.2.0-14 [9536 B]
#10 3.524 Get:18 http://deb.debian.org/debian bookworm/main arm64 libasan8 arm64 12.2.0-14 [2095 kB]
#10 3.601 Get:19 http://deb.debian.org/debian bookworm/main arm64 liblsan0 arm64 12.2.0-14 [926 kB]
#10 3.616 Get:20 http://deb.debian.org/debian bookworm/main arm64 libtsan2 arm64 12.2.0-14 [2179 kB]
#10 3.703 Get:21 http://deb.debian.org/debian bookworm/main arm64 libubsan1 arm64 12.2.0-14 [862 kB]
#10 3.721 Get:22 http://deb.debian.org/debian bookworm/main arm64 libhwasan0 arm64 12.2.0-14 [998 kB]
#10 3.780 Get:23 http://deb.debian.org/debian bookworm/main arm64 libgcc-12-dev arm64 12.2.0-14 [959 kB]
#10 3.805 Get:24 http://deb.debian.org/debian bookworm/main arm64 gcc-12 arm64 12.2.0-14 [16.3 MB]
#10 4.455 Get:25 http://deb.debian.org/debian bookworm/main arm64 gcc arm64 4:12.2.0-3 [5244 B]
#10 4.455 Get:26 http://deb.debian.org/debian bookworm/main arm64 libstdc++-12-dev arm64 12.2.0-14 [2006 kB]
#10 4.528 Get:27 http://deb.debian.org/debian bookworm/main arm64 g++-12 arm64 12.2.0-14 [9071 kB]
#10 4.890 Get:28 http://deb.debian.org/debian bookworm/main arm64 g++ arm64 4:12.2.0-3 [1336 B]
#10 4.892 Get:29 http://deb.debian.org/debian bookworm/main arm64 make arm64 4.3-4.1 [391 kB]
#10 4.907 Get:30 http://deb.debian.org/debian bookworm/main arm64 libdpkg-perl all 1.21.22 [603 kB]
#10 4.931 Get:31 http://deb.debian.org/debian bookworm/main arm64 patch arm64 2.7.6-7 [121 kB]
#10 4.932 Get:32 http://deb.debian.org/debian bookworm/main arm64 dpkg-dev all 1.21.22 [1353 kB]
#10 4.983 Get:33 http://deb.debian.org/debian bookworm/main arm64 build-essential arm64 12.9 [7704 B]
#10 4.983 Get:34 http://deb.debian.org/debian bookworm/main arm64 liberror-perl all 0.17029-2 [29.0 kB]
#10 4.983 Get:35 http://deb.debian.org/debian bookworm/main arm64 git-man all 1:2.39.2-1.1 [2049 kB]
#10 5.064 Get:36 http://deb.debian.org/debian bookworm/main arm64 git arm64 1:2.39.2-1.1 [7023 kB]
#10 5.342 Get:37 http://deb.debian.org/debian bookworm/main arm64 libpkgconf3 arm64 1.8.1-1 [35.3 kB]
#10 5.342 Get:38 http://deb.debian.org/debian bookworm/main arm64 libpq-dev arm64 15.8-0+deb12u1 [140 kB]
#10 5.344 Get:39 http://deb.debian.org/debian bookworm/main arm64 pkgconf-bin arm64 1.8.1-1 [28.9 kB]
#10 5.345 Get:40 http://deb.debian.org/debian bookworm/main arm64 pkgconf arm64 1.8.1-1 [25.9 kB]
#10 5.346 Get:41 http://deb.debian.org/debian bookworm/main arm64 pkg-config arm64 1.8.1-1 [13.7 kB]
#10 5.432 debconf: delaying package configuration, since apt-utils is not installed
#10 5.441 Fetched 64.0 MB in 3s (22.0 MB/s)
#10 5.449 Selecting previously unselected package xz-utils.
#10 5.449 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 12899 files and directories currently installed.)
#10 5.453 Preparing to unpack .../00-xz-utils_5.4.1-0.2_arm64.deb ...
#10 5.454 Unpacking xz-utils (5.4.1-0.2) ...
#10 5.483 Selecting previously unselected package binutils-common:arm64.
#10 5.484 Preparing to unpack .../01-binutils-common_2.40-2_arm64.deb ...
#10 5.484 Unpacking binutils-common:arm64 (2.40-2) ...
#10 5.601 Selecting previously unselected package libbinutils:arm64.
#10 5.602 Preparing to unpack .../02-libbinutils_2.40-2_arm64.deb ...
#10 5.603 Unpacking libbinutils:arm64 (2.40-2) ...
#10 5.641 Selecting previously unselected package libctf-nobfd0:arm64.
#10 5.642 Preparing to unpack .../03-libctf-nobfd0_2.40-2_arm64.deb ...
#10 5.643 Unpacking libctf-nobfd0:arm64 (2.40-2) ...
#10 5.658 Selecting previously unselected package libctf0:arm64.
#10 5.658 Preparing to unpack .../04-libctf0_2.40-2_arm64.deb ...
#10 5.659 Unpacking libctf0:arm64 (2.40-2) ...
#10 5.677 Selecting previously unselected package libgprofng0:arm64.
#10 5.678 Preparing to unpack .../05-libgprofng0_2.40-2_arm64.deb ...
#10 5.678 Unpacking libgprofng0:arm64 (2.40-2) ...
#10 5.718 Selecting previously unselected package libjansson4:arm64.
#10 5.719 Preparing to unpack .../06-libjansson4_2.14-2_arm64.deb ...
#10 5.720 Unpacking libjansson4:arm64 (2.14-2) ...
#10 5.728 Selecting previously unselected package binutils-aarch64-linux-gnu.
#10 5.729 Preparing to unpack .../07-binutils-aarch64-linux-gnu_2.40-2_arm64.deb ...
#10 5.730 Unpacking binutils-aarch64-linux-gnu (2.40-2) ...
#10 5.865 Selecting previously unselected package binutils.
#10 5.866 Preparing to unpack .../08-binutils_2.40-2_arm64.deb ...
#10 5.868 Unpacking binutils (2.40-2) ...
#10 5.881 Selecting previously unselected package libisl23:arm64.
#10 5.882 Preparing to unpack .../09-libisl23_0.25-1.1_arm64.deb ...
#10 5.883 Unpacking libisl23:arm64 (0.25-1.1) ...
#10 5.918 Selecting previously unselected package libmpfr6:arm64.
#10 5.919 Preparing to unpack .../10-libmpfr6_4.2.0-1_arm64.deb ...
#10 5.919 Unpacking libmpfr6:arm64 (4.2.0-1) ...
#10 5.941 Selecting previously unselected package libmpc3:arm64.
#10 5.941 Preparing to unpack .../11-libmpc3_1.3.1-1_arm64.deb ...
#10 5.942 Unpacking libmpc3:arm64 (1.3.1-1) ...
#10 5.952 Selecting previously unselected package cpp-12.
#10 5.953 Preparing to unpack .../12-cpp-12_12.2.0-14_arm64.deb ...
#10 5.954 Unpacking cpp-12 (12.2.0-14) ...
#10 6.263 Selecting previously unselected package cpp.
#10 6.264 Preparing to unpack .../13-cpp_4%3a12.2.0-3_arm64.deb ...
#10 6.265 Unpacking cpp (4:12.2.0-3) ...
#10 6.274 Selecting previously unselected package libcc1-0:arm64.
#10 6.275 Preparing to unpack .../14-libcc1-0_12.2.0-14_arm64.deb ...
#10 6.277 Unpacking libcc1-0:arm64 (12.2.0-14) ...
#10 6.287 Selecting previously unselected package libitm1:arm64.
#10 6.288 Preparing to unpack .../15-libitm1_12.2.0-14_arm64.deb ...
#10 6.289 Unpacking libitm1:arm64 (12.2.0-14) ...
#10 6.299 Selecting previously unselected package libatomic1:arm64.
#10 6.299 Preparing to unpack .../16-libatomic1_12.2.0-14_arm64.deb ...
#10 6.300 Unpacking libatomic1:arm64 (12.2.0-14) ...
#10 6.311 Selecting previously unselected package libasan8:arm64.
#10 6.312 Preparing to unpack .../17-libasan8_12.2.0-14_arm64.deb ...
#10 6.313 Unpacking libasan8:arm64 (12.2.0-14) ...
#10 6.412 Selecting previously unselected package liblsan0:arm64.
#10 6.413 Preparing to unpack .../18-liblsan0_12.2.0-14_arm64.deb ...
#10 6.413 Unpacking liblsan0:arm64 (12.2.0-14) ...
#10 6.462 Selecting previously unselected package libtsan2:arm64.
#10 6.462 Preparing to unpack .../19-libtsan2_12.2.0-14_arm64.deb ...
#10 6.463 Unpacking libtsan2:arm64 (12.2.0-14) ...
#10 6.567 Selecting previously unselected package libubsan1:arm64.
#10 6.568 Preparing to unpack .../20-libubsan1_12.2.0-14_arm64.deb ...
#10 6.569 Unpacking libubsan1:arm64 (12.2.0-14) ...
#10 6.616 Selecting previously unselected package libhwasan0:arm64.
#10 6.617 Preparing to unpack .../21-libhwasan0_12.2.0-14_arm64.deb ...
#10 6.618 Unpacking libhwasan0:arm64 (12.2.0-14) ...
#10 6.668 Selecting previously unselected package libgcc-12-dev:arm64.
#10 6.668 Preparing to unpack .../22-libgcc-12-dev_12.2.0-14_arm64.deb ...
#10 6.669 Unpacking libgcc-12-dev:arm64 (12.2.0-14) ...
#10 6.732 Selecting previously unselected package gcc-12.
#10 6.732 Preparing to unpack .../23-gcc-12_12.2.0-14_arm64.deb ...
#10 6.733 Unpacking gcc-12 (12.2.0-14) ...
#10 7.113 Selecting previously unselected package gcc.
#10 7.114 Preparing to unpack .../24-gcc_4%3a12.2.0-3_arm64.deb ...
#10 7.115 Unpacking gcc (4:12.2.0-3) ...
#10 7.124 Selecting previously unselected package libstdc++-12-dev:arm64.
#10 7.125 Preparing to unpack .../25-libstdc++-12-dev_12.2.0-14_arm64.deb ...
#10 7.127 Unpacking libstdc++-12-dev:arm64 (12.2.0-14) ...
#10 7.239 Selecting previously unselected package g++-12.
#10 7.239 Preparing to unpack .../26-g++-12_12.2.0-14_arm64.deb ...
#10 7.240 Unpacking g++-12 (12.2.0-14) ...
#10 7.564 Selecting previously unselected package g++.
#10 7.565 Preparing to unpack .../27-g++_4%3a12.2.0-3_arm64.deb ...
#10 7.565 Unpacking g++ (4:12.2.0-3) ...
#10 7.574 Selecting previously unselected package make.
#10 7.575 Preparing to unpack .../28-make_4.3-4.1_arm64.deb ...
#10 7.576 Unpacking make (4.3-4.1) ...
#10 7.601 Selecting previously unselected package libdpkg-perl.
#10 7.602 Preparing to unpack .../29-libdpkg-perl_1.21.22_all.deb ...
#10 7.602 Unpacking libdpkg-perl (1.21.22) ...
#10 7.631 Selecting previously unselected package patch.
#10 7.632 Preparing to unpack .../30-patch_2.7.6-7_arm64.deb ...
#10 7.633 Unpacking patch (2.7.6-7) ...
#10 7.650 Selecting previously unselected package dpkg-dev.
#10 7.651 Preparing to unpack .../31-dpkg-dev_1.21.22_all.deb ...
#10 7.652 Unpacking dpkg-dev (1.21.22) ...
#10 7.706 Selecting previously unselected package build-essential.
#10 7.706 Preparing to unpack .../32-build-essential_12.9_arm64.deb ...
#10 7.707 Unpacking build-essential (12.9) ...
#10 7.717 Selecting previously unselected package liberror-perl.
#10 7.718 Preparing to unpack .../33-liberror-perl_0.17029-2_all.deb ...
#10 7.719 Unpacking liberror-perl (0.17029-2) ...
#10 7.728 Selecting previously unselected package git-man.
#10 7.729 Preparing to unpack .../34-git-man_1%3a2.39.2-1.1_all.deb ...
#10 7.729 Unpacking git-man (1:2.39.2-1.1) ...
#10 7.786 Selecting previously unselected package git.
#10 7.787 Preparing to unpack .../35-git_1%3a2.39.2-1.1_arm64.deb ...
#10 7.789 Unpacking git (1:2.39.2-1.1) ...
#10 7.977 Selecting previously unselected package libpkgconf3:arm64.
#10 7.978 Preparing to unpack .../36-libpkgconf3_1.8.1-1_arm64.deb ...
#10 7.978 Unpacking libpkgconf3:arm64 (1.8.1-1) ...
#10 7.986 Selecting previously unselected package libpq-dev.
#10 7.987 Preparing to unpack .../37-libpq-dev_15.8-0+deb12u1_arm64.deb ...
#10 7.988 Unpacking libpq-dev (15.8-0+deb12u1) ...
#10 8.001 Selecting previously unselected package pkgconf-bin.
#10 8.002 Preparing to unpack .../38-pkgconf-bin_1.8.1-1_arm64.deb ...
#10 8.003 Unpacking pkgconf-bin (1.8.1-1) ...
#10 8.012 Selecting previously unselected package pkgconf:arm64.
#10 8.013 Preparing to unpack .../39-pkgconf_1.8.1-1_arm64.deb ...
#10 8.016 Unpacking pkgconf:arm64 (1.8.1-1) ...
#10 8.027 Selecting previously unselected package pkg-config:arm64.
#10 8.027 Preparing to unpack .../40-pkg-config_1.8.1-1_arm64.deb ...
#10 8.029 Unpacking pkg-config:arm64 (1.8.1-1) ...
#10 8.046 Setting up binutils-common:arm64 (2.40-2) ...
#10 8.049 Setting up libctf-nobfd0:arm64 (2.40-2) ...
#10 8.054 Setting up libpq-dev (15.8-0+deb12u1) ...
#10 8.057 Setting up libjansson4:arm64 (2.14-2) ...
#10 8.059 Setting up liberror-perl (0.17029-2) ...
#10 8.062 Setting up libpkgconf3:arm64 (1.8.1-1) ...
#10 8.066 Setting up make (4.3-4.1) ...
#10 8.069 Setting up libmpfr6:arm64 (4.2.0-1) ...
#10 8.071 Setting up xz-utils (5.4.1-0.2) ...
#10 8.075 update-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzma.1.gz because associated file /usr/share/man/man1/xz.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/unlzma.1.gz because associated file /usr/share/man/man1/unxz.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzcat.1.gz because associated file /usr/share/man/man1/xzcat.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzmore.1.gz because associated file /usr/share/man/man1/xzmore.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzless.1.gz because associated file /usr/share/man/man1/xzless.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzdiff.1.gz because associated file /usr/share/man/man1/xzdiff.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzcmp.1.gz because associated file /usr/share/man/man1/xzcmp.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzgrep.1.gz because associated file /usr/share/man/man1/xzgrep.1.gz (of link group lzma) doesn't exist
#10 8.075 update-alternatives: warning: skip creation of /usr/share/man/man1/lzegrep.1.gz because associated file /usr/share/man/man1/xzegrep.1.gz (of link group lzma) doesn't exist
#10 8.076 update-alternatives: warning: skip creation of /usr/share/man/man1/lzfgrep.1.gz because associated file /usr/share/man/man1/xzfgrep.1.gz (of link group lzma) doesn't exist
#10 8.077 Setting up libmpc3:arm64 (1.3.1-1) ...
#10 8.081 Setting up libatomic1:arm64 (12.2.0-14) ...
#10 8.083 Setting up patch (2.7.6-7) ...
#10 8.086 Setting up pkgconf-bin (1.8.1-1) ...
#10 8.090 Setting up libdpkg-perl (1.21.22) ...
#10 8.092 Setting up libubsan1:arm64 (12.2.0-14) ...
#10 8.099 Setting up libhwasan0:arm64 (12.2.0-14) ...
#10 8.102 Setting up libasan8:arm64 (12.2.0-14) ...
#10 8.104 Setting up git-man (1:2.39.2-1.1) ...
#10 8.108 Setting up libtsan2:arm64 (12.2.0-14) ...
#10 8.111 Setting up libbinutils:arm64 (2.40-2) ...
#10 8.114 Setting up libisl23:arm64 (0.25-1.1) ...
#10 8.118 Setting up libcc1-0:arm64 (12.2.0-14) ...
#10 8.120 Setting up liblsan0:arm64 (12.2.0-14) ...
#10 8.123 Setting up libitm1:arm64 (12.2.0-14) ...
#10 8.127 Setting up libctf0:arm64 (2.40-2) ...
#10 8.130 Setting up cpp-12 (12.2.0-14) ...
#10 8.132 Setting up pkgconf:arm64 (1.8.1-1) ...
#10 8.136 Setting up libgprofng0:arm64 (2.40-2) ...
#10 8.139 Setting up libgcc-12-dev:arm64 (12.2.0-14) ...
#10 8.143 Setting up pkg-config:arm64 (1.8.1-1) ...
#10 8.145 Setting up git (1:2.39.2-1.1) ...
#10 8.150 Setting up cpp (4:12.2.0-3) ...
#10 8.155 Setting up libstdc++-12-dev:arm64 (12.2.0-14) ...
#10 8.159 Setting up binutils-aarch64-linux-gnu (2.40-2) ...
#10 8.163 Setting up binutils (2.40-2) ...
#10 8.165 Setting up dpkg-dev (1.21.22) ...
#10 8.173 Setting up gcc-12 (12.2.0-14) ...
#10 8.175 Setting up g++-12 (12.2.0-14) ...
#10 8.178 Setting up gcc (4:12.2.0-3) ...
#10 8.186 Setting up g++ (4:12.2.0-3) ...
#10 8.189 update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mode
#10 8.191 Setting up build-essential (12.9) ...
#10 8.194 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#10 DONE 8.3s

#11 [web build 2/6] COPY Gemfile Gemfile.lock ./
#11 DONE 0.0s

#12 [web build 3/6] RUN bundle install &&     rm -rf ~/.bundle/ "/usr/local/bundle"/ruby/*/cache "/usr/local/bundle"/ruby/*/bundler/gems/*/.git &&     bundle exec bootsnap precompile --gemfile
#12 0.201 Bundler 2.5.16 is running, but your lockfile was generated with 2.5.18. Installing Bundler 2.5.18 and restarting using that version.
#12 2.113 Fetching gem metadata from https://rubygems.org/.
#12 2.190 Fetching bundler 2.5.18
#12 2.665 Installing bundler 2.5.18
#12 3.315 Fetching gem metadata from https://rubygems.org/.........
#12 7.521 Fetching rake 13.2.1
#12 7.842 Installing rake 13.2.1
#12 7.879 Fetching base64 0.2.0
#12 7.879 Fetching bigdecimal 3.1.8
#12 7.879 Fetching concurrent-ruby 1.3.4
#12 7.879 Fetching connection_pool 2.4.1
#12 7.879 Fetching drb 2.2.1
#12 7.879 Fetching logger 1.6.1
#12 7.879 Fetching minitest 5.25.1
#12 7.879 Fetching securerandom 0.3.1
#12 7.879 Fetching builder 3.3.0
#12 7.879 Fetching erubi 1.13.0
#12 7.879 Fetching racc 1.8.1
#12 7.947 Installing base64 0.2.0
#12 7.949 Fetching crass 1.0.6
#12 8.030 Installing bigdecimal 3.1.8 with native extensions
#12 8.174 Installing concurrent-ruby 1.3.4
#12 8.187 Fetching rack 3.1.7
#12 8.231 Installing connection_pool 2.4.1
#12 8.233 Fetching useragent 0.16.10
#12 8.291 Installing drb 2.2.1
#12 8.293 Fetching nio4r 2.7.3
#12 8.350 Installing logger 1.6.1
#12 8.351 Fetching websocket-extensions 0.1.5
#12 8.424 Installing minitest 5.25.1
#12 8.428 Fetching zeitwerk 2.6.18
#12 8.488 Installing securerandom 0.3.1
#12 8.490 Fetching timeout 0.4.1
#12 8.549 Installing builder 3.3.0
#12 8.552 Fetching marcel 1.0.4
#12 8.608 Installing erubi 1.13.0
#12 8.609 Fetching mini_mime 1.1.5
#12 8.675 Installing racc 1.8.1 with native extensions
#12 8.736 Installing crass 1.0.6
#12 8.738 Fetching date 3.3.4
#12 8.803 Installing rack 3.1.7
#12 8.809 Fetching public_suffix 6.0.1
#12 8.863 Installing useragent 0.16.10
#12 8.866 Fetching ast 2.4.2
#12 8.954 Fetching babosa 2.0.0
#12 8.956 Installing nio4r 2.7.3 with native extensions
#12 9.004 Installing websocket-extensions 0.1.5
#12 9.007 Fetching bcrypt 3.1.20
#12 9.067 Installing zeitwerk 2.6.18
#12 9.071 Fetching msgpack 1.7.2
#12 9.128 Installing timeout 0.4.1
#12 9.131 Fetching stringio 3.1.1
#12 9.191 Installing marcel 1.0.4
#12 9.194 Fetching io-console 0.7.2
#12 9.255 Installing mini_mime 1.1.5
#12 9.259 Fetching webrick 1.8.1
#12 9.318 Installing date 3.3.4 with native extensions
#12 9.389 Installing public_suffix 6.0.1
#12 9.393 Fetching thor 1.3.2
#12 9.447 Installing ast 2.4.2
#12 9.449 Fetching browser 6.0.0
#12 9.508 Installing babosa 2.0.0
#12 9.512 Fetching matrix 0.4.2
#12 9.572 Installing bcrypt 3.1.20 with native extensions
#12 9.634 Installing msgpack 1.7.2 with native extensions
#12 9.698 Installing stringio 3.1.1 with native extensions
#12 9.766 Installing io-console 0.7.2 with native extensions
#12 9.834 Installing webrick 1.8.1
#12 9.847 Fetching regexp_parser 2.9.2
#12 9.908 Installing thor 1.3.2
#12 9.914 Fetching ffi 1.17.0 (aarch64-linux-gnu)
#12 9.980 Installing browser 6.0.0
#12 9.994 Fetching mini_magick 4.13.2
#12 10.04 Installing matrix 0.4.2
#12 10.05 Fetching json 2.7.2
#12 10.11 Installing regexp_parser 2.9.2
#12 10.16 Fetching kaminari-core 1.2.2
#12 10.17 Fetching language_server-protocol 3.17.0.3
#12 10.26 Installing ffi 1.17.0 (aarch64-linux-gnu)
#12 10.30 Installing mini_magick 4.13.2
#12 10.33 Fetching method_source 1.1.0
#12 10.33 Fetching parallel 1.26.3
#12 10.34 Fetching pg 1.5.8
#12 10.36 Installing json 2.7.2 with native extensions
#12 10.42 Installing kaminari-core 1.2.2
#12 10.43 Fetching rack-rewrite 1.5.1
#12 10.49 Installing language_server-protocol 3.17.0.3
#12 10.51 Fetching rainbow 3.1.1
#12 10.54 Installing method_source 1.1.0
#12 10.55 Fetching rexml 3.3.7
#12 10.62 Installing parallel 1.26.3
#12 10.62 Fetching ruby-progressbar 1.13.0
#12 10.69 Installing pg 1.5.8 with native extensions
#12 10.75 Installing rack-rewrite 1.5.1
#12 10.76 Fetching unicode-display_width 2.5.0
#12 10.81 Installing rainbow 3.1.1
#12 10.82 Fetching rubyzip 2.3.2
#12 10.84 Fetching tilt 2.4.0
#12 10.89 Installing rexml 3.3.7
#12 10.91 Fetching websocket 1.2.11
#12 10.95 Installing ruby-progressbar 1.13.0
#12 10.95 Fetching i18n 1.14.5
#12 11.01 Installing unicode-display_width 2.5.0
#12 11.02 Fetching tzinfo 2.0.6
#12 11.08 Installing rubyzip 2.3.2
#12 11.09 Fetching rack-session 2.0.0
#12 11.14 Installing tilt 2.4.0
#12 11.14 Fetching rack-test 2.1.0
#12 11.20 Installing websocket 1.2.11
#12 11.20 Fetching request_store 1.7.0
#12 11.28 Installing i18n 1.14.5
#12 11.28 Fetching sprockets 4.2.1
#12 11.32 Fetching nokogiri 1.16.7 (aarch64-linux)
#12 11.34 Installing tzinfo 2.0.6
#12 11.35 Fetching brakeman 6.2.1
#12 11.40 Installing rack-session 2.0.0
#12 11.40 Fetching websocket-driver 0.7.6
#12 11.47 Installing rack-test 2.1.0
#12 11.47 Fetching net-protocol 0.2.2
#12 11.52 Installing request_store 1.7.0
#12 11.53 Fetching addressable 2.8.7
#12 11.59 Installing sprockets 4.2.1
#12 11.60 Fetching parser 3.3.5.0
#12 11.88 Fetching rackup 2.1.0
#12 11.93 Installing nokogiri 1.16.7 (aarch64-linux)
#12 12.03 Installing websocket-driver 0.7.6 with native extensions
#12 12.11 Installing net-protocol 0.2.2
#12 12.12 Fetching psych 5.1.2
#12 12.13 Fetching ruby-vips 2.2.2
#12 12.18 Installing addressable 2.8.7
#12 12.19 Installing brakeman 6.2.1
#12 12.22 Fetching sassc 2.4.0
#12 12.24 Fetching puma 6.4.2
#12 12.24 Fetching selenium-webdriver 4.24.0
#12 12.30 Installing parser 3.3.5.0
#12 12.32 Installing rackup 2.1.0
#12 12.34 Fetching reline 0.5.10
#12 12.42 Installing psych 5.1.2 with native extensions
#12 12.46 Fetching mobility 1.2.9
#12 12.50 Installing ruby-vips 2.2.2
#12 12.55 Fetching activesupport 7.2.1
#12 12.56 Fetching net-pop 0.1.2
#12 12.57 Installing sassc 2.4.0 with native extensions
#12 12.64 Installing puma 6.4.2 with native extensions
#12 12.75 Fetching net-smtp 0.5.0
#12 13.14 Installing reline 0.5.10
#12 13.16 Fetching loofah 2.22.0
#12 13.22 Installing mobility 1.2.9
#12 13.32 Installing activesupport 7.2.1
#12 13.34 Installing net-pop 0.1.2
#12 13.35 Installing selenium-webdriver 4.24.0
#12 13.36 Fetching xpath 3.2.0
#12 13.37 Fetching bootsnap 1.18.4
#12 13.40 Fetching image_processing 1.13.0
#12 13.40 Installing net-smtp 0.5.0
#12 13.42 Fetching rubocop-ast 1.32.3
#12 13.46 Installing loofah 2.22.0
#12 13.49 Fetching rdoc 6.7.0
#12 13.52 Installing xpath 3.2.0
#12 13.54 Fetching rails-html-sanitizer 1.6.0
#12 13.58 Installing bootsnap 1.18.4 with native extensions
#12 13.60 Fetching capybara 3.40.0
#12 13.64 Installing image_processing 1.13.0
#12 13.65 Fetching rails-dom-testing 2.2.0
#12 13.71 Installing rubocop-ast 1.32.3
#12 13.77 Fetching globalid 1.2.1
#12 13.78 Fetching activemodel 7.2.1
#12 13.80 Installing rdoc 6.7.0
#12 13.83 Fetching jsonapi-serializer 2.2.0
#12 13.85 Installing rails-html-sanitizer 1.6.0
#12 13.85 Fetching view_component 2.83.0
#12 13.97 Installing capybara 3.40.0
#12 14.00 Fetching rubocop 1.66.1
#12 14.01 Installing rails-dom-testing 2.2.0
#12 14.01 Fetching irb 1.14.0
#12 14.02 Fetching net-imap 0.4.16
#12 14.08 Installing globalid 1.2.1
#12 14.08 Fetching actionview 7.2.1
#12 14.14 Installing activemodel 7.2.1
#12 14.15 Fetching activejob 7.2.1
#12 14.22 Fetching activerecord 7.2.1
#12 14.22 Installing jsonapi-serializer 2.2.0
#12 14.28 Installing view_component 2.83.0
#12 14.38 Installing rubocop 1.66.1
#12 14.43 Fetching rubocop-minitest 0.36.0
#12 14.43 Fetching rubocop-performance 1.21.1
#12 14.43 Fetching rubocop-rails 2.26.1
#12 14.43 Installing irb 1.14.0
#12 14.44 Fetching debug 1.9.2
#12 14.49 Installing net-imap 0.4.16
#12 14.50 Fetching mail 2.8.1
#12 14.55 Installing actionview 7.2.1
#12 14.57 Fetching actionpack 7.2.1
#12 14.61 Installing activejob 7.2.1
#12 14.62 Fetching jbuilder 2.12.0
#12 14.67 Fetching kaminari-actionview 1.2.2
#12 14.70 Installing activerecord 7.2.1
#12 14.75 Fetching ancestry 4.3.3
#12 14.75 Installing rubocop-minitest 0.36.0
#12 14.76 Fetching attr_json 2.4.0
#12 14.81 Installing rubocop-performance 1.21.1
#12 14.82 Fetching kaminari-activerecord 1.2.2
#12 14.89 Installing rubocop-rails 2.26.1
#12 14.90 Fetching rubocop-rails-omakase 1.0.0
#12 14.93 Installing debug 1.9.2 with native extensions
#12 15.01 Installing mail 2.8.1
#12 15.08 Installing actionpack 7.2.1
#12 15.09 Fetching actioncable 7.2.1
#12 15.09 Fetching activestorage 7.2.1
#12 15.13 Installing jbuilder 2.12.0
#12 15.14 Fetching actionmailer 7.2.1
#12 15.19 Installing kaminari-actionview 1.2.2
#12 15.20 Fetching railties 7.2.1
#12 15.20 Fetching sprockets-rails 3.5.2
#12 15.26 Installing ancestry 4.3.3
#12 15.32 Installing attr_json 2.4.0
#12 15.38 Installing kaminari-activerecord 1.2.2
#12 15.38 Fetching kaminari 1.2.2
#12 15.44 Installing rubocop-rails-omakase 1.0.0
#12 15.50 Installing actioncable 7.2.1
#12 15.56 Installing activestorage 7.2.1
#12 15.57 Fetching actionmailbox 7.2.1
#12 15.57 Fetching actiontext 7.2.1
#12 15.63 Installing actionmailer 7.2.1
#12 15.70 Installing railties 7.2.1
#12 15.72 Fetching breadcrumbs_on_rails 4.1.0
#12 15.73 Fetching importmap-rails 2.0.1
#12 15.73 Fetching stimulus-rails 1.3.4
#12 15.73 Fetching turbo-rails 2.0.6
#12 15.76 Installing sprockets-rails 3.5.2
#12 15.84 Installing kaminari 1.2.2
#12 15.90 Installing actionmailbox 7.2.1
#12 15.96 Installing actiontext 7.2.1
#12 15.97 Fetching rails 7.2.1
#12 16.04 Installing breadcrumbs_on_rails 4.1.0
#12 16.10 Installing importmap-rails 2.0.1
#12 16.17 Installing stimulus-rails 1.3.4
#12 16.24 Installing turbo-rails 2.0.6
#12 16.29 Installing rails 7.2.1
#12 36.50 Fetching sassc-rails 2.1.2
#12 36.70 Installing sassc-rails 2.1.2
#12 36.72 Fetching sass-rails 6.0.0
#12 36.79 Installing sass-rails 6.0.0
#12 36.79 Fetching spina 2.5.0
#12 37.15 Installing spina 2.5.0
#12 37.22 Bundle complete! 17 Gemfile dependencies, 121 gems now installed.
#12 37.22 Gems in the group 'development' were not installed.
#12 37.22 Bundled gems are installed into `/usr/local/bundle`
#12 37.22 Post-install message from ancestry:
#12 37.22 Thank you for installing Ancestry. You can visit http://github.com/stefankroes/ancestry to read the documentation.
#12 37.22 Post-install message from mobility:
#12 37.22 
#12 37.22 Warning: Mobility v1.0 includes backwards-incompatible changes (mostly around configuration).
#12 37.22 
#12 37.22 If you are upgrading from an earlier version, please see:
#12 37.22 - https://github.com/shioyama/mobility/releases/tag/v1.0.0
#12 37.22 - https://github.com/shioyama/mobility/wiki/Introduction-to-Mobility-v1.0
#12 37.22 Post-install message from rubyzip:
#12 37.22 RubyZip 3.0 is coming!
#12 37.22 **********************
#12 37.22 
#12 37.22 The public API of some Rubyzip classes has been modernized to use named
#12 37.22 parameters for optional arguments. Please check your usage of the
#12 37.22 following classes:
#12 37.22   * `Zip::File`
#12 37.22   * `Zip::Entry`
#12 37.22   * `Zip::InputStream`
#12 37.22   * `Zip::OutputStream`
#12 37.22 
#12 37.22 Please ensure that your Gemfiles and .gemspecs are suitably restrictive
#12 37.22 to avoid an unexpected breakage when 3.0 is released (e.g. ~> 2.3.0).
#12 37.22 See https://github.com/rubyzip/rubyzip for details. The Changelog also
#12 37.22 lists other enhancements and bugfixes that have been implemented since
#12 37.22 version 2.3.0.
#12 DONE 38.1s

#13 [web build 4/6] COPY . .
#13 DONE 0.0s

#14 [web build 5/6] RUN bundle exec bootsnap precompile app/ lib/
#14 DONE 0.3s

#15 [web build 6/6] RUN SECRET_KEY_BASE_DUMMY=1 ./bin/rails assets:precompile
#15 0.604 /usr/local/lib/ruby/3.3.0/bundled_gems.rb:75: warning: /usr/local/lib/ruby/3.3.0/ostruct.rb was loaded from the standard library, but will no longer be part of the default gems starting from Ruby 3.5.0.
#15 0.604 You can add ostruct to your Gemfile or gemspec to silence this warning.
#15 0.604 Also please contact the author of jbuilder-2.12.0 to request adding ostruct into its gemspec.
#15 11.98 I, [2024-09-12T17:34:57.379876 #7]  INFO -- : Writing /rails/public/assets/manifest-b84bfa46a33d7f0dc4d2e7b8889486c9a957a5e40713d58f54be71b66954a1ff.js
#15 11.98 I, [2024-09-12T17:34:57.380031 #7]  INFO -- : Writing /rails/public/assets/manifest-b84bfa46a33d7f0dc4d2e7b8889486c9a957a5e40713d58f54be71b66954a1ff.js.gz
#15 11.98 I, [2024-09-12T17:34:57.380410 #7]  INFO -- : Writing /rails/public/assets/application-04024382391bb910584145d8113cf35ef376b55d125bb4516cebeb14ce788597.css
#15 11.98 I, [2024-09-12T17:34:57.380869 #7]  INFO -- : Writing /rails/public/assets/application-04024382391bb910584145d8113cf35ef376b55d125bb4516cebeb14ce788597.css.gz
#15 11.98 I, [2024-09-12T17:34:57.381805 #7]  INFO -- : Writing /rails/public/assets/application-37f365cbecf1fa2810a8303f4b6571676fa1f9c56c248528bc14ddb857531b95.js
#15 11.98 I, [2024-09-12T17:34:57.382216 #7]  INFO -- : Writing /rails/public/assets/application-37f365cbecf1fa2810a8303f4b6571676fa1f9c56c248528bc14ddb857531b95.js.gz
#15 11.98 I, [2024-09-12T17:34:57.382633 #7]  INFO -- : Writing /rails/public/assets/controllers/application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e.js
#15 11.98 I, [2024-09-12T17:34:57.383121 #7]  INFO -- : Writing /rails/public/assets/controllers/application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e.js.gz
#15 11.98 I, [2024-09-12T17:34:57.383960 #7]  INFO -- : Writing /rails/public/assets/controllers/hello_controller-549135e8e7c683a538c3d6d517339ba470fcfb79d62f738a0a089ba41851a554.js
#15 11.98 I, [2024-09-12T17:34:57.384436 #7]  INFO -- : Writing /rails/public/assets/controllers/hello_controller-549135e8e7c683a538c3d6d517339ba470fcfb79d62f738a0a089ba41851a554.js.gz
#15 11.98 I, [2024-09-12T17:34:57.384942 #7]  INFO -- : Writing /rails/public/assets/controllers/index-31a9bee606cbc5cdb1593881f388bbf4c345bf693ea24e124f84b6d5c98ab648.js
#15 11.98 I, [2024-09-12T17:34:57.385269 #7]  INFO -- : Writing /rails/public/assets/controllers/index-31a9bee606cbc5cdb1593881f388bbf4c345bf693ea24e124f84b6d5c98ab648.js.gz
#15 11.98 I, [2024-09-12T17:34:57.386017 #7]  INFO -- : Writing /rails/public/assets/spina/manifest-597b5199768f5efff6ec880a4180aec95099b04608cc46e56dfe4e0940ee4665.js
#15 11.98 I, [2024-09-12T17:34:57.386288 #7]  INFO -- : Writing /rails/public/assets/spina/manifest-597b5199768f5efff6ec880a4180aec95099b04608cc46e56dfe4e0940ee4665.js.gz
#15 11.98 I, [2024-09-12T17:34:57.388159 #7]  INFO -- : Writing /rails/public/assets/spina/favicon-21a0e0db190be0a0b3235da222a63c098510cbfcc9cf2ffeebfc5193437b08f7.png
#15 11.99 I, [2024-09-12T17:34:57.390532 #7]  INFO -- : Writing /rails/public/assets/spina/spina-21a0e0db190be0a0b3235da222a63c098510cbfcc9cf2ffeebfc5193437b08f7.png
#15 11.99 I, [2024-09-12T17:34:57.391253 #7]  INFO -- : Writing /rails/public/assets/spina/spina-88b3134c956e719db0f7de71cfceb381dcd06909b26ff84504f3e45c801e90a9.svg
#15 11.99 I, [2024-09-12T17:34:57.392710 #7]  INFO -- : Writing /rails/public/assets/spina/spina-88b3134c956e719db0f7de71cfceb381dcd06909b26ff84504f3e45c801e90a9.svg.gz
#15 11.99 I, [2024-09-12T17:34:57.392976 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-Black-aa1ddf8aee081453463eda5557254ce97ff79aed2596758119660b8630f6fd95.woff2
#15 11.99 I, [2024-09-12T17:34:57.393428 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-BlackItalic-ade6201f35d9e36a49d558c9a68c842b8be2605517aa4766c790333f958118bd.woff2
#15 11.99 I, [2024-09-12T17:34:57.393875 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-Bold-0ba80213bf41a4e3672358eafea0c15abaff2154db6d36447663b93eb860388e.woff2
#15 11.99 I, [2024-09-12T17:34:57.394332 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-BoldItalic-dd9b330b29cd09d74712a69584bba3c1dd429010f8614324815dbf3491284a52.woff2
#15 11.99 I, [2024-09-12T17:34:57.395453 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-ExtraBold-0c9d6890ad56470466c969f2217b5fdfc3030ad583e171bdaadea2c8a255c478.woff2
#15 11.99 I, [2024-09-12T17:34:57.397782 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-ExtraBoldItalic-5b2d1e1ee59ef08a13e7a8094d50102aa0aa1d2a261d9239a14c37f8544b9884.woff2
#15 11.99 I, [2024-09-12T17:34:57.398683 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-ExtraLight-8dddb7cf5fca021da2a0a514cfe685684f12179f0c5f4225972bdf0c37d473a3.woff2
#15 11.99 I, [2024-09-12T17:34:57.399099 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-ExtraLightItalic-bfc92ecd4d4f4e95b4e1364748afbc0c73e9e98419698a1c06b116c100252858.woff2
#15 12.00 I, [2024-09-12T17:34:57.399540 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-Light-684dcea981b2eeb1f7d5573dae824b18bf88af05047dac67e791d654ebafd721.woff2
#15 12.00 I, [2024-09-12T17:34:57.400003 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-LightItalic-f407048afc2bfb73a9799758c4f8815c7089429ad71d4ac3f2169b06ccaec30a.woff2
#15 12.00 I, [2024-09-12T17:34:57.400423 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-Medium-ac01766924caa47d4d5003e0511029259b1cf09e9f76a662382120bc3a42ab6c.woff2
#15 12.00 I, [2024-09-12T17:34:57.400819 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-MediumItalic-9c98ba48c14e4a24ac71f694fb0169fa2accafd1dbcea56d6808c3278f353213.woff2
#15 12.00 I, [2024-09-12T17:34:57.401418 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-Regular-c9cfcc47329e42ace45023c6c0f809d3596bb467f536bafa4e9b8581acf4759c.woff2
#15 12.00 I, [2024-09-12T17:34:57.401881 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-RegularItalic-a0685fff40f99d2dad9623d933fb3d58bc1e3a2d2ad6c04ebf6047c89508afe3.woff2
#15 12.00 I, [2024-09-12T17:34:57.402275 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-SemiBold-55a2d38a26092c641c6a092c6d9617ad19cfbe5201726465c7fc06d5baf9d555.woff2
#15 12.00 I, [2024-09-12T17:34:57.402643 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-SemiBoldItalic-1330a4c098d640540f3b1234989ea290dd3493e9f04a6d38c27d57edd8e11838.woff2
#15 12.00 I, [2024-09-12T17:34:57.403067 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-Thin-b5fa37706a60c4d1195a3568508c3818ca8bd79badcf09b76c10a9e1a4c5915a.woff2
#15 12.00 I, [2024-09-12T17:34:57.403461 #7]  INFO -- : Writing /rails/public/assets/spina/Metropolis-ThinItalic-9fa9ef7bbf779705bd01f4d0df9839bd1a41c294a7d6c16648be26fcebc4d199.woff2
#15 12.00 I, [2024-09-12T17:34:57.403791 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/application-45fc4bcad9e85dc604360628c6b9f08cb7cb978ee0adc468265652514c443281.js
#15 12.00 I, [2024-09-12T17:34:57.404218 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/application-45fc4bcad9e85dc604360628c6b9f08cb7cb978ee0adc468265652514c443281.js.gz
#15 12.00 I, [2024-09-12T17:34:57.406044 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/attachment_picker_controller-7da0e077e29f3383d90382e312412876b3fae1688aa22ebc34e0e2060a35948b.js
#15 12.00 I, [2024-09-12T17:34:57.406649 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/attachment_picker_controller-7da0e077e29f3383d90382e312412876b3fae1688aa22ebc34e0e2060a35948b.js.gz
#15 12.00 I, [2024-09-12T17:34:57.406859 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/autofocus_controller-548aae360d06af6135076aa876b7d1df3924519ae600ab0f4dfa74004d54fbdb.js
#15 12.00 I, [2024-09-12T17:34:57.407039 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/autofocus_controller-548aae360d06af6135076aa876b7d1df3924519ae600ab0f4dfa74004d54fbdb.js.gz
#15 12.00 I, [2024-09-12T17:34:57.407308 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/button_controller-111999570d7f246e41a4ebbdb2dc702248c8635ed66fe5106da63cb42c1decc9.js
#15 12.00 I, [2024-09-12T17:34:57.407578 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/button_controller-111999570d7f246e41a4ebbdb2dc702248c8635ed66fe5106da63cb42c1decc9.js.gz
#15 12.00 I, [2024-09-12T17:34:57.407916 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/confetti_controller-8360e7fa1bfce0df68e6f4019f0f84eae39b7fef53f84e1003d42f1af4f2aaa0.js
#15 12.00 I, [2024-09-12T17:34:57.408209 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/confetti_controller-8360e7fa1bfce0df68e6f4019f0f84eae39b7fef53f84e1003d42f1af4f2aaa0.js.gz
#15 12.00 I, [2024-09-12T17:34:57.408567 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/confirm_controller-34f2847da89fa8de6d0c7e3c913e8b59b175ef5713710c8568bbd0de97250def.js
#15 12.00 I, [2024-09-12T17:34:57.408889 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/confirm_controller-34f2847da89fa8de6d0c7e3c913e8b59b175ef5713710c8568bbd0de97250def.js.gz
#15 12.01 I, [2024-09-12T17:34:57.409173 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/delegate_click_controller-89e267bf74b67cd8194ffa0cdae0bb353d1f7a07cb106e021306175169d88b28.js
#15 12.01 I, [2024-09-12T17:34:57.409485 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/delegate_click_controller-89e267bf74b67cd8194ffa0cdae0bb353d1f7a07cb106e021306175169d88b28.js.gz
#15 12.01 I, [2024-09-12T17:34:57.409908 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/embed_controller-905c6e972345b1d36db053ee7da462769e378607a1a564d348db72a6adf60b3b.js
#15 12.01 I, [2024-09-12T17:34:57.410196 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/embed_controller-905c6e972345b1d36db053ee7da462769e378607a1a564d348db72a6adf60b3b.js.gz
#15 12.01 I, [2024-09-12T17:34:57.410690 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/embed_tag_controller-975d9d0c7c45cdb6c3f13409a7fe7cf9f042670d8386ec7b8a5763cc361f8396.js
#15 12.01 I, [2024-09-12T17:34:57.411034 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/embed_tag_controller-975d9d0c7c45cdb6c3f13409a7fe7cf9f042670d8386ec7b8a5763cc361f8396.js.gz
#15 12.01 I, [2024-09-12T17:34:57.411507 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/exists_controller-24c36b2183e0138159eea5ef00474cc6f3dd33433ceb8bb25a77feef17d90eb4.js
#15 12.01 I, [2024-09-12T17:34:57.411820 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/exists_controller-24c36b2183e0138159eea5ef00474cc6f3dd33433ceb8bb25a77feef17d90eb4.js.gz
#15 12.01 I, [2024-09-12T17:34:57.412316 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/form_controller-e16117b31e0ed11597fec8718fc6c45a268f38205313cb67a929cc0f86de761d.js
#15 12.01 I, [2024-09-12T17:34:57.412587 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/form_controller-e16117b31e0ed11597fec8718fc6c45a268f38205313cb67a929cc0f86de761d.js.gz
#15 12.01 I, [2024-09-12T17:34:57.412877 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/hotkeys_controller-9a5cfa00538f0e3e405ec100b130320f78854851166018dcbbb6ad9dcf2cacfa.js
#15 12.01 I, [2024-09-12T17:34:57.413143 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/hotkeys_controller-9a5cfa00538f0e3e405ec100b130320f78854851166018dcbbb6ad9dcf2cacfa.js.gz
#15 12.01 I, [2024-09-12T17:34:57.413448 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/image_collection_controller-b636752feef1f61cae7c844270bb3f9be2279ab576c19e35b61891d2b6e2fd70.js
#15 12.01 I, [2024-09-12T17:34:57.413773 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/image_collection_controller-b636752feef1f61cae7c844270bb3f9be2279ab576c19e35b61891d2b6e2fd70.js.gz
#15 12.01 I, [2024-09-12T17:34:57.414106 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/image_fade_in_controller-e871b02a557a21ecaf438a3285956eb66457fa6fda995262e43262af5a597c89.js
#15 12.01 I, [2024-09-12T17:34:57.414465 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/image_fade_in_controller-e871b02a557a21ecaf438a3285956eb66457fa6fda995262e43262af5a597c89.js.gz
#15 12.01 I, [2024-09-12T17:34:57.414794 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/index-959121b406ff57af5eb8f5e0d58884251ff1b23ec975500810673270b0225002.js
#15 12.01 I, [2024-09-12T17:34:57.415112 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/index-959121b406ff57af5eb8f5e0d58884251ff1b23ec975500810673270b0225002.js.gz
#15 12.01 I, [2024-09-12T17:34:57.415423 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/infinite_scroll_controller-47025f3dfa2f4b1fa095243ab8cf17da0e3a92a2bb01c809ff36665c032f3ff4.js
#15 12.01 I, [2024-09-12T17:34:57.415739 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/infinite_scroll_controller-47025f3dfa2f4b1fa095243ab8cf17da0e3a92a2bb01c809ff36665c032f3ff4.js.gz
#15 12.01 I, [2024-09-12T17:34:57.416030 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/loading_button_controller-4e4aad711202b18ce503bc3e8e06e679f5df5a8bfc542cbed0625b4918ca03ea.js
#15 12.01 I, [2024-09-12T17:34:57.416316 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/loading_button_controller-4e4aad711202b18ce503bc3e8e06e679f5df5a8bfc542cbed0625b4918ca03ea.js.gz
#15 12.01 I, [2024-09-12T17:34:57.416657 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/media_picker_controller-5a9a8fa358c8bc9419e9d0a7e3e963cb570c323bc63a189cec6dc3a5efce379f.js
#15 12.01 I, [2024-09-12T17:34:57.417123 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/media_picker_controller-5a9a8fa358c8bc9419e9d0a7e3e963cb570c323bc63a189cec6dc3a5efce379f.js.gz
#15 12.01 I, [2024-09-12T17:34:57.417428 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/media_picker_modal_controller-b6d322ead64a8edb8cee1d5e7a96c903ca3e87322255b9a393cadf474c3d3560.js
#15 12.01 I, [2024-09-12T17:34:57.417727 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/media_picker_modal_controller-b6d322ead64a8edb8cee1d5e7a96c903ca3e87322255b9a393cadf474c3d3560.js.gz
#15 12.01 I, [2024-09-12T17:34:57.417990 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/modal_controller-8dc3016c57b19bc0a15a65b66fbe42004297d34253c4696c0ff4f5d343025cca.js
#15 12.01 I, [2024-09-12T17:34:57.418256 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/modal_controller-8dc3016c57b19bc0a15a65b66fbe42004297d34253c4696c0ff4f5d343025cca.js.gz
#15 12.01 I, [2024-09-12T17:34:57.418585 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/navigation_controller-4cead92e250ce769cd3103fc03743690d3f414aa7e1198b9902d19bea3ad3ae7.js
#15 12.01 I, [2024-09-12T17:34:57.418860 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/navigation_controller-4cead92e250ce769cd3103fc03743690d3f414aa7e1198b9902d19bea3ad3ae7.js.gz
#15 12.02 I, [2024-09-12T17:34:57.419211 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/parent_pages_controller-8e0b5d75ff2cd49872c29392777cba3dfd8df046cfaff4b692d480c0dcf22d9d.js
#15 12.02 I, [2024-09-12T17:34:57.419556 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/parent_pages_controller-8e0b5d75ff2cd49872c29392777cba3dfd8df046cfaff4b692d480c0dcf22d9d.js.gz
#15 12.02 I, [2024-09-12T17:34:57.420187 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/repeater_controller-23ab11756aa48c6fc65da1d58720176e2741949e6e395d5e18cf0cf514ce7fce.js
#15 12.02 I, [2024-09-12T17:34:57.420524 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/repeater_controller-23ab11756aa48c6fc65da1d58720176e2741949e6e395d5e18cf0cf514ce7fce.js.gz
#15 12.02 I, [2024-09-12T17:34:57.421011 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/reveal_controller-14502fd487c4cd86c87308fe5a8c4cf9d1b01e9906b6920433801c6617386612.js
#15 12.02 I, [2024-09-12T17:34:57.421528 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/reveal_controller-14502fd487c4cd86c87308fe5a8c4cf9d1b01e9906b6920433801c6617386612.js.gz
#15 12.02 I, [2024-09-12T17:34:57.421798 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/select_placeholder_controller-a03e29f78fd1d8ab315b97efc5ef3b9ed75dc12491a9622bac460d55923fb27f.js
#15 12.02 I, [2024-09-12T17:34:57.422164 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/select_placeholder_controller-a03e29f78fd1d8ab315b97efc5ef3b9ed75dc12491a9622bac460d55923fb27f.js.gz
#15 12.02 I, [2024-09-12T17:34:57.422537 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/selectable_controller-310da48d262345125436362031aa8b07ad61a5d1977f38d26aae78ed6d2e6c53.js
#15 12.02 I, [2024-09-12T17:34:57.422883 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/selectable_controller-310da48d262345125436362031aa8b07ad61a5d1977f38d26aae78ed6d2e6c53.js.gz
#15 12.02 I, [2024-09-12T17:34:57.423207 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/shortcuts_controller-15f0c7b561f717c6b6963cf7ba083ba0683277b28f273fcea33a773e2a35d732.js
#15 12.02 I, [2024-09-12T17:34:57.423531 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/shortcuts_controller-15f0c7b561f717c6b6963cf7ba083ba0683277b28f273fcea33a773e2a35d732.js.gz
#15 12.02 I, [2024-09-12T17:34:57.423905 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/sortable_controller-f841ff25797fe9889fe38dfdbf852ed8f09b15dcd87ef0261154a4b920fcfd01.js
#15 12.02 I, [2024-09-12T17:34:57.424158 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/sortable_controller-f841ff25797fe9889fe38dfdbf852ed8f09b15dcd87ef0261154a4b920fcfd01.js.gz
#15 12.02 I, [2024-09-12T17:34:57.424528 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/switch_controller-a328571027e7f50a078869e8c20c8fcc283b35ef2edd607809f25c538db1a824.js
#15 12.02 I, [2024-09-12T17:34:57.424883 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/switch_controller-a328571027e7f50a078869e8c20c8fcc283b35ef2edd607809f25c538db1a824.js.gz
#15 12.02 I, [2024-09-12T17:34:57.425176 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/tabs_controller-1700be3e1627da3451699994eaf1f62fab7cc025328b9618672cdd2aed47ce40.js
#15 12.02 I, [2024-09-12T17:34:57.425502 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/tabs_controller-1700be3e1627da3451699994eaf1f62fab7cc025328b9618672cdd2aed47ce40.js.gz
#15 12.02 I, [2024-09-12T17:34:57.425815 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/toggle_controller-b8892fd398441aa9c896b25a93eb2e0180a6646b0ff344d930f3adf13c1ee888.js
#15 12.02 I, [2024-09-12T17:34:57.426111 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/toggle_controller-b8892fd398441aa9c896b25a93eb2e0180a6646b0ff344d930f3adf13c1ee888.js.gz
#15 12.02 I, [2024-09-12T17:34:57.426393 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/trix_controller-c0eb13ad7f84d09d1f9b21aa8ad4dae741ebe50b197a35f994d6ff6e5aee4216.js
#15 12.02 I, [2024-09-12T17:34:57.426689 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/trix_controller-c0eb13ad7f84d09d1f9b21aa8ad4dae741ebe50b197a35f994d6ff6e5aee4216.js.gz
#15 12.02 I, [2024-09-12T17:34:57.426980 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/unique_id_controller-1d2f7117a54c4e8f9b45336cbc752f3779347bd86e2a28ae216189a27bcfecee.js
#15 12.02 I, [2024-09-12T17:34:57.427524 #7]  INFO -- : Writing /rails/public/assets/spina/controllers/unique_id_controller-1d2f7117a54c4e8f9b45336cbc752f3779347bd86e2a28ae216189a27bcfecee.js.gz
#15 12.02 I, [2024-09-12T17:34:57.428019 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/canvas-confetti-6a3ba9ee8eea3fe62631194f81f3115695c93d621e758e5ec7894e602530fa0a.js
#15 12.02 I, [2024-09-12T17:34:57.428327 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/canvas-confetti-6a3ba9ee8eea3fe62631194f81f3115695c93d621e758e5ec7894e602530fa0a.js.gz
#15 12.02 I, [2024-09-12T17:34:57.428695 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/canvas-confetti@1.3.2-6a3ba9ee8eea3fe62631194f81f3115695c93d621e758e5ec7894e602530fa0a.js
#15 12.02 I, [2024-09-12T17:34:57.428988 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/canvas-confetti@1.3.2-6a3ba9ee8eea3fe62631194f81f3115695c93d621e758e5ec7894e602530fa0a.js.gz
#15 12.03 I, [2024-09-12T17:34:57.429275 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/form-request-submit-polyfill-a83e442e66645511b3660c74fd081afba2b290d35dbfcd5acc9ccac49b2dab0a.js
#15 12.03 I, [2024-09-12T17:34:57.429550 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/form-request-submit-polyfill-a83e442e66645511b3660c74fd081afba2b290d35dbfcd5acc9ccac49b2dab0a.js.gz
#15 12.03 I, [2024-09-12T17:34:57.429855 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/form-request-submit-polyfill@2.0.0-a83e442e66645511b3660c74fd081afba2b290d35dbfcd5acc9ccac49b2dab0a.js
#15 12.03 I, [2024-09-12T17:34:57.430112 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/form-request-submit-polyfill@2.0.0-a83e442e66645511b3660c74fd081afba2b290d35dbfcd5acc9ccac49b2dab0a.js.gz
#15 12.03 I, [2024-09-12T17:34:57.430480 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/hotkeys-0fe3a09cb8d63d896d693e541b52690d3a8e36c1b88d30f160a7edfdcf1f9627.js
#15 12.03 I, [2024-09-12T17:34:57.430717 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/hotkeys-0fe3a09cb8d63d896d693e541b52690d3a8e36c1b88d30f160a7edfdcf1f9627.js.gz
#15 12.03 I, [2024-09-12T17:34:57.430978 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/hotkeys@3.8.7-0fe3a09cb8d63d896d693e541b52690d3a8e36c1b88d30f160a7edfdcf1f9627.js
#15 12.03 I, [2024-09-12T17:34:57.431224 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/hotkeys@3.8.7-0fe3a09cb8d63d896d693e541b52690d3a8e36c1b88d30f160a7edfdcf1f9627.js.gz
#15 12.03 I, [2024-09-12T17:34:57.431551 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/sortablejs-a0e1e6eebb4b65c345b6dccfcd7642be4c0cf61f5f9d810b1f25d9d142d1abe1.js
#15 12.03 I, [2024-09-12T17:34:57.431869 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/sortablejs-a0e1e6eebb4b65c345b6dccfcd7642be4c0cf61f5f9d810b1f25d9d142d1abe1.js.gz
#15 12.03 I, [2024-09-12T17:34:57.432184 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/sortablejs@1.13.0-a0e1e6eebb4b65c345b6dccfcd7642be4c0cf61f5f9d810b1f25d9d142d1abe1.js
#15 12.03 I, [2024-09-12T17:34:57.432417 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/sortablejs@1.13.0-a0e1e6eebb4b65c345b6dccfcd7642be4c0cf61f5f9d810b1f25d9d142d1abe1.js.gz
#15 12.03 I, [2024-09-12T17:34:57.432685 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/stimulus-reveal@1.2.4-14502fd487c4cd86c87308fe5a8c4cf9d1b01e9906b6920433801c6617386612.js
#15 12.03 I, [2024-09-12T17:34:57.432907 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/stimulus-reveal@1.2.4-14502fd487c4cd86c87308fe5a8c4cf9d1b01e9906b6920433801c6617386612.js.gz
#15 12.03 I, [2024-09-12T17:34:57.433200 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/trix-f11b4a293a3b5d130adb050c054de25f2528309e69f3884bd86b9b433dd55e44.js
#15 12.03 I, [2024-09-12T17:34:57.433582 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/trix-f11b4a293a3b5d130adb050c054de25f2528309e69f3884bd86b9b433dd55e44.js.gz
#15 12.03 I, [2024-09-12T17:34:57.433879 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/trix@1.3.1.esm-1563ff9c10f74e143b3ded40a8458497eaf2f87a648a5cbbfebdb7dec3447a5e.js
#15 12.03 I, [2024-09-12T17:34:57.434146 #7]  INFO -- : Writing /rails/public/assets/spina/libraries/trix@1.3.1.esm-1563ff9c10f74e143b3ded40a8458497eaf2f87a648a5cbbfebdb7dec3447a5e.js.gz
#15 12.03 I, [2024-09-12T17:34:57.434448 #7]  INFO -- : Writing /rails/public/assets/spina/application-4789bdd588a8153b48ce05892a57edb6cb3a2250a7435ba62030978f096efe20.css
#15 12.03 I, [2024-09-12T17:34:57.434724 #7]  INFO -- : Writing /rails/public/assets/spina/application-4789bdd588a8153b48ce05892a57edb6cb3a2250a7435ba62030978f096efe20.css.gz
#15 12.03 I, [2024-09-12T17:34:57.438259 #7]  INFO -- : Writing /rails/public/assets/spina/application-c0dbf246fdceeadcd74ca82ddb53dc1363e05b8db223c9bafeb8f09c42bf9d1d.js
#15 12.03 I, [2024-09-12T17:34:57.438410 #7]  INFO -- : Writing /rails/public/assets/spina/application-c0dbf246fdceeadcd74ca82ddb53dc1363e05b8db223c9bafeb8f09c42bf9d1d.js.gz
#15 12.03 I, [2024-09-12T17:34:57.438712 #7]  INFO -- : Writing /rails/public/assets/turbo-84e828a0e6f1f9418a277df89df877e9a30524438cf8dc007c066655017a44bc.js
#15 12.03 I, [2024-09-12T17:34:57.439005 #7]  INFO -- : Writing /rails/public/assets/turbo-84e828a0e6f1f9418a277df89df877e9a30524438cf8dc007c066655017a44bc.js.gz
#15 12.04 I, [2024-09-12T17:34:57.439397 #7]  INFO -- : Writing /rails/public/assets/turbo.min-cd3ce4205eaa3eb1f80c30fedaf47bccb15a7668eb53b1cb1a5e0dda16009d4d.js
#15 12.04 I, [2024-09-12T17:34:57.439723 #7]  INFO -- : Writing /rails/public/assets/turbo.min-cd3ce4205eaa3eb1f80c30fedaf47bccb15a7668eb53b1cb1a5e0dda16009d4d.js.gz
#15 12.04 I, [2024-09-12T17:34:57.440180 #7]  INFO -- : Writing /rails/public/assets/turbo.min.js-8c7b8876336313c7b6f4b9a098dff2eacad3972491b3171b58bcbe0861320337.map
#15 12.04 I, [2024-09-12T17:34:57.440698 #7]  INFO -- : Writing /rails/public/assets/turbo.min.js-8c7b8876336313c7b6f4b9a098dff2eacad3972491b3171b58bcbe0861320337.map.gz
#15 12.04 I, [2024-09-12T17:34:57.441425 #7]  INFO -- : Writing /rails/public/assets/actiontext-78de0ebeae470799f9ec25fd0e20ae2d931df88c2ff9315918d1054a2fca2596.js
#15 12.04 I, [2024-09-12T17:34:57.442063 #7]  INFO -- : Writing /rails/public/assets/actiontext-78de0ebeae470799f9ec25fd0e20ae2d931df88c2ff9315918d1054a2fca2596.js.gz
#15 12.04 I, [2024-09-12T17:34:57.442749 #7]  INFO -- : Writing /rails/public/assets/actiontext.esm-328ef022563f73c1b9b45ace742bd21330da0f6bd6c1c96d352d52fc8b8857e5.js
#15 12.04 I, [2024-09-12T17:34:57.443575 #7]  INFO -- : Writing /rails/public/assets/actiontext.esm-328ef022563f73c1b9b45ace742bd21330da0f6bd6c1c96d352d52fc8b8857e5.js.gz
#15 12.04 I, [2024-09-12T17:34:57.444012 #7]  INFO -- : Writing /rails/public/assets/trix-686ab55c2aea8035a7f728b61ec7afedfe857f70d6279ab453da775b7469e9e8.js
#15 12.04 I, [2024-09-12T17:34:57.444613 #7]  INFO -- : Writing /rails/public/assets/trix-686ab55c2aea8035a7f728b61ec7afedfe857f70d6279ab453da775b7469e9e8.js.gz
#15 12.04 I, [2024-09-12T17:34:57.444981 #7]  INFO -- : Writing /rails/public/assets/trix-fac9fbf27cd0745d3679d5bcb2f03808303584fba37b06fde11061331daac7a6.css
#15 12.04 I, [2024-09-12T17:34:57.445438 #7]  INFO -- : Writing /rails/public/assets/trix-fac9fbf27cd0745d3679d5bcb2f03808303584fba37b06fde11061331daac7a6.css.gz
#15 12.04 I, [2024-09-12T17:34:57.446131 #7]  INFO -- : Writing /rails/public/assets/stimulus-f75215805563870a61ee9dc5a207ce46d4675c7e667558a54344fd1e7baa697f.js
#15 12.04 I, [2024-09-12T17:34:57.447300 #7]  INFO -- : Writing /rails/public/assets/stimulus-f75215805563870a61ee9dc5a207ce46d4675c7e667558a54344fd1e7baa697f.js.gz
#15 12.04 I, [2024-09-12T17:34:57.448093 #7]  INFO -- : Writing /rails/public/assets/stimulus-autoloader-c584942b568ba74879da31c7c3d51366737bacaf6fbae659383c0a5653685693.js
#15 12.04 I, [2024-09-12T17:34:57.448963 #7]  INFO -- : Writing /rails/public/assets/stimulus-autoloader-c584942b568ba74879da31c7c3d51366737bacaf6fbae659383c0a5653685693.js.gz
#15 12.05 I, [2024-09-12T17:34:57.449738 #7]  INFO -- : Writing /rails/public/assets/stimulus-importmap-autoloader-db2076c783bf2dbee1226e2add52fef290b5d31b5bcd1edd999ac8a6dd31c44a.js
#15 12.05 I, [2024-09-12T17:34:57.450606 #7]  INFO -- : Writing /rails/public/assets/stimulus-importmap-autoloader-db2076c783bf2dbee1226e2add52fef290b5d31b5bcd1edd999ac8a6dd31c44a.js.gz
#15 12.05 I, [2024-09-12T17:34:57.451104 #7]  INFO -- : Writing /rails/public/assets/stimulus-loading-3576ce92b149ad5d6959438c6f291e2426c86df3b874c525b30faad51b0d96b3.js
#15 12.05 I, [2024-09-12T17:34:57.451890 #7]  INFO -- : Writing /rails/public/assets/stimulus-loading-3576ce92b149ad5d6959438c6f291e2426c86df3b874c525b30faad51b0d96b3.js.gz
#15 12.05 I, [2024-09-12T17:34:57.452668 #7]  INFO -- : Writing /rails/public/assets/stimulus.min-dd364f16ec9504dfb72672295637a1c8838773b01c0b441bd41008124c407894.js
#15 12.05 I, [2024-09-12T17:34:57.453323 #7]  INFO -- : Writing /rails/public/assets/stimulus.min-dd364f16ec9504dfb72672295637a1c8838773b01c0b441bd41008124c407894.js.gz
#15 12.05 I, [2024-09-12T17:34:57.454280 #7]  INFO -- : Writing /rails/public/assets/stimulus-autoloader-c584942b568ba74879da31c7c3d51366737bacaf6fbae659383c0a5653685693.js.gz
#15 12.05 I, [2024-09-12T17:34:57.455111 #7]  INFO -- : Writing /rails/public/assets/stimulus-importmap-autoloader-db2076c783bf2dbee1226e2add52fef290b5d31b5bcd1edd999ac8a6dd31c44a.js.gz
#15 12.05 I, [2024-09-12T17:34:57.455952 #7]  INFO -- : Writing /rails/public/assets/stimulus-loading-3576ce92b149ad5d6959438c6f291e2426c86df3b874c525b30faad51b0d96b3.js.gz
#15 12.05 I, [2024-09-12T17:34:57.456773 #7]  INFO -- : Writing /rails/public/assets/stimulus.min.js-2cc63625fa177963b45da974806e7aee846cbf1d4930815733d0fdf3fb232325.map
#15 12.05 I, [2024-09-12T17:34:57.457496 #7]  INFO -- : Writing /rails/public/assets/stimulus.min.js-2cc63625fa177963b45da974806e7aee846cbf1d4930815733d0fdf3fb232325.map.gz
#15 12.05 I, [2024-09-12T17:34:57.458260 #7]  INFO -- : Writing /rails/public/assets/activestorage-503a4fe23aabfbcb752dad255f01835904e6961d5f20d1de13987a691c27d9cd.js
#15 12.05 I, [2024-09-12T17:34:57.458971 #7]  INFO -- : Writing /rails/public/assets/activestorage-503a4fe23aabfbcb752dad255f01835904e6961d5f20d1de13987a691c27d9cd.js.gz
#15 12.06 I, [2024-09-12T17:34:57.459745 #7]  INFO -- : Writing /rails/public/assets/activestorage.esm-b3f7f0a5ef90530b509c5e681c4b3ef5d5046851e5b70d57fdb45e32b039c883.js
#15 12.06 I, [2024-09-12T17:34:57.460162 #7]  INFO -- : Writing /rails/public/assets/activestorage.esm-b3f7f0a5ef90530b509c5e681c4b3ef5d5046851e5b70d57fdb45e32b039c883.js.gz
#15 12.06 I, [2024-09-12T17:34:57.460603 #7]  INFO -- : Writing /rails/public/assets/actioncable-323d156a10054ee2c94ba8a17c20458f542a17234f934ea53d16e0e1899fda5e.js
#15 12.06 I, [2024-09-12T17:34:57.460917 #7]  INFO -- : Writing /rails/public/assets/actioncable-323d156a10054ee2c94ba8a17c20458f542a17234f934ea53d16e0e1899fda5e.js.gz
#15 12.06 I, [2024-09-12T17:34:57.461231 #7]  INFO -- : Writing /rails/public/assets/actioncable.esm-b66d83871f0a453b10ba8b4c147c2bafa655caaa5d13fa34e9bf361c1c2aedb7.js
#15 12.06 I, [2024-09-12T17:34:57.461719 #7]  INFO -- : Writing /rails/public/assets/actioncable.esm-b66d83871f0a453b10ba8b4c147c2bafa655caaa5d13fa34e9bf361c1c2aedb7.js.gz
#15 DONE 12.2s

#16 [web stage-2 1/3] COPY --from=build /usr/local/bundle /usr/local/bundle
#16 DONE 0.4s

#17 [web stage-2 2/3] COPY --from=build /rails /rails
#17 DONE 0.3s

#18 [web stage-2 3/3] RUN groupadd --system --gid 1000 rails &&     useradd rails --uid 1000 --gid 1000 --create-home --shell /bin/bash &&     chown -R rails:rails db log storage tmp
#18 DONE 5.0s

#19 [web] exporting to image
#19 exporting layers
#19 exporting layers 0.4s done
#19 writing image sha256:9364e24ba5242beaece26068e223343fa2a9bca47ab2e3f688c57ef81b4782b3 done
#19 naming to docker.io/library/spina-app-web
#19 naming to docker.io/library/spina-app-web done
#19 DONE 0.4s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 655B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 896B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 30B done
#5 DONE 0.0s

#6 [web 3/7] WORKDIR /app/
#6 CACHED

#7 [web 4/7] COPY .env.dev .env
#7 ERROR: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::ncxwqzbfft3sca2knsoqqqygf: "/.env.dev": not found

#8 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#8 1.959 Reading package lists...
#8 2.170 Building dependency tree...
#8 2.229 Reading state information...
#8 2.294 The following additional packages will be installed:
#8 2.295   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#8 2.295   node-undici node-xtend nodejs-doc postgresql-client-15
#8 2.295   postgresql-client-common
#8 2.295 Suggested packages:
#8 2.295   npm postgresql-15 postgresql-doc-15
#8 2.340 The following NEW packages will be installed:
#8 2.340   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#8 2.340   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#8 2.340   postgresql-client postgresql-client-15 postgresql-client-common
#8 2.468 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#8 2.468 Need to get 15.9 MB of archives.
#8 2.468 After this operation, 75.6 MB of additional disk space will be used.
#8 2.468 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#8 2.610 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#8 2.638 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#8 2.638 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#8 2.742 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#8 2.747 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#8 2.750 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#8 2.750 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#8 2.793 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#8 3.275 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#8 3.276 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#8 3.507 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#8 3.508 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#8 3.612 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#8 3.740 debconf: delaying package configuration, since apt-utils is not installed
#8 3.755 Fetched 15.9 MB in 1s (12.5 MB/s)
#8 3.764 Selecting previously unselected package libc-ares2:arm64.
#8 3.764 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#8 3.774 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#8 3.776 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#8 3.791 Selecting previously unselected package libuv1:arm64.
#8 3.792 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#8 3.793 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#8 3.808 Selecting previously unselected package node-xtend.
#8 3.809 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#8 3.810 Unpacking node-xtend (4.0.2-3) ...
#8 3.819 Selecting previously unselected package nodejs.
#8 3.820 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#8 3.821 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#8 3.853 Selecting previously unselected package node-acorn.
#8 3.855 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#8 3.858 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#8 3.885 Selecting previously unselected package node-cjs-module-lexer.
#8 3.886 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#8 3.887 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#8 3.897 Selecting previously unselected package node-busboy.
#8 3.898 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#8 3.899 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#8 3.913 Selecting previously unselected package node-undici.
#8 3.914 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#8 3.918 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#8 3.942 Selecting previously unselected package libnode108:arm64.
#8 3.943 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#8 3.944 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#8 4.251 Selecting previously unselected package netcat-openbsd.
#8 4.252 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#8 4.252 Unpacking netcat-openbsd (1.219-1) ...
#8 4.263 Selecting previously unselected package nodejs-doc.
#8 4.264 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#8 4.265 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#8 4.395 Selecting previously unselected package postgresql-client-common.
#8 4.396 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#8 4.396 Unpacking postgresql-client-common (248) ...
#8 4.410 Selecting previously unselected package postgresql-client-15.
#8 4.411 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#8 4.412 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#8 4.498 Selecting previously unselected package postgresql-client.
#8 4.499 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#8 4.500 Unpacking postgresql-client (15+248) ...
#8 4.513 Setting up postgresql-client-common (248) ...
#8 4.518 Setting up netcat-openbsd (1.219-1) ...
#8 4.523 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#8 4.524 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#8 4.663 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#8 4.675 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#8 4.678 Setting up libc-ares2:arm64 (1.18.1-3) ...
#8 4.681 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#8 4.684 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#8 4.687 Setting up node-xtend (4.0.2-3) ...
#8 4.690 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#8 4.692 Setting up postgresql-client (15+248) ...
#8 4.695 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#8 4.700 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#8 4.704 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#8 4.706 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#8 4.709 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#8 4.711 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#8 DONE 4.8s
------
 > [web 4/7] COPY .env.dev .env:
------
failed to solve: failed to compute cache key: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::ncxwqzbfft3sca2knsoqqqygf: "/.env.dev": not found
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 724B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 896B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [web 3/7] WORKDIR /app/
#6 CACHED

#7 [web 5/7] RUN gem install bundler rails
#7 CACHED

#8 [web 4/7] COPY .env.dev .env
#8 ERROR: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::wpzcesqchp06r4preaxmcmgwa: "/.env.dev": not found

#9 [web 6/7] COPY setup.sh /app/entrypoint.sh
#9 ERROR: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::wpzcesqchp06r4preaxmcmgwa: "/setup.sh": not found

#10 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#10 1.970 Reading package lists...
#10 2.171 Building dependency tree...
#10 2.224 Reading state information...
#10 2.287 The following additional packages will be installed:
#10 2.288   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#10 2.288   node-undici node-xtend nodejs-doc postgresql-client-15
#10 2.288   postgresql-client-common
#10 2.288 Suggested packages:
#10 2.288   npm postgresql-15 postgresql-doc-15
#10 2.331 The following NEW packages will be installed:
#10 2.331   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#10 2.331   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#10 2.331   postgresql-client postgresql-client-15 postgresql-client-common
#10 2.460 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#10 2.460 Need to get 15.9 MB of archives.
#10 2.460 After this operation, 75.6 MB of additional disk space will be used.
#10 2.460 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#10 2.600 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#10 2.626 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#10 2.627 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#10 2.732 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#10 2.737 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#10 2.740 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#10 2.741 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#10 2.782 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#10 3.273 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#10 3.274 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#10 3.397 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#10 3.398 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#10 3.453 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#10 3.573 debconf: delaying package configuration, since apt-utils is not installed
#10 3.587 Fetched 15.9 MB in 1s (14.2 MB/s)
#10 3.598 Selecting previously unselected package libc-ares2:arm64.
#10 3.598 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#10 3.606 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#10 3.608 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#10 3.620 Selecting previously unselected package libuv1:arm64.
#10 3.621 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#10 3.622 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#10 3.636 Selecting previously unselected package node-xtend.
#10 3.637 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#10 3.638 Unpacking node-xtend (4.0.2-3) ...
#10 3.648 Selecting previously unselected package nodejs.
#10 3.649 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#10 3.650 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#10 3.681 Selecting previously unselected package node-acorn.
#10 3.682 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#10 3.683 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#10 3.701 Selecting previously unselected package node-cjs-module-lexer.
#10 3.701 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#10 3.702 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#10 3.713 Selecting previously unselected package node-busboy.
#10 3.714 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#10 3.715 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#10 3.726 Selecting previously unselected package node-undici.
#10 3.727 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#10 3.729 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#10 3.751 Selecting previously unselected package libnode108:arm64.
#10 3.752 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#10 3.754 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#10 4.039 Selecting previously unselected package netcat-openbsd.
#10 4.040 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#10 4.041 Unpacking netcat-openbsd (1.219-1) ...
#10 4.052 Selecting previously unselected package nodejs-doc.
#10 4.053 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#10 4.054 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#10 4.180 Selecting previously unselected package postgresql-client-common.
#10 4.181 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#10 4.182 Unpacking postgresql-client-common (248) ...
#10 4.194 Selecting previously unselected package postgresql-client-15.
#10 4.195 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#10 4.196 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#10 4.281 Selecting previously unselected package postgresql-client.
#10 4.282 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#10 4.282 Unpacking postgresql-client (15+248) ...
#10 4.295 Setting up postgresql-client-common (248) ...
#10 4.301 Setting up netcat-openbsd (1.219-1) ...
#10 4.305 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#10 4.306 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#10 4.443 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#10 4.453 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#10 4.457 Setting up libc-ares2:arm64 (1.18.1-3) ...
#10 4.461 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#10 4.464 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#10 4.467 Setting up node-xtend (4.0.2-3) ...
#10 4.470 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#10 4.472 Setting up postgresql-client (15+248) ...
#10 4.476 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#10 4.481 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#10 4.483 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#10 4.487 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#10 4.491 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#10 4.492 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#10 DONE 4.6s
------
 > [web 4/7] COPY .env.dev .env:
------
------
 > [web 6/7] COPY setup.sh /app/entrypoint.sh:
------
failed to solve: failed to compute cache key: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::wpzcesqchp06r4preaxmcmgwa: "/setup.sh": not found
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 729B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 896B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 512B done
#5 DONE 0.0s

#6 [web 3/7] WORKDIR /app/
#6 CACHED

#7 [web 4/7] COPY .env.dev .env
#7 ERROR: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::qnk93whfju9eb2b06xt9fde5k: "/.env.dev": not found

#8 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#8 1.824 Reading package lists...
#8 2.023 Building dependency tree...
#8 2.076 Reading state information...
#8 2.140 The following additional packages will be installed:
#8 2.140   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#8 2.140   node-undici node-xtend nodejs-doc postgresql-client-15
#8 2.140   postgresql-client-common
#8 2.140 Suggested packages:
#8 2.140   npm postgresql-15 postgresql-doc-15
#8 2.183 The following NEW packages will be installed:
#8 2.184   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#8 2.184   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#8 2.184   postgresql-client postgresql-client-15 postgresql-client-common
#8 2.311 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#8 2.311 Need to get 15.9 MB of archives.
#8 2.311 After this operation, 75.6 MB of additional disk space will be used.
#8 2.311 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#8 2.452 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#8 2.475 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#8 2.477 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#8 2.581 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#8 2.591 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#8 2.593 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#8 2.594 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#8 2.637 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#8 3.137 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#8 3.137 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#8 3.196 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#8 3.197 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#8 3.235 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#8 3.343 debconf: delaying package configuration, since apt-utils is not installed
#8 3.357 Fetched 15.9 MB in 1s (15.1 MB/s)
#8 3.367 Selecting previously unselected package libc-ares2:arm64.
#8 3.367 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#8 3.373 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#8 3.374 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#8 3.388 Selecting previously unselected package libuv1:arm64.
#8 3.389 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#8 3.389 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#8 3.401 Selecting previously unselected package node-xtend.
#8 3.402 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#8 3.403 Unpacking node-xtend (4.0.2-3) ...
#8 3.412 Selecting previously unselected package nodejs.
#8 3.413 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#8 3.413 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#8 3.441 Selecting previously unselected package node-acorn.
#8 3.442 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#8 3.443 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#8 3.458 Selecting previously unselected package node-cjs-module-lexer.
#8 3.459 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#8 3.460 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#8 3.469 Selecting previously unselected package node-busboy.
#8 3.470 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#8 3.471 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#8 3.482 Selecting previously unselected package node-undici.
#8 3.483 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#8 3.485 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#8 3.507 Selecting previously unselected package libnode108:arm64.
#8 3.508 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#8 3.509 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#8 3.788 Selecting previously unselected package netcat-openbsd.
#8 3.789 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#8 3.790 Unpacking netcat-openbsd (1.219-1) ...
#8 3.800 Selecting previously unselected package nodejs-doc.
#8 3.801 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#8 3.802 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#8 3.928 Selecting previously unselected package postgresql-client-common.
#8 3.929 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#8 3.930 Unpacking postgresql-client-common (248) ...
#8 3.941 Selecting previously unselected package postgresql-client-15.
#8 3.942 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#8 3.943 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#8 4.027 Selecting previously unselected package postgresql-client.
#8 4.028 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#8 4.028 Unpacking postgresql-client (15+248) ...
#8 4.043 Setting up postgresql-client-common (248) ...
#8 4.047 Setting up netcat-openbsd (1.219-1) ...
#8 4.052 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#8 4.053 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#8 4.188 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#8 4.198 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#8 4.203 Setting up libc-ares2:arm64 (1.18.1-3) ...
#8 4.205 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#8 4.209 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#8 4.211 Setting up node-xtend (4.0.2-3) ...
#8 4.214 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#8 4.217 Setting up postgresql-client (15+248) ...
#8 4.219 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#8 4.223 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#8 4.226 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#8 4.229 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#8 4.231 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#8 4.233 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#8 DONE 4.3s
------
 > [web 4/7] COPY .env.dev .env:
------
failed to solve: failed to compute cache key: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::qnk93whfju9eb2b06xt9fde5k: "/.env.dev": not found
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 729B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 300B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.776 Reading package lists...
#6 1.974 Building dependency tree...
#6 2.028 Reading state information...
#6 2.092 The following additional packages will be installed:
#6 2.092   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.093   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.093   postgresql-client-common
#6 2.093 Suggested packages:
#6 2.093   npm postgresql-15 postgresql-doc-15
#6 2.134 The following NEW packages will be installed:
#6 2.135   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.135   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.135   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.260 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.260 Need to get 15.9 MB of archives.
#6 2.260 After this operation, 75.6 MB of additional disk space will be used.
#6 2.260 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.400 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.459 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.462 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.531 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.543 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.545 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.547 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.582 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.045 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.045 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.159 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.160 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.214 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.286 debconf: delaying package configuration, since apt-utils is not installed
#6 3.296 Fetched 15.9 MB in 1s (14.8 MB/s)
#6 3.304 Selecting previously unselected package libc-ares2:arm64.
#6 3.304 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.310 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.311 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.326 Selecting previously unselected package libuv1:arm64.
#6 3.327 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.328 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.343 Selecting previously unselected package node-xtend.
#6 3.344 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.345 Unpacking node-xtend (4.0.2-3) ...
#6 3.354 Selecting previously unselected package nodejs.
#6 3.355 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.357 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.389 Selecting previously unselected package node-acorn.
#6 3.390 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.391 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.407 Selecting previously unselected package node-cjs-module-lexer.
#6 3.408 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.410 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.420 Selecting previously unselected package node-busboy.
#6 3.421 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.422 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.432 Selecting previously unselected package node-undici.
#6 3.433 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.435 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.458 Selecting previously unselected package libnode108:arm64.
#6 3.459 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.460 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.746 Selecting previously unselected package netcat-openbsd.
#6 3.747 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.748 Unpacking netcat-openbsd (1.219-1) ...
#6 3.757 Selecting previously unselected package nodejs-doc.
#6 3.758 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.759 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 3.887 Selecting previously unselected package postgresql-client-common.
#6 3.888 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 3.889 Unpacking postgresql-client-common (248) ...
#6 3.901 Selecting previously unselected package postgresql-client-15.
#6 3.902 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 3.903 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 3.988 Selecting previously unselected package postgresql-client.
#6 3.989 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 3.990 Unpacking postgresql-client (15+248) ...
#6 4.006 Setting up postgresql-client-common (248) ...
#6 4.012 Setting up netcat-openbsd (1.219-1) ...
#6 4.014 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.017 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.154 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.165 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.168 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.171 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.174 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.177 Setting up node-xtend (4.0.2-3) ...
#6 4.179 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.182 Setting up postgresql-client (15+248) ...
#6 4.186 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.191 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.194 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.196 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.200 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.202 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.3s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 13.01 Successfully installed bundler-2.5.18
#9 13.01 Successfully installed zeitwerk-2.6.18
#9 13.01 Successfully installed thor-1.3.2
#9 13.01 Successfully installed webrick-1.8.1
#9 13.01 Successfully installed rack-3.1.7
#9 13.01 Successfully installed rackup-2.1.0
#9 13.01 Successfully installed concurrent-ruby-1.3.4
#9 13.01 Successfully installed tzinfo-2.0.6
#9 13.01 Successfully installed i18n-1.14.5
#9 13.01 Successfully installed connection_pool-2.4.1
#9 13.01 Successfully installed activesupport-7.2.1
#9 13.01 Successfully installed useragent-0.16.10
#9 13.01 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 13.01 Successfully installed crass-1.0.6
#9 13.01 Successfully installed loofah-2.22.0
#9 13.01 Successfully installed rails-html-sanitizer-1.6.0
#9 13.01 Successfully installed rails-dom-testing-2.2.0
#9 13.01 Successfully installed rack-test-2.1.0
#9 13.01 Successfully installed rack-session-2.0.0
#9 13.01 Successfully installed erubi-1.13.0
#9 13.01 Successfully installed builder-3.3.0
#9 13.01 Successfully installed actionview-7.2.1
#9 13.01 Successfully installed actionpack-7.2.1
#9 13.01 Successfully installed railties-7.2.1
#9 13.01 Successfully installed marcel-1.0.4
#9 13.01 Successfully installed activemodel-7.2.1
#9 13.01 Successfully installed activerecord-7.2.1
#9 13.01 Successfully installed globalid-1.2.1
#9 13.01 Successfully installed activejob-7.2.1
#9 13.01 Successfully installed activestorage-7.2.1
#9 13.01 Successfully installed actiontext-7.2.1
#9 13.01 Successfully installed mini_mime-1.1.5
#9 13.01 Successfully installed mail-2.8.1
#9 13.01 Successfully installed actionmailer-7.2.1
#9 13.01 Successfully installed actionmailbox-7.2.1
#9 13.01 Successfully installed websocket-extensions-0.1.5
#9 13.01 Building native extensions. This could take a while...
#9 13.12 Successfully installed websocket-driver-0.7.6
#9 13.12 Building native extensions. This could take a while...
#9 14.62 Successfully installed nio4r-2.7.3
#9 14.62 Successfully installed actioncable-7.2.1
#9 14.62 Successfully installed rails-7.2.1
#9 14.62 40 gems installed
#9 DONE 14.7s

#10 [web 6/7] COPY entrypoint.sh /app/entrypoint.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/entrypoint.sh
#11 DONE 0.1s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:4498f68af9d885d8504b716263f8267e2e8ee804ea213635a8d4b16405691a42 done
#12 naming to docker.io/library/spina-app-web
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "./entrypoint.sh": stat ./entrypoint.sh: no such file or directory: unknown
Error starting containers. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 733B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 63B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.928 Reading package lists...
#6 2.136 Building dependency tree...
#6 2.188 Reading state information...
#6 2.252 The following additional packages will be installed:
#6 2.253   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.253   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.253   postgresql-client-common
#6 2.253 Suggested packages:
#6 2.253   npm postgresql-15 postgresql-doc-15
#6 2.298 The following NEW packages will be installed:
#6 2.298   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.298   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.299   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.427 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.427 Need to get 15.9 MB of archives.
#6 2.427 After this operation, 75.6 MB of additional disk space will be used.
#6 2.427 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.569 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.631 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.635 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.706 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.718 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.719 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.746 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.763 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.326 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.328 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.388 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.388 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.446 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.558 debconf: delaying package configuration, since apt-utils is not installed
#6 3.569 Fetched 15.9 MB in 1s (13.9 MB/s)
#6 3.577 Selecting previously unselected package libc-ares2:arm64.
#6 3.577 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.587 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.589 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.603 Selecting previously unselected package libuv1:arm64.
#6 3.604 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.604 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.617 Selecting previously unselected package node-xtend.
#6 3.618 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.619 Unpacking node-xtend (4.0.2-3) ...
#6 3.627 Selecting previously unselected package nodejs.
#6 3.628 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.629 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.661 Selecting previously unselected package node-acorn.
#6 3.662 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.663 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.680 Selecting previously unselected package node-cjs-module-lexer.
#6 3.681 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.682 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.691 Selecting previously unselected package node-busboy.
#6 3.692 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.692 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.703 Selecting previously unselected package node-undici.
#6 3.704 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.706 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.729 Selecting previously unselected package libnode108:arm64.
#6 3.730 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.731 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.025 Selecting previously unselected package netcat-openbsd.
#6 4.026 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.027 Unpacking netcat-openbsd (1.219-1) ...
#6 4.037 Selecting previously unselected package nodejs-doc.
#6 4.038 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.039 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.166 Selecting previously unselected package postgresql-client-common.
#6 4.167 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.168 Unpacking postgresql-client-common (248) ...
#6 4.179 Selecting previously unselected package postgresql-client-15.
#6 4.180 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.181 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.265 Selecting previously unselected package postgresql-client.
#6 4.266 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.267 Unpacking postgresql-client (15+248) ...
#6 4.279 Setting up postgresql-client-common (248) ...
#6 4.283 Setting up netcat-openbsd (1.219-1) ...
#6 4.286 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.287 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.426 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.440 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.442 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.445 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.447 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.449 Setting up node-xtend (4.0.2-3) ...
#6 4.451 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.453 Setting up postgresql-client (15+248) ...
#6 4.455 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.459 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.462 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.464 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.467 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.468 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 12.94 Successfully installed bundler-2.5.18
#9 12.94 Successfully installed zeitwerk-2.6.18
#9 12.94 Successfully installed thor-1.3.2
#9 12.94 Successfully installed webrick-1.8.1
#9 12.94 Successfully installed rack-3.1.7
#9 12.94 Successfully installed rackup-2.1.0
#9 12.94 Successfully installed concurrent-ruby-1.3.4
#9 12.94 Successfully installed tzinfo-2.0.6
#9 12.94 Successfully installed i18n-1.14.5
#9 12.94 Successfully installed connection_pool-2.4.1
#9 12.94 Successfully installed activesupport-7.2.1
#9 12.94 Successfully installed useragent-0.16.10
#9 12.94 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 12.94 Successfully installed crass-1.0.6
#9 12.94 Successfully installed loofah-2.22.0
#9 12.94 Successfully installed rails-html-sanitizer-1.6.0
#9 12.94 Successfully installed rails-dom-testing-2.2.0
#9 12.94 Successfully installed rack-test-2.1.0
#9 12.94 Successfully installed rack-session-2.0.0
#9 12.94 Successfully installed erubi-1.13.0
#9 12.94 Successfully installed builder-3.3.0
#9 12.94 Successfully installed actionview-7.2.1
#9 12.94 Successfully installed actionpack-7.2.1
#9 12.94 Successfully installed railties-7.2.1
#9 12.94 Successfully installed marcel-1.0.4
#9 12.94 Successfully installed activemodel-7.2.1
#9 12.94 Successfully installed activerecord-7.2.1
#9 12.94 Successfully installed globalid-1.2.1
#9 12.94 Successfully installed activejob-7.2.1
#9 12.94 Successfully installed activestorage-7.2.1
#9 12.94 Successfully installed actiontext-7.2.1
#9 12.94 Successfully installed mini_mime-1.1.5
#9 12.94 Successfully installed mail-2.8.1
#9 12.94 Successfully installed actionmailer-7.2.1
#9 12.94 Successfully installed actionmailbox-7.2.1
#9 12.94 Successfully installed websocket-extensions-0.1.5
#9 12.94 Building native extensions. This could take a while...
#9 13.07 Successfully installed websocket-driver-0.7.6
#9 13.07 Building native extensions. This could take a while...
#9 14.60 Successfully installed nio4r-2.7.3
#9 14.60 Successfully installed actioncable-7.2.1
#9 14.60 Successfully installed rails-7.2.1
#9 14.60 40 gems installed
#9 DONE 14.7s

#10 [web 6/7] COPY entrypoint.sh /app/entrypoint.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x /app/entrypoint.sh
#11 DONE 0.1s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:8452ecd81142225e84fa6b24870ff397ec446587b793eeec7e9b59ca9b84a7d2
#12 writing image sha256:8452ecd81142225e84fa6b24870ff397ec446587b793eeec7e9b59ca9b84a7d2 done
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "./app/entrypoint.sh": stat ./app/entrypoint.sh: no such file or directory: unknown
Error starting containers. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 721B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 63B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.925 Reading package lists...
#6 2.129 Building dependency tree...
#6 2.183 Reading state information...
#6 2.248 The following additional packages will be installed:
#6 2.248   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.248   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.248   postgresql-client-common
#6 2.249 Suggested packages:
#6 2.249   npm postgresql-15 postgresql-doc-15
#6 2.294 The following NEW packages will be installed:
#6 2.294   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.295   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.295   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.422 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.422 Need to get 15.9 MB of archives.
#6 2.422 After this operation, 75.6 MB of additional disk space will be used.
#6 2.422 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.560 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.620 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.623 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.731 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.733 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.734 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.742 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.759 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.139 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.142 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.252 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.253 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.293 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.392 debconf: delaying package configuration, since apt-utils is not installed
#6 3.403 Fetched 15.9 MB in 1s (15.9 MB/s)
#6 3.412 Selecting previously unselected package libc-ares2:arm64.
#6 3.412 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.422 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.424 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.437 Selecting previously unselected package libuv1:arm64.
#6 3.438 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.439 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.452 Selecting previously unselected package node-xtend.
#6 3.453 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.454 Unpacking node-xtend (4.0.2-3) ...
#6 3.462 Selecting previously unselected package nodejs.
#6 3.463 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.464 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.496 Selecting previously unselected package node-acorn.
#6 3.497 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.498 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.516 Selecting previously unselected package node-cjs-module-lexer.
#6 3.517 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.518 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.527 Selecting previously unselected package node-busboy.
#6 3.528 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.529 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.539 Selecting previously unselected package node-undici.
#6 3.540 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.542 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.564 Selecting previously unselected package libnode108:arm64.
#6 3.565 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.566 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.861 Selecting previously unselected package netcat-openbsd.
#6 3.862 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.864 Unpacking netcat-openbsd (1.219-1) ...
#6 3.874 Selecting previously unselected package nodejs-doc.
#6 3.875 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.876 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.003 Selecting previously unselected package postgresql-client-common.
#6 4.004 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.005 Unpacking postgresql-client-common (248) ...
#6 4.015 Selecting previously unselected package postgresql-client-15.
#6 4.016 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.017 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.103 Selecting previously unselected package postgresql-client.
#6 4.104 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.105 Unpacking postgresql-client (15+248) ...
#6 4.117 Setting up postgresql-client-common (248) ...
#6 4.122 Setting up netcat-openbsd (1.219-1) ...
#6 4.125 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.127 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.266 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.281 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.283 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.286 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.288 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.291 Setting up node-xtend (4.0.2-3) ...
#6 4.293 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.295 Setting up postgresql-client (15+248) ...
#6 4.297 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.302 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.304 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.306 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.309 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.311 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails
#9 13.03 Successfully installed bundler-2.5.18
#9 13.03 Successfully installed zeitwerk-2.6.18
#9 13.03 Successfully installed thor-1.3.2
#9 13.03 Successfully installed webrick-1.8.1
#9 13.03 Successfully installed rack-3.1.7
#9 13.03 Successfully installed rackup-2.1.0
#9 13.03 Successfully installed concurrent-ruby-1.3.4
#9 13.03 Successfully installed tzinfo-2.0.6
#9 13.03 Successfully installed i18n-1.14.5
#9 13.03 Successfully installed connection_pool-2.4.1
#9 13.03 Successfully installed activesupport-7.2.1
#9 13.03 Successfully installed useragent-0.16.10
#9 13.03 Successfully installed nokogiri-1.16.7-aarch64-linux
#9 13.03 Successfully installed crass-1.0.6
#9 13.03 Successfully installed loofah-2.22.0
#9 13.03 Successfully installed rails-html-sanitizer-1.6.0
#9 13.03 Successfully installed rails-dom-testing-2.2.0
#9 13.03 Successfully installed rack-test-2.1.0
#9 13.03 Successfully installed rack-session-2.0.0
#9 13.03 Successfully installed erubi-1.13.0
#9 13.03 Successfully installed builder-3.3.0
#9 13.03 Successfully installed actionview-7.2.1
#9 13.03 Successfully installed actionpack-7.2.1
#9 13.03 Successfully installed railties-7.2.1
#9 13.03 Successfully installed marcel-1.0.4
#9 13.03 Successfully installed activemodel-7.2.1
#9 13.03 Successfully installed activerecord-7.2.1
#9 13.03 Successfully installed globalid-1.2.1
#9 13.03 Successfully installed activejob-7.2.1
#9 13.03 Successfully installed activestorage-7.2.1
#9 13.03 Successfully installed actiontext-7.2.1
#9 13.03 Successfully installed mini_mime-1.1.5
#9 13.03 Successfully installed mail-2.8.1
#9 13.03 Successfully installed actionmailer-7.2.1
#9 13.03 Successfully installed actionmailbox-7.2.1
#9 13.03 Successfully installed websocket-extensions-0.1.5
#9 13.03 Building native extensions. This could take a while...
#9 13.18 Successfully installed websocket-driver-0.7.6
#9 13.18 Building native extensions. This could take a while...
#9 14.81 Successfully installed nio4r-2.7.3
#9 14.81 Successfully installed actioncable-7.2.1
#9 14.81 Successfully installed rails-7.2.1
#9 14.81 40 gems installed
#9 DONE 14.9s

#10 [web 6/7] COPY entrypoint.sh ./entrypoint.sh
#10 DONE 0.0s

#11 [web 7/7] RUN chmod +x entrypoint.sh
#11 DONE 0.2s

#12 [web] exporting to image
#12 exporting layers
#12 exporting layers 0.2s done
#12 writing image sha256:fd33287752c3d6598456cd5decd9e50ccd46d278e235a82267620d8b1ad4041e done
#12 naming to docker.io/library/spina-app-web
#12 naming to docker.io/library/spina-app-web done
#12 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "./entrypoint.sh": stat ./entrypoint.sh: no such file or directory: unknown
Error starting containers. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 687B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.78kB done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.847 Reading package lists...
#6 2.049 Building dependency tree...
#6 2.103 Reading state information...
#6 2.167 The following additional packages will be installed:
#6 2.167   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.167   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.167   postgresql-client-common
#6 2.168 Suggested packages:
#6 2.168   npm postgresql-15 postgresql-doc-15
#6 2.211 The following NEW packages will be installed:
#6 2.211   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.211   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.211   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.340 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.340 Need to get 15.9 MB of archives.
#6 2.340 After this operation, 75.6 MB of additional disk space will be used.
#6 2.340 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.478 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.503 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.505 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.604 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.613 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.615 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.617 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.659 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.158 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.159 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.269 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.271 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.283 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.379 debconf: delaying package configuration, since apt-utils is not installed
#6 3.390 Fetched 15.9 MB in 1s (14.8 MB/s)
#6 3.399 Selecting previously unselected package libc-ares2:arm64.
#6 3.399 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.409 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.411 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.424 Selecting previously unselected package libuv1:arm64.
#6 3.425 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.426 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.439 Selecting previously unselected package node-xtend.
#6 3.440 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.441 Unpacking node-xtend (4.0.2-3) ...
#6 3.449 Selecting previously unselected package nodejs.
#6 3.450 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.451 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.484 Selecting previously unselected package node-acorn.
#6 3.485 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.486 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.504 Selecting previously unselected package node-cjs-module-lexer.
#6 3.505 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.506 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.514 Selecting previously unselected package node-busboy.
#6 3.515 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.516 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.526 Selecting previously unselected package node-undici.
#6 3.527 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.529 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.551 Selecting previously unselected package libnode108:arm64.
#6 3.552 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.553 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.846 Selecting previously unselected package netcat-openbsd.
#6 3.847 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.848 Unpacking netcat-openbsd (1.219-1) ...
#6 3.858 Selecting previously unselected package nodejs-doc.
#6 3.859 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.860 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 3.988 Selecting previously unselected package postgresql-client-common.
#6 3.989 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 3.989 Unpacking postgresql-client-common (248) ...
#6 4.000 Selecting previously unselected package postgresql-client-15.
#6 4.001 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.002 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.088 Selecting previously unselected package postgresql-client.
#6 4.089 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.090 Unpacking postgresql-client (15+248) ...
#6 4.101 Setting up postgresql-client-common (248) ...
#6 4.105 Setting up netcat-openbsd (1.219-1) ...
#6 4.108 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.110 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.246 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.260 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.263 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.265 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.267 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.270 Setting up node-xtend (4.0.2-3) ...
#6 4.272 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.274 Setting up postgresql-client (15+248) ...
#6 4.276 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.280 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.283 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.285 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.288 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.289 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.3s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 13.26 Successfully installed bundler-2.5.18
#10 13.26 Successfully installed zeitwerk-2.6.18
#10 13.26 Successfully installed thor-1.3.2
#10 13.26 Successfully installed webrick-1.8.1
#10 13.26 Successfully installed rack-3.1.7
#10 13.26 Successfully installed rackup-2.1.0
#10 13.26 Successfully installed concurrent-ruby-1.3.4
#10 13.26 Successfully installed tzinfo-2.0.6
#10 13.26 Successfully installed i18n-1.14.5
#10 13.26 Successfully installed connection_pool-2.4.1
#10 13.26 Successfully installed activesupport-7.2.1
#10 13.26 Successfully installed useragent-0.16.10
#10 13.26 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 13.26 Successfully installed crass-1.0.6
#10 13.26 Successfully installed loofah-2.22.0
#10 13.26 Successfully installed rails-html-sanitizer-1.6.0
#10 13.26 Successfully installed rails-dom-testing-2.2.0
#10 13.26 Successfully installed rack-test-2.1.0
#10 13.26 Successfully installed rack-session-2.0.0
#10 13.26 Successfully installed erubi-1.13.0
#10 13.26 Successfully installed builder-3.3.0
#10 13.26 Successfully installed actionview-7.2.1
#10 13.26 Successfully installed actionpack-7.2.1
#10 13.26 Successfully installed railties-7.2.1
#10 13.26 Successfully installed marcel-1.0.4
#10 13.26 Successfully installed activemodel-7.2.1
#10 13.26 Successfully installed activerecord-7.2.1
#10 13.26 Successfully installed globalid-1.2.1
#10 13.26 Successfully installed activejob-7.2.1
#10 13.26 Successfully installed activestorage-7.2.1
#10 13.26 Successfully installed actiontext-7.2.1
#10 13.26 Successfully installed mini_mime-1.1.5
#10 13.26 Successfully installed mail-2.8.1
#10 13.26 Successfully installed actionmailer-7.2.1
#10 13.26 Successfully installed actionmailbox-7.2.1
#10 13.26 Successfully installed websocket-extensions-0.1.5
#10 13.26 Building native extensions. This could take a while...
#10 13.39 Successfully installed websocket-driver-0.7.6
#10 13.39 Building native extensions. This could take a while...
#10 14.89 Successfully installed nio4r-2.7.3
#10 14.89 Successfully installed actioncable-7.2.1
#10 14.89 Successfully installed rails-7.2.1
#10 14.89 40 gems installed
#10 DONE 14.9s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:f9fc71df4f04888ff2a22284248c15c1d0e4a80cc2914ce8f75342f3eca19478
#13 writing image sha256:f9fc71df4f04888ff2a22284248c15c1d0e4a80cc2914ce8f75342f3eca19478 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "./setup.sh": stat ./setup.sh: no such file or directory: unknown
Error starting containers. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
service "web" refers to undefined volume web_data: invalid compose project
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 687B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 88B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.933 Reading package lists...
#6 2.139 Building dependency tree...
#6 2.192 Reading state information...
#6 2.256 The following additional packages will be installed:
#6 2.256   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.256   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.257   postgresql-client-common
#6 2.257 Suggested packages:
#6 2.257   npm postgresql-15 postgresql-doc-15
#6 2.300 The following NEW packages will be installed:
#6 2.301   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.301   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.301   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.427 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.427 Need to get 15.9 MB of archives.
#6 2.427 After this operation, 75.6 MB of additional disk space will be used.
#6 2.427 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.711 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.736 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.737 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.839 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.847 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.849 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.851 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.894 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.542 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.543 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.654 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.655 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.757 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.868 debconf: delaying package configuration, since apt-utils is not installed
#6 3.878 Fetched 15.9 MB in 1s (10.9 MB/s)
#6 3.886 Selecting previously unselected package libc-ares2:arm64.
#6 3.886 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.896 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.898 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.911 Selecting previously unselected package libuv1:arm64.
#6 3.912 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.913 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.926 Selecting previously unselected package node-xtend.
#6 3.927 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.927 Unpacking node-xtend (4.0.2-3) ...
#6 3.936 Selecting previously unselected package nodejs.
#6 3.937 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.937 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.969 Selecting previously unselected package node-acorn.
#6 3.970 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.971 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.991 Selecting previously unselected package node-cjs-module-lexer.
#6 3.992 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.993 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.002 Selecting previously unselected package node-busboy.
#6 4.002 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.003 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.013 Selecting previously unselected package node-undici.
#6 4.014 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.017 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.040 Selecting previously unselected package libnode108:arm64.
#6 4.041 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.041 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.333 Selecting previously unselected package netcat-openbsd.
#6 4.334 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.335 Unpacking netcat-openbsd (1.219-1) ...
#6 4.345 Selecting previously unselected package nodejs-doc.
#6 4.346 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.347 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.475 Selecting previously unselected package postgresql-client-common.
#6 4.476 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.477 Unpacking postgresql-client-common (248) ...
#6 4.487 Selecting previously unselected package postgresql-client-15.
#6 4.489 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.489 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.573 Selecting previously unselected package postgresql-client.
#6 4.575 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.576 Unpacking postgresql-client (15+248) ...
#6 4.587 Setting up postgresql-client-common (248) ...
#6 4.591 Setting up netcat-openbsd (1.219-1) ...
#6 4.596 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.597 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.733 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.746 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.749 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.751 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.754 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.756 Setting up node-xtend (4.0.2-3) ...
#6 4.758 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.760 Setting up postgresql-client (15+248) ...
#6 4.762 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.766 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.769 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.771 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.774 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.775 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.94 Successfully installed bundler-2.5.18
#10 12.94 Successfully installed zeitwerk-2.6.18
#10 12.94 Successfully installed thor-1.3.2
#10 12.94 Successfully installed webrick-1.8.1
#10 12.94 Successfully installed rack-3.1.7
#10 12.94 Successfully installed rackup-2.1.0
#10 12.94 Successfully installed concurrent-ruby-1.3.4
#10 12.94 Successfully installed tzinfo-2.0.6
#10 12.94 Successfully installed i18n-1.14.5
#10 12.94 Successfully installed connection_pool-2.4.1
#10 12.94 Successfully installed activesupport-7.2.1
#10 12.94 Successfully installed useragent-0.16.10
#10 12.94 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.94 Successfully installed crass-1.0.6
#10 12.94 Successfully installed loofah-2.22.0
#10 12.94 Successfully installed rails-html-sanitizer-1.6.0
#10 12.94 Successfully installed rails-dom-testing-2.2.0
#10 12.94 Successfully installed rack-test-2.1.0
#10 12.94 Successfully installed rack-session-2.0.0
#10 12.94 Successfully installed erubi-1.13.0
#10 12.94 Successfully installed builder-3.3.0
#10 12.94 Successfully installed actionview-7.2.1
#10 12.94 Successfully installed actionpack-7.2.1
#10 12.94 Successfully installed railties-7.2.1
#10 12.94 Successfully installed marcel-1.0.4
#10 12.94 Successfully installed activemodel-7.2.1
#10 12.94 Successfully installed activerecord-7.2.1
#10 12.94 Successfully installed globalid-1.2.1
#10 12.94 Successfully installed activejob-7.2.1
#10 12.94 Successfully installed activestorage-7.2.1
#10 12.94 Successfully installed actiontext-7.2.1
#10 12.94 Successfully installed mini_mime-1.1.5
#10 12.94 Successfully installed mail-2.8.1
#10 12.94 Successfully installed actionmailer-7.2.1
#10 12.94 Successfully installed actionmailbox-7.2.1
#10 12.94 Successfully installed websocket-extensions-0.1.5
#10 12.94 Building native extensions. This could take a while...
#10 13.07 Successfully installed websocket-driver-0.7.6
#10 13.07 Building native extensions. This could take a while...
#10 14.57 Successfully installed nio4r-2.7.3
#10 14.57 Successfully installed actioncable-7.2.1
#10 14.57 Successfully installed rails-7.2.1
#10 14.57 40 gems installed
#10 DONE 14.6s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:41dddbea754dee9feea6ebfdb654bbc7b56844a9e1e3a1f2aa4df1b9a08e1b8e
#13 writing image sha256:41dddbea754dee9feea6ebfdb654bbc7b56844a9e1e3a1f2aa4df1b9a08e1b8e done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 696B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 88B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.840 Reading package lists...
#6 2.062 Building dependency tree...
#6 2.117 Reading state information...
#6 2.184 The following additional packages will be installed:
#6 2.184   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.184   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.184   postgresql-client-common
#6 2.184 Suggested packages:
#6 2.184   npm postgresql-15 postgresql-doc-15
#6 2.232 The following NEW packages will be installed:
#6 2.232   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.232   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.232   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.363 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.363 Need to get 15.9 MB of archives.
#6 2.363 After this operation, 75.6 MB of additional disk space will be used.
#6 2.363 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.504 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.564 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.565 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.633 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.644 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.647 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.649 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.685 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.147 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.148 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.255 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.256 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.294 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.405 debconf: delaying package configuration, since apt-utils is not installed
#6 3.419 Fetched 15.9 MB in 1s (15.0 MB/s)
#6 3.429 Selecting previously unselected package libc-ares2:arm64.
#6 3.429 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.438 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.439 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.455 Selecting previously unselected package libuv1:arm64.
#6 3.456 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.457 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.471 Selecting previously unselected package node-xtend.
#6 3.471 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.472 Unpacking node-xtend (4.0.2-3) ...
#6 3.481 Selecting previously unselected package nodejs.
#6 3.482 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.483 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.514 Selecting previously unselected package node-acorn.
#6 3.515 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.515 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.532 Selecting previously unselected package node-cjs-module-lexer.
#6 3.533 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.534 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.543 Selecting previously unselected package node-busboy.
#6 3.544 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.545 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.557 Selecting previously unselected package node-undici.
#6 3.558 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.561 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.584 Selecting previously unselected package libnode108:arm64.
#6 3.585 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.586 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.884 Selecting previously unselected package netcat-openbsd.
#6 3.885 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.886 Unpacking netcat-openbsd (1.219-1) ...
#6 3.896 Selecting previously unselected package nodejs-doc.
#6 3.897 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.897 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.028 Selecting previously unselected package postgresql-client-common.
#6 4.029 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.030 Unpacking postgresql-client-common (248) ...
#6 4.040 Selecting previously unselected package postgresql-client-15.
#6 4.041 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.042 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.126 Selecting previously unselected package postgresql-client.
#6 4.127 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.128 Unpacking postgresql-client (15+248) ...
#6 4.142 Setting up postgresql-client-common (248) ...
#6 4.148 Setting up netcat-openbsd (1.219-1) ...
#6 4.152 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.154 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.289 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.301 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.305 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.309 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.313 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.316 Setting up node-xtend (4.0.2-3) ...
#6 4.318 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.321 Setting up postgresql-client (15+248) ...
#6 4.325 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.330 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.332 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.335 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.339 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.340 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.75 Successfully installed bundler-2.5.18
#10 12.75 Successfully installed zeitwerk-2.6.18
#10 12.75 Successfully installed thor-1.3.2
#10 12.75 Successfully installed webrick-1.8.1
#10 12.75 Successfully installed rack-3.1.7
#10 12.75 Successfully installed rackup-2.1.0
#10 12.75 Successfully installed concurrent-ruby-1.3.4
#10 12.75 Successfully installed tzinfo-2.0.6
#10 12.75 Successfully installed i18n-1.14.5
#10 12.75 Successfully installed connection_pool-2.4.1
#10 12.75 Successfully installed activesupport-7.2.1
#10 12.75 Successfully installed useragent-0.16.10
#10 12.75 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.75 Successfully installed crass-1.0.6
#10 12.75 Successfully installed loofah-2.22.0
#10 12.75 Successfully installed rails-html-sanitizer-1.6.0
#10 12.75 Successfully installed rails-dom-testing-2.2.0
#10 12.75 Successfully installed rack-test-2.1.0
#10 12.75 Successfully installed rack-session-2.0.0
#10 12.75 Successfully installed erubi-1.13.0
#10 12.75 Successfully installed builder-3.3.0
#10 12.75 Successfully installed actionview-7.2.1
#10 12.75 Successfully installed actionpack-7.2.1
#10 12.75 Successfully installed railties-7.2.1
#10 12.75 Successfully installed marcel-1.0.4
#10 12.75 Successfully installed activemodel-7.2.1
#10 12.75 Successfully installed activerecord-7.2.1
#10 12.75 Successfully installed globalid-1.2.1
#10 12.75 Successfully installed activejob-7.2.1
#10 12.75 Successfully installed activestorage-7.2.1
#10 12.75 Successfully installed actiontext-7.2.1
#10 12.75 Successfully installed mini_mime-1.1.5
#10 12.75 Successfully installed mail-2.8.1
#10 12.75 Successfully installed actionmailer-7.2.1
#10 12.75 Successfully installed actionmailbox-7.2.1
#10 12.75 Successfully installed websocket-extensions-0.1.5
#10 12.75 Building native extensions. This could take a while...
#10 12.87 Successfully installed websocket-driver-0.7.6
#10 12.87 Building native extensions. This could take a while...
#10 14.39 Successfully installed nio4r-2.7.3
#10 14.39 Successfully installed actioncable-7.2.1
#10 14.39 Successfully installed rails-7.2.1
#10 14.39 40 gems installed
#10 DONE 14.5s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:b8d2ab56d4a813a5f42e59e7ed165159fbaa2d8ec70437ceaf02337eb7a55aef done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Container spina-app-db-1  Running
 Container spina-app-web-1  Recreate
 Container spina-app-web-1  Recreated
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 696B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 605B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.830 Reading package lists...
#6 2.053 Building dependency tree...
#6 2.109 Reading state information...
#6 2.174 The following additional packages will be installed:
#6 2.174   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.174   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.174   postgresql-client-common
#6 2.175 Suggested packages:
#6 2.175   npm postgresql-15 postgresql-doc-15
#6 2.223 The following NEW packages will be installed:
#6 2.223   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.223   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.223   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.352 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.352 Need to get 15.9 MB of archives.
#6 2.352 After this operation, 75.6 MB of additional disk space will be used.
#6 2.352 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.491 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.552 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.552 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.621 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.632 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.636 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.636 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.675 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.138 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.139 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.258 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.259 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.315 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.426 debconf: delaying package configuration, since apt-utils is not installed
#6 3.443 Fetched 15.9 MB in 1s (14.6 MB/s)
#6 3.452 Selecting previously unselected package libc-ares2:arm64.
#6 3.452 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.461 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.462 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.476 Selecting previously unselected package libuv1:arm64.
#6 3.477 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.478 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.491 Selecting previously unselected package node-xtend.
#6 3.492 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.493 Unpacking node-xtend (4.0.2-3) ...
#6 3.504 Selecting previously unselected package nodejs.
#6 3.505 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.506 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.537 Selecting previously unselected package node-acorn.
#6 3.538 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.539 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.555 Selecting previously unselected package node-cjs-module-lexer.
#6 3.556 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.558 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.568 Selecting previously unselected package node-busboy.
#6 3.569 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.570 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.580 Selecting previously unselected package node-undici.
#6 3.581 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.585 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.607 Selecting previously unselected package libnode108:arm64.
#6 3.608 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.609 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.903 Selecting previously unselected package netcat-openbsd.
#6 3.904 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.906 Unpacking netcat-openbsd (1.219-1) ...
#6 3.916 Selecting previously unselected package nodejs-doc.
#6 3.917 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.918 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.050 Selecting previously unselected package postgresql-client-common.
#6 4.051 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.052 Unpacking postgresql-client-common (248) ...
#6 4.065 Selecting previously unselected package postgresql-client-15.
#6 4.066 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.068 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.152 Selecting previously unselected package postgresql-client.
#6 4.153 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.154 Unpacking postgresql-client (15+248) ...
#6 4.165 Setting up postgresql-client-common (248) ...
#6 4.171 Setting up netcat-openbsd (1.219-1) ...
#6 4.174 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.176 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.313 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.325 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.332 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.335 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.339 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.341 Setting up node-xtend (4.0.2-3) ...
#6 4.345 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.347 Setting up postgresql-client (15+248) ...
#6 4.351 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.355 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.359 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.362 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.365 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.366 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.45 Successfully installed bundler-2.5.18
#10 12.45 Successfully installed zeitwerk-2.6.18
#10 12.45 Successfully installed thor-1.3.2
#10 12.45 Successfully installed webrick-1.8.1
#10 12.45 Successfully installed rack-3.1.7
#10 12.45 Successfully installed rackup-2.1.0
#10 12.45 Successfully installed concurrent-ruby-1.3.4
#10 12.45 Successfully installed tzinfo-2.0.6
#10 12.45 Successfully installed i18n-1.14.5
#10 12.45 Successfully installed connection_pool-2.4.1
#10 12.45 Successfully installed activesupport-7.2.1
#10 12.45 Successfully installed useragent-0.16.10
#10 12.45 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.45 Successfully installed crass-1.0.6
#10 12.45 Successfully installed loofah-2.22.0
#10 12.45 Successfully installed rails-html-sanitizer-1.6.0
#10 12.45 Successfully installed rails-dom-testing-2.2.0
#10 12.45 Successfully installed rack-test-2.1.0
#10 12.45 Successfully installed rack-session-2.0.0
#10 12.45 Successfully installed erubi-1.13.0
#10 12.45 Successfully installed builder-3.3.0
#10 12.45 Successfully installed actionview-7.2.1
#10 12.45 Successfully installed actionpack-7.2.1
#10 12.45 Successfully installed railties-7.2.1
#10 12.45 Successfully installed marcel-1.0.4
#10 12.45 Successfully installed activemodel-7.2.1
#10 12.45 Successfully installed activerecord-7.2.1
#10 12.45 Successfully installed globalid-1.2.1
#10 12.45 Successfully installed activejob-7.2.1
#10 12.45 Successfully installed activestorage-7.2.1
#10 12.45 Successfully installed actiontext-7.2.1
#10 12.45 Successfully installed mini_mime-1.1.5
#10 12.45 Successfully installed mail-2.8.1
#10 12.45 Successfully installed actionmailer-7.2.1
#10 12.45 Successfully installed actionmailbox-7.2.1
#10 12.45 Successfully installed websocket-extensions-0.1.5
#10 12.45 Building native extensions. This could take a while...
#10 12.57 Successfully installed websocket-driver-0.7.6
#10 12.57 Building native extensions. This could take a while...
#10 14.09 Successfully installed nio4r-2.7.3
#10 14.09 Successfully installed actioncable-7.2.1
#10 14.09 Successfully installed rails-7.2.1
#10 14.09 40 gems installed
#10 DONE 14.1s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.2s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:f53149b526730ac326d518084e8b7b2eaa371bb90f0cbdcb53faec6e21d6d79d done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 696B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 620B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.087 Reading package lists...
#6 2.291 Building dependency tree...
#6 2.345 Reading state information...
#6 2.408 The following additional packages will be installed:
#6 2.409   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.409   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.409   postgresql-client-common
#6 2.409 Suggested packages:
#6 2.409   npm postgresql-15 postgresql-doc-15
#6 2.453 The following NEW packages will be installed:
#6 2.453   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.454   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.454   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.582 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.582 Need to get 15.9 MB of archives.
#6 2.582 After this operation, 75.6 MB of additional disk space will be used.
#6 2.582 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.725 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.750 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.752 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.856 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.861 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.865 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.865 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.908 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.294 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.295 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.419 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.421 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.489 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.604 debconf: delaying package configuration, since apt-utils is not installed
#6 3.617 Fetched 15.9 MB in 1s (15.4 MB/s)
#6 3.633 Selecting previously unselected package libc-ares2:arm64.
#6 3.633 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.641 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.643 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.657 Selecting previously unselected package libuv1:arm64.
#6 3.658 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.659 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.672 Selecting previously unselected package node-xtend.
#6 3.673 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.674 Unpacking node-xtend (4.0.2-3) ...
#6 3.683 Selecting previously unselected package nodejs.
#6 3.684 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.685 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.715 Selecting previously unselected package node-acorn.
#6 3.716 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.717 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.733 Selecting previously unselected package node-cjs-module-lexer.
#6 3.734 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.735 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.747 Selecting previously unselected package node-busboy.
#6 3.748 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.750 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.760 Selecting previously unselected package node-undici.
#6 3.761 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.764 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.786 Selecting previously unselected package libnode108:arm64.
#6 3.787 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.787 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.074 Selecting previously unselected package netcat-openbsd.
#6 4.075 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.076 Unpacking netcat-openbsd (1.219-1) ...
#6 4.086 Selecting previously unselected package nodejs-doc.
#6 4.087 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.088 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.213 Selecting previously unselected package postgresql-client-common.
#6 4.214 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.215 Unpacking postgresql-client-common (248) ...
#6 4.227 Selecting previously unselected package postgresql-client-15.
#6 4.228 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.229 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.315 Selecting previously unselected package postgresql-client.
#6 4.316 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.317 Unpacking postgresql-client (15+248) ...
#6 4.329 Setting up postgresql-client-common (248) ...
#6 4.336 Setting up netcat-openbsd (1.219-1) ...
#6 4.339 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.341 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.484 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.494 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.499 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.501 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.504 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.506 Setting up node-xtend (4.0.2-3) ...
#6 4.510 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.512 Setting up postgresql-client (15+248) ...
#6 4.516 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.520 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.523 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.525 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.528 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.530 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.89 Successfully installed bundler-2.5.18
#10 12.89 Successfully installed zeitwerk-2.6.18
#10 12.89 Successfully installed thor-1.3.2
#10 12.89 Successfully installed webrick-1.8.1
#10 12.89 Successfully installed rack-3.1.7
#10 12.89 Successfully installed rackup-2.1.0
#10 12.89 Successfully installed concurrent-ruby-1.3.4
#10 12.89 Successfully installed tzinfo-2.0.6
#10 12.89 Successfully installed i18n-1.14.5
#10 12.89 Successfully installed connection_pool-2.4.1
#10 12.89 Successfully installed activesupport-7.2.1
#10 12.89 Successfully installed useragent-0.16.10
#10 12.89 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.89 Successfully installed crass-1.0.6
#10 12.89 Successfully installed loofah-2.22.0
#10 12.89 Successfully installed rails-html-sanitizer-1.6.0
#10 12.89 Successfully installed rails-dom-testing-2.2.0
#10 12.89 Successfully installed rack-test-2.1.0
#10 12.89 Successfully installed rack-session-2.0.0
#10 12.89 Successfully installed erubi-1.13.0
#10 12.89 Successfully installed builder-3.3.0
#10 12.89 Successfully installed actionview-7.2.1
#10 12.89 Successfully installed actionpack-7.2.1
#10 12.89 Successfully installed railties-7.2.1
#10 12.89 Successfully installed marcel-1.0.4
#10 12.89 Successfully installed activemodel-7.2.1
#10 12.89 Successfully installed activerecord-7.2.1
#10 12.89 Successfully installed globalid-1.2.1
#10 12.89 Successfully installed activejob-7.2.1
#10 12.89 Successfully installed activestorage-7.2.1
#10 12.89 Successfully installed actiontext-7.2.1
#10 12.89 Successfully installed mini_mime-1.1.5
#10 12.89 Successfully installed mail-2.8.1
#10 12.89 Successfully installed actionmailer-7.2.1
#10 12.89 Successfully installed actionmailbox-7.2.1
#10 12.89 Successfully installed websocket-extensions-0.1.5
#10 12.89 Building native extensions. This could take a while...
#10 13.01 Successfully installed websocket-driver-0.7.6
#10 13.01 Building native extensions. This could take a while...
#10 14.51 Successfully installed nio4r-2.7.3
#10 14.51 Successfully installed actioncable-7.2.1
#10 14.51 Successfully installed rails-7.2.1
#10 14.51 40 gems installed
#10 DONE 14.6s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:3f0d8da4b0db81159847358b1ecca1409b261a0b5da262f70e570c1bb267f807 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 696B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 88B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.890 Reading package lists...
#6 2.102 Building dependency tree...
#6 2.157 Reading state information...
#6 2.222 The following additional packages will be installed:
#6 2.222   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.222   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.223   postgresql-client-common
#6 2.223 Suggested packages:
#6 2.223   npm postgresql-15 postgresql-doc-15
#6 2.268 The following NEW packages will be installed:
#6 2.268   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.268   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.268   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.400 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.400 Need to get 15.9 MB of archives.
#6 2.400 After this operation, 75.6 MB of additional disk space will be used.
#6 2.400 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.540 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.601 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.602 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.669 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.679 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.681 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.684 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.721 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.208 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.210 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.260 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.261 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.343 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.447 debconf: delaying package configuration, since apt-utils is not installed
#6 3.461 Fetched 15.9 MB in 1s (14.8 MB/s)
#6 3.473 Selecting previously unselected package libc-ares2:arm64.
#6 3.473 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.481 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.483 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.498 Selecting previously unselected package libuv1:arm64.
#6 3.499 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.501 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.515 Selecting previously unselected package node-xtend.
#6 3.515 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.516 Unpacking node-xtend (4.0.2-3) ...
#6 3.527 Selecting previously unselected package nodejs.
#6 3.528 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.529 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.560 Selecting previously unselected package node-acorn.
#6 3.561 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.562 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.580 Selecting previously unselected package node-cjs-module-lexer.
#6 3.581 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.581 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.591 Selecting previously unselected package node-busboy.
#6 3.592 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.593 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.606 Selecting previously unselected package node-undici.
#6 3.607 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.609 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.634 Selecting previously unselected package libnode108:arm64.
#6 3.635 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.636 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.923 Selecting previously unselected package netcat-openbsd.
#6 3.924 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.925 Unpacking netcat-openbsd (1.219-1) ...
#6 3.935 Selecting previously unselected package nodejs-doc.
#6 3.936 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.938 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.067 Selecting previously unselected package postgresql-client-common.
#6 4.068 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.069 Unpacking postgresql-client-common (248) ...
#6 4.082 Selecting previously unselected package postgresql-client-15.
#6 4.083 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.084 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.169 Selecting previously unselected package postgresql-client.
#6 4.170 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.171 Unpacking postgresql-client (15+248) ...
#6 4.184 Setting up postgresql-client-common (248) ...
#6 4.190 Setting up netcat-openbsd (1.219-1) ...
#6 4.193 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.195 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.331 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.343 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.347 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.349 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.353 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.356 Setting up node-xtend (4.0.2-3) ...
#6 4.360 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.364 Setting up postgresql-client (15+248) ...
#6 4.366 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.371 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.375 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.377 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.381 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.383 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.55 Successfully installed bundler-2.5.18
#10 12.55 Successfully installed zeitwerk-2.6.18
#10 12.55 Successfully installed thor-1.3.2
#10 12.55 Successfully installed webrick-1.8.1
#10 12.55 Successfully installed rack-3.1.7
#10 12.55 Successfully installed rackup-2.1.0
#10 12.55 Successfully installed concurrent-ruby-1.3.4
#10 12.55 Successfully installed tzinfo-2.0.6
#10 12.55 Successfully installed i18n-1.14.5
#10 12.55 Successfully installed connection_pool-2.4.1
#10 12.55 Successfully installed activesupport-7.2.1
#10 12.55 Successfully installed useragent-0.16.10
#10 12.55 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.55 Successfully installed crass-1.0.6
#10 12.55 Successfully installed loofah-2.22.0
#10 12.55 Successfully installed rails-html-sanitizer-1.6.0
#10 12.55 Successfully installed rails-dom-testing-2.2.0
#10 12.55 Successfully installed rack-test-2.1.0
#10 12.55 Successfully installed rack-session-2.0.0
#10 12.55 Successfully installed erubi-1.13.0
#10 12.55 Successfully installed builder-3.3.0
#10 12.55 Successfully installed actionview-7.2.1
#10 12.55 Successfully installed actionpack-7.2.1
#10 12.55 Successfully installed railties-7.2.1
#10 12.55 Successfully installed marcel-1.0.4
#10 12.55 Successfully installed activemodel-7.2.1
#10 12.55 Successfully installed activerecord-7.2.1
#10 12.55 Successfully installed globalid-1.2.1
#10 12.55 Successfully installed activejob-7.2.1
#10 12.55 Successfully installed activestorage-7.2.1
#10 12.55 Successfully installed actiontext-7.2.1
#10 12.55 Successfully installed mini_mime-1.1.5
#10 12.55 Successfully installed mail-2.8.1
#10 12.55 Successfully installed actionmailer-7.2.1
#10 12.55 Successfully installed actionmailbox-7.2.1
#10 12.55 Successfully installed websocket-extensions-0.1.5
#10 12.55 Building native extensions. This could take a while...
#10 12.66 Successfully installed websocket-driver-0.7.6
#10 12.66 Building native extensions. This could take a while...
#10 14.20 Successfully installed nio4r-2.7.3
#10 14.20 Successfully installed actioncable-7.2.1
#10 14.20 Successfully installed rails-7.2.1
#10 14.20 40 gems installed
#10 DONE 14.3s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.2s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:5136f0b475ebc5f3424788e9a02b99519d8fbd46835dec4a934defb4b8251fbd
#13 writing image sha256:5136f0b475ebc5f3424788e9a02b99519d8fbd46835dec4a934defb4b8251fbd done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 696B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.27kB done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.895 Reading package lists...
#6 2.099 Building dependency tree...
#6 2.152 Reading state information...
#6 2.216 The following additional packages will be installed:
#6 2.216   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.216   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.216   postgresql-client-common
#6 2.216 Suggested packages:
#6 2.216   npm postgresql-15 postgresql-doc-15
#6 2.262 The following NEW packages will be installed:
#6 2.262   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.262   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.262   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.409 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.409 Need to get 15.9 MB of archives.
#6 2.409 After this operation, 75.6 MB of additional disk space will be used.
#6 2.409 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.550 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.575 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.576 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.678 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.688 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.690 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.692 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.734 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.396 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.397 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.513 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.514 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.601 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.711 debconf: delaying package configuration, since apt-utils is not installed
#6 3.721 Fetched 15.9 MB in 1s (11.9 MB/s)
#6 3.729 Selecting previously unselected package libc-ares2:arm64.
#6 3.729 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.738 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.739 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.752 Selecting previously unselected package libuv1:arm64.
#6 3.753 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.754 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.766 Selecting previously unselected package node-xtend.
#6 3.767 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.768 Unpacking node-xtend (4.0.2-3) ...
#6 3.775 Selecting previously unselected package nodejs.
#6 3.776 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.777 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.807 Selecting previously unselected package node-acorn.
#6 3.808 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.809 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.824 Selecting previously unselected package node-cjs-module-lexer.
#6 3.825 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.826 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.835 Selecting previously unselected package node-busboy.
#6 3.836 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.836 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.846 Selecting previously unselected package node-undici.
#6 3.847 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.849 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.871 Selecting previously unselected package libnode108:arm64.
#6 3.872 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.872 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.161 Selecting previously unselected package netcat-openbsd.
#6 4.163 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.163 Unpacking netcat-openbsd (1.219-1) ...
#6 4.173 Selecting previously unselected package nodejs-doc.
#6 4.174 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.174 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.301 Selecting previously unselected package postgresql-client-common.
#6 4.302 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.303 Unpacking postgresql-client-common (248) ...
#6 4.313 Selecting previously unselected package postgresql-client-15.
#6 4.314 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.315 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.399 Selecting previously unselected package postgresql-client.
#6 4.400 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.401 Unpacking postgresql-client (15+248) ...
#6 4.413 Setting up postgresql-client-common (248) ...
#6 4.416 Setting up netcat-openbsd (1.219-1) ...
#6 4.419 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.421 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.558 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.568 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.571 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.573 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.575 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.578 Setting up node-xtend (4.0.2-3) ...
#6 4.580 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.583 Setting up postgresql-client (15+248) ...
#6 4.585 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.589 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.591 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.593 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.596 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.597 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.83 Successfully installed bundler-2.5.18
#10 12.83 Successfully installed zeitwerk-2.6.18
#10 12.83 Successfully installed thor-1.3.2
#10 12.83 Successfully installed webrick-1.8.1
#10 12.83 Successfully installed rack-3.1.7
#10 12.83 Successfully installed rackup-2.1.0
#10 12.83 Successfully installed concurrent-ruby-1.3.4
#10 12.83 Successfully installed tzinfo-2.0.6
#10 12.83 Successfully installed i18n-1.14.5
#10 12.83 Successfully installed connection_pool-2.4.1
#10 12.83 Successfully installed activesupport-7.2.1
#10 12.83 Successfully installed useragent-0.16.10
#10 12.83 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.83 Successfully installed crass-1.0.6
#10 12.83 Successfully installed loofah-2.22.0
#10 12.83 Successfully installed rails-html-sanitizer-1.6.0
#10 12.83 Successfully installed rails-dom-testing-2.2.0
#10 12.83 Successfully installed rack-test-2.1.0
#10 12.83 Successfully installed rack-session-2.0.0
#10 12.83 Successfully installed erubi-1.13.0
#10 12.83 Successfully installed builder-3.3.0
#10 12.83 Successfully installed actionview-7.2.1
#10 12.83 Successfully installed actionpack-7.2.1
#10 12.83 Successfully installed railties-7.2.1
#10 12.83 Successfully installed marcel-1.0.4
#10 12.83 Successfully installed activemodel-7.2.1
#10 12.83 Successfully installed activerecord-7.2.1
#10 12.83 Successfully installed globalid-1.2.1
#10 12.83 Successfully installed activejob-7.2.1
#10 12.83 Successfully installed activestorage-7.2.1
#10 12.83 Successfully installed actiontext-7.2.1
#10 12.83 Successfully installed mini_mime-1.1.5
#10 12.83 Successfully installed mail-2.8.1
#10 12.83 Successfully installed actionmailer-7.2.1
#10 12.83 Successfully installed actionmailbox-7.2.1
#10 12.83 Successfully installed websocket-extensions-0.1.5
#10 12.83 Building native extensions. This could take a while...
#10 12.94 Successfully installed websocket-driver-0.7.6
#10 12.94 Building native extensions. This could take a while...
#10 14.44 Successfully installed nio4r-2.7.3
#10 14.44 Successfully installed actioncable-7.2.1
#10 14.44 Successfully installed rails-7.2.1
#10 14.44 40 gems installed
#10 DONE 14.5s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.2s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:20f07ca3768d9dd96f1b9282f31ec11071ded2b56fbb25d72312df5981c624ca
#13 writing image sha256:20f07ca3768d9dd96f1b9282f31ec11071ded2b56fbb25d72312df5981c624ca done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 696B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 696B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.167 Reading package lists...
#6 2.374 Building dependency tree...
#6 2.427 Reading state information...
#6 2.490 The following additional packages will be installed:
#6 2.490   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.490   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.490   postgresql-client-common
#6 2.490 Suggested packages:
#6 2.490   npm postgresql-15 postgresql-doc-15
#6 2.535 The following NEW packages will be installed:
#6 2.536   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.536   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.536   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.665 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.665 Need to get 15.9 MB of archives.
#6 2.665 After this operation, 75.6 MB of additional disk space will be used.
#6 2.665 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.842 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.904 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.904 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.970 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.980 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.983 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.984 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.025 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.510 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.523 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.629 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.630 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.686 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.804 debconf: delaying package configuration, since apt-utils is not installed
#6 3.814 Fetched 15.9 MB in 1s (13.8 MB/s)
#6 3.823 Selecting previously unselected package libc-ares2:arm64.
#6 3.823 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.832 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.834 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.847 Selecting previously unselected package libuv1:arm64.
#6 3.848 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.849 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.862 Selecting previously unselected package node-xtend.
#6 3.863 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.863 Unpacking node-xtend (4.0.2-3) ...
#6 3.872 Selecting previously unselected package nodejs.
#6 3.873 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.874 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.904 Selecting previously unselected package node-acorn.
#6 3.905 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.906 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.921 Selecting previously unselected package node-cjs-module-lexer.
#6 3.922 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.923 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.932 Selecting previously unselected package node-busboy.
#6 3.933 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.934 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.943 Selecting previously unselected package node-undici.
#6 3.944 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.947 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.969 Selecting previously unselected package libnode108:arm64.
#6 3.970 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.971 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.268 Selecting previously unselected package netcat-openbsd.
#6 4.270 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.270 Unpacking netcat-openbsd (1.219-1) ...
#6 4.284 Selecting previously unselected package nodejs-doc.
#6 4.285 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.286 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.416 Selecting previously unselected package postgresql-client-common.
#6 4.417 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.418 Unpacking postgresql-client-common (248) ...
#6 4.428 Selecting previously unselected package postgresql-client-15.
#6 4.429 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.430 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.515 Selecting previously unselected package postgresql-client.
#6 4.516 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.517 Unpacking postgresql-client (15+248) ...
#6 4.529 Setting up postgresql-client-common (248) ...
#6 4.533 Setting up netcat-openbsd (1.219-1) ...
#6 4.536 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.538 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.675 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.686 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.688 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.691 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.693 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.695 Setting up node-xtend (4.0.2-3) ...
#6 4.698 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.700 Setting up postgresql-client (15+248) ...
#6 4.702 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.706 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.708 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.710 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.713 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.715 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY account.rb /app/account.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 13.14 Successfully installed bundler-2.5.18
#10 13.14 Successfully installed zeitwerk-2.6.18
#10 13.14 Successfully installed thor-1.3.2
#10 13.14 Successfully installed webrick-1.8.1
#10 13.14 Successfully installed rack-3.1.7
#10 13.14 Successfully installed rackup-2.1.0
#10 13.14 Successfully installed concurrent-ruby-1.3.4
#10 13.14 Successfully installed tzinfo-2.0.6
#10 13.14 Successfully installed i18n-1.14.5
#10 13.14 Successfully installed connection_pool-2.4.1
#10 13.14 Successfully installed activesupport-7.2.1
#10 13.14 Successfully installed useragent-0.16.10
#10 13.14 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 13.14 Successfully installed crass-1.0.6
#10 13.14 Successfully installed loofah-2.22.0
#10 13.14 Successfully installed rails-html-sanitizer-1.6.0
#10 13.14 Successfully installed rails-dom-testing-2.2.0
#10 13.14 Successfully installed rack-test-2.1.0
#10 13.14 Successfully installed rack-session-2.0.0
#10 13.14 Successfully installed erubi-1.13.0
#10 13.14 Successfully installed builder-3.3.0
#10 13.14 Successfully installed actionview-7.2.1
#10 13.14 Successfully installed actionpack-7.2.1
#10 13.14 Successfully installed railties-7.2.1
#10 13.14 Successfully installed marcel-1.0.4
#10 13.14 Successfully installed activemodel-7.2.1
#10 13.14 Successfully installed activerecord-7.2.1
#10 13.14 Successfully installed globalid-1.2.1
#10 13.14 Successfully installed activejob-7.2.1
#10 13.14 Successfully installed activestorage-7.2.1
#10 13.14 Successfully installed actiontext-7.2.1
#10 13.14 Successfully installed mini_mime-1.1.5
#10 13.14 Successfully installed mail-2.8.1
#10 13.14 Successfully installed actionmailer-7.2.1
#10 13.14 Successfully installed actionmailbox-7.2.1
#10 13.14 Successfully installed websocket-extensions-0.1.5
#10 13.14 Building native extensions. This could take a while...
#10 13.28 Successfully installed websocket-driver-0.7.6
#10 13.28 Building native extensions. This could take a while...
#10 14.81 Successfully installed nio4r-2.7.3
#10 14.81 Successfully installed actioncable-7.2.1
#10 14.81 Successfully installed rails-7.2.1
#10 14.81 40 gems installed
#10 DONE 14.9s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:35e9447ea5d04baf936196cd9065d53d95eae9c5fbb161583ef7342bd9e095f5 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 692B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 896B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.102 Reading package lists...
#6 2.312 Building dependency tree...
#6 2.367 Reading state information...
#6 2.429 The following additional packages will be installed:
#6 2.429   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.430   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.430   postgresql-client-common
#6 2.430 Suggested packages:
#6 2.430   npm postgresql-15 postgresql-doc-15
#6 2.475 The following NEW packages will be installed:
#6 2.475   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.475   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.475   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.647 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.647 Need to get 15.9 MB of archives.
#6 2.647 After this operation, 75.6 MB of additional disk space will be used.
#6 2.647 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.790 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.816 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.816 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.918 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.927 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.929 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.931 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.971 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.488 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.489 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.773 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.776 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.892 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.006 debconf: delaying package configuration, since apt-utils is not installed
#6 4.017 Fetched 15.9 MB in 1s (11.2 MB/s)
#6 4.026 Selecting previously unselected package libc-ares2:arm64.
#6 4.026 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.035 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.037 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.049 Selecting previously unselected package libuv1:arm64.
#6 4.050 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.051 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.064 Selecting previously unselected package node-xtend.
#6 4.065 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.066 Unpacking node-xtend (4.0.2-3) ...
#6 4.074 Selecting previously unselected package nodejs.
#6 4.075 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.076 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.106 Selecting previously unselected package node-acorn.
#6 4.107 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.108 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.124 Selecting previously unselected package node-cjs-module-lexer.
#6 4.125 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.126 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.135 Selecting previously unselected package node-busboy.
#6 4.136 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.136 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.147 Selecting previously unselected package node-undici.
#6 4.148 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.150 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.172 Selecting previously unselected package libnode108:arm64.
#6 4.173 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.174 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.465 Selecting previously unselected package netcat-openbsd.
#6 4.466 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.468 Unpacking netcat-openbsd (1.219-1) ...
#6 4.478 Selecting previously unselected package nodejs-doc.
#6 4.479 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.479 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.608 Selecting previously unselected package postgresql-client-common.
#6 4.609 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.610 Unpacking postgresql-client-common (248) ...
#6 4.621 Selecting previously unselected package postgresql-client-15.
#6 4.622 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.623 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.709 Selecting previously unselected package postgresql-client.
#6 4.710 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.711 Unpacking postgresql-client (15+248) ...
#6 4.722 Setting up postgresql-client-common (248) ...
#6 4.726 Setting up netcat-openbsd (1.219-1) ...
#6 4.729 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.731 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.872 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.883 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.886 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.888 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.891 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.893 Setting up node-xtend (4.0.2-3) ...
#6 4.895 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.897 Setting up postgresql-client (15+248) ...
#6 4.899 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.903 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.905 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.907 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.910 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.912 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.0s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY spina.rb /app/spina.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.78 Successfully installed bundler-2.5.18
#10 12.78 Successfully installed zeitwerk-2.6.18
#10 12.78 Successfully installed thor-1.3.2
#10 12.78 Successfully installed webrick-1.8.1
#10 12.78 Successfully installed rack-3.1.7
#10 12.78 Successfully installed rackup-2.1.0
#10 12.78 Successfully installed concurrent-ruby-1.3.4
#10 12.78 Successfully installed tzinfo-2.0.6
#10 12.78 Successfully installed i18n-1.14.5
#10 12.78 Successfully installed connection_pool-2.4.1
#10 12.78 Successfully installed activesupport-7.2.1
#10 12.78 Successfully installed useragent-0.16.10
#10 12.78 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.78 Successfully installed crass-1.0.6
#10 12.78 Successfully installed loofah-2.22.0
#10 12.78 Successfully installed rails-html-sanitizer-1.6.0
#10 12.78 Successfully installed rails-dom-testing-2.2.0
#10 12.78 Successfully installed rack-test-2.1.0
#10 12.78 Successfully installed rack-session-2.0.0
#10 12.78 Successfully installed erubi-1.13.0
#10 12.78 Successfully installed builder-3.3.0
#10 12.78 Successfully installed actionview-7.2.1
#10 12.78 Successfully installed actionpack-7.2.1
#10 12.78 Successfully installed railties-7.2.1
#10 12.78 Successfully installed marcel-1.0.4
#10 12.78 Successfully installed activemodel-7.2.1
#10 12.78 Successfully installed activerecord-7.2.1
#10 12.78 Successfully installed globalid-1.2.1
#10 12.78 Successfully installed activejob-7.2.1
#10 12.78 Successfully installed activestorage-7.2.1
#10 12.78 Successfully installed actiontext-7.2.1
#10 12.78 Successfully installed mini_mime-1.1.5
#10 12.78 Successfully installed mail-2.8.1
#10 12.78 Successfully installed actionmailer-7.2.1
#10 12.78 Successfully installed actionmailbox-7.2.1
#10 12.78 Successfully installed websocket-extensions-0.1.5
#10 12.78 Building native extensions. This could take a while...
#10 12.90 Successfully installed websocket-driver-0.7.6
#10 12.90 Building native extensions. This could take a while...
#10 14.41 Successfully installed nio4r-2.7.3
#10 14.41 Successfully installed actioncable-7.2.1
#10 14.41 Successfully installed rails-7.2.1
#10 14.41 40 gems installed
#10 DONE 14.4s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.2s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:543739f69b2d416e5caefe41df59bcc5ccc61a038e79fbc3b1a90f3053709169 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 692B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 895B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.997 Reading package lists...
#6 2.217 Building dependency tree...
#6 2.272 Reading state information...
#6 2.339 The following additional packages will be installed:
#6 2.339   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.339   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.339   postgresql-client-common
#6 2.340 Suggested packages:
#6 2.340   npm postgresql-15 postgresql-doc-15
#6 2.388 The following NEW packages will be installed:
#6 2.388   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.388   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.388   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.514 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.514 Need to get 15.9 MB of archives.
#6 2.514 After this operation, 75.6 MB of additional disk space will be used.
#6 2.514 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.653 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.678 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.680 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.786 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.790 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.793 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.794 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.836 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.398 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.400 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.503 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.503 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.514 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.608 debconf: delaying package configuration, since apt-utils is not installed
#6 3.619 Fetched 15.9 MB in 1s (14.1 MB/s)
#6 3.627 Selecting previously unselected package libc-ares2:arm64.
#6 3.627 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.636 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.638 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.651 Selecting previously unselected package libuv1:arm64.
#6 3.652 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.652 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.665 Selecting previously unselected package node-xtend.
#6 3.666 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.667 Unpacking node-xtend (4.0.2-3) ...
#6 3.675 Selecting previously unselected package nodejs.
#6 3.676 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.677 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.708 Selecting previously unselected package node-acorn.
#6 3.709 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.710 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.726 Selecting previously unselected package node-cjs-module-lexer.
#6 3.727 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.728 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.736 Selecting previously unselected package node-busboy.
#6 3.737 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.738 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.748 Selecting previously unselected package node-undici.
#6 3.748 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.751 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.773 Selecting previously unselected package libnode108:arm64.
#6 3.774 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.775 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.077 Selecting previously unselected package netcat-openbsd.
#6 4.078 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.079 Unpacking netcat-openbsd (1.219-1) ...
#6 4.089 Selecting previously unselected package nodejs-doc.
#6 4.090 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.091 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.222 Selecting previously unselected package postgresql-client-common.
#6 4.223 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.224 Unpacking postgresql-client-common (248) ...
#6 4.234 Selecting previously unselected package postgresql-client-15.
#6 4.235 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.236 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.320 Selecting previously unselected package postgresql-client.
#6 4.321 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.322 Unpacking postgresql-client (15+248) ...
#6 4.333 Setting up postgresql-client-common (248) ...
#6 4.337 Setting up netcat-openbsd (1.219-1) ...
#6 4.341 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.342 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.486 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.498 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.501 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.503 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.505 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.508 Setting up node-xtend (4.0.2-3) ...
#6 4.510 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.513 Setting up postgresql-client (15+248) ...
#6 4.515 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.519 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.521 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.524 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.526 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.528 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY spina.rb /app/spina.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 13.17 Successfully installed bundler-2.5.18
#10 13.17 Successfully installed zeitwerk-2.6.18
#10 13.17 Successfully installed thor-1.3.2
#10 13.17 Successfully installed webrick-1.8.1
#10 13.17 Successfully installed rack-3.1.7
#10 13.17 Successfully installed rackup-2.1.0
#10 13.17 Successfully installed concurrent-ruby-1.3.4
#10 13.17 Successfully installed tzinfo-2.0.6
#10 13.17 Successfully installed i18n-1.14.5
#10 13.17 Successfully installed connection_pool-2.4.1
#10 13.17 Successfully installed activesupport-7.2.1
#10 13.17 Successfully installed useragent-0.16.10
#10 13.17 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 13.17 Successfully installed crass-1.0.6
#10 13.17 Successfully installed loofah-2.22.0
#10 13.17 Successfully installed rails-html-sanitizer-1.6.0
#10 13.17 Successfully installed rails-dom-testing-2.2.0
#10 13.17 Successfully installed rack-test-2.1.0
#10 13.17 Successfully installed rack-session-2.0.0
#10 13.17 Successfully installed erubi-1.13.0
#10 13.17 Successfully installed builder-3.3.0
#10 13.17 Successfully installed actionview-7.2.1
#10 13.17 Successfully installed actionpack-7.2.1
#10 13.17 Successfully installed railties-7.2.1
#10 13.17 Successfully installed marcel-1.0.4
#10 13.17 Successfully installed activemodel-7.2.1
#10 13.17 Successfully installed activerecord-7.2.1
#10 13.17 Successfully installed globalid-1.2.1
#10 13.17 Successfully installed activejob-7.2.1
#10 13.17 Successfully installed activestorage-7.2.1
#10 13.17 Successfully installed actiontext-7.2.1
#10 13.17 Successfully installed mini_mime-1.1.5
#10 13.17 Successfully installed mail-2.8.1
#10 13.17 Successfully installed actionmailer-7.2.1
#10 13.17 Successfully installed actionmailbox-7.2.1
#10 13.17 Successfully installed websocket-extensions-0.1.5
#10 13.17 Building native extensions. This could take a while...
#10 13.29 Successfully installed websocket-driver-0.7.6
#10 13.29 Building native extensions. This could take a while...
#10 14.94 Successfully installed nio4r-2.7.3
#10 14.94 Successfully installed actioncable-7.2.1
#10 14.94 Successfully installed rails-7.2.1
#10 14.94 40 gems installed
#10 DONE 15.0s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.2s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:8202da8ad8966a673e49c098e83fe785c4ddd010e66954437df84c53f83a114a
#13 writing image sha256:8202da8ad8966a673e49c098e83fe785c4ddd010e66954437df84c53f83a114a done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 692B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.05kB done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.135 Reading package lists...
#6 2.336 Building dependency tree...
#6 2.389 Reading state information...
#6 2.453 The following additional packages will be installed:
#6 2.453   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.453   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.453   postgresql-client-common
#6 2.454 Suggested packages:
#6 2.454   npm postgresql-15 postgresql-doc-15
#6 2.497 The following NEW packages will be installed:
#6 2.497   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.497   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.497   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.626 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.626 Need to get 15.9 MB of archives.
#6 2.626 After this operation, 75.6 MB of additional disk space will be used.
#6 2.626 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.768 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.792 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.793 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.893 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.901 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.904 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.905 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.947 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.520 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.520 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.646 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.646 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.676 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.785 debconf: delaying package configuration, since apt-utils is not installed
#6 3.794 Fetched 15.9 MB in 1s (13.5 MB/s)
#6 3.803 Selecting previously unselected package libc-ares2:arm64.
#6 3.803 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.811 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.813 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.826 Selecting previously unselected package libuv1:arm64.
#6 3.827 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.828 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.840 Selecting previously unselected package node-xtend.
#6 3.841 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.842 Unpacking node-xtend (4.0.2-3) ...
#6 3.849 Selecting previously unselected package nodejs.
#6 3.850 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.851 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.881 Selecting previously unselected package node-acorn.
#6 3.882 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.882 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.898 Selecting previously unselected package node-cjs-module-lexer.
#6 3.899 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.900 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.908 Selecting previously unselected package node-busboy.
#6 3.909 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.910 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.920 Selecting previously unselected package node-undici.
#6 3.921 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.923 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.945 Selecting previously unselected package libnode108:arm64.
#6 3.946 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.947 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.253 Selecting previously unselected package netcat-openbsd.
#6 4.255 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.255 Unpacking netcat-openbsd (1.219-1) ...
#6 4.265 Selecting previously unselected package nodejs-doc.
#6 4.266 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.267 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.396 Selecting previously unselected package postgresql-client-common.
#6 4.397 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.398 Unpacking postgresql-client-common (248) ...
#6 4.408 Selecting previously unselected package postgresql-client-15.
#6 4.409 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.410 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.494 Selecting previously unselected package postgresql-client.
#6 4.495 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.496 Unpacking postgresql-client (15+248) ...
#6 4.507 Setting up postgresql-client-common (248) ...
#6 4.511 Setting up netcat-openbsd (1.219-1) ...
#6 4.514 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.516 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.652 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.663 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.665 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.668 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.670 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.672 Setting up node-xtend (4.0.2-3) ...
#6 4.674 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.677 Setting up postgresql-client (15+248) ...
#6 4.679 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.683 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.686 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.688 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.690 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.692 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] COPY spina.rb /app/spina.rb
#9 DONE 0.0s

#10 [web 6/8] RUN gem install bundler rails
#10 12.81 Successfully installed bundler-2.5.18
#10 12.81 Successfully installed zeitwerk-2.6.18
#10 12.81 Successfully installed thor-1.3.2
#10 12.81 Successfully installed webrick-1.8.1
#10 12.81 Successfully installed rack-3.1.7
#10 12.81 Successfully installed rackup-2.1.0
#10 12.81 Successfully installed concurrent-ruby-1.3.4
#10 12.81 Successfully installed tzinfo-2.0.6
#10 12.81 Successfully installed i18n-1.14.5
#10 12.81 Successfully installed connection_pool-2.4.1
#10 12.81 Successfully installed activesupport-7.2.1
#10 12.81 Successfully installed useragent-0.16.10
#10 12.81 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.81 Successfully installed crass-1.0.6
#10 12.81 Successfully installed loofah-2.22.0
#10 12.81 Successfully installed rails-html-sanitizer-1.6.0
#10 12.81 Successfully installed rails-dom-testing-2.2.0
#10 12.81 Successfully installed rack-test-2.1.0
#10 12.81 Successfully installed rack-session-2.0.0
#10 12.81 Successfully installed erubi-1.13.0
#10 12.81 Successfully installed builder-3.3.0
#10 12.81 Successfully installed actionview-7.2.1
#10 12.81 Successfully installed actionpack-7.2.1
#10 12.81 Successfully installed railties-7.2.1
#10 12.81 Successfully installed marcel-1.0.4
#10 12.81 Successfully installed activemodel-7.2.1
#10 12.81 Successfully installed activerecord-7.2.1
#10 12.81 Successfully installed globalid-1.2.1
#10 12.81 Successfully installed activejob-7.2.1
#10 12.81 Successfully installed activestorage-7.2.1
#10 12.81 Successfully installed actiontext-7.2.1
#10 12.81 Successfully installed mini_mime-1.1.5
#10 12.81 Successfully installed mail-2.8.1
#10 12.81 Successfully installed actionmailer-7.2.1
#10 12.81 Successfully installed actionmailbox-7.2.1
#10 12.81 Successfully installed websocket-extensions-0.1.5
#10 12.81 Building native extensions. This could take a while...
#10 12.94 Successfully installed websocket-driver-0.7.6
#10 12.94 Building native extensions. This could take a while...
#10 14.57 Successfully installed nio4r-2.7.3
#10 14.57 Successfully installed actioncable-7.2.1
#10 14.57 Successfully installed rails-7.2.1
#10 14.57 40 gems installed
#10 DONE 14.6s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:e2b3413d437edc591300403582223d08d5150b2bceb87c7d459a4f5ef012cba5 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 706B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.4s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/7] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 775B done
#5 DONE 0.0s

#6 [web 2/7] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.059 Reading package lists...
#6 2.272 Building dependency tree...
#6 2.330 Reading state information...
#6 2.397 The following additional packages will be installed:
#6 2.397   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.397   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.397   postgresql-client-common
#6 2.397 Suggested packages:
#6 2.397   npm postgresql-15 postgresql-doc-15
#6 2.445 The following NEW packages will be installed:
#6 2.445   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.445   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.445   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.571 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.571 Need to get 15.9 MB of archives.
#6 2.571 After this operation, 75.6 MB of additional disk space will be used.
#6 2.571 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.711 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.772 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.774 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.844 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.856 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.857 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.857 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.906 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.399 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.401 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.585 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.587 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.628 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.760 debconf: delaying package configuration, since apt-utils is not installed
#6 3.772 Fetched 15.9 MB in 1s (13.4 MB/s)
#6 3.783 Selecting previously unselected package libc-ares2:arm64.
#6 3.783 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.797 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.799 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.813 Selecting previously unselected package libuv1:arm64.
#6 3.814 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.816 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.830 Selecting previously unselected package node-xtend.
#6 3.831 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.832 Unpacking node-xtend (4.0.2-3) ...
#6 3.841 Selecting previously unselected package nodejs.
#6 3.842 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.843 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.874 Selecting previously unselected package node-acorn.
#6 3.875 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.876 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.893 Selecting previously unselected package node-cjs-module-lexer.
#6 3.894 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.895 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.905 Selecting previously unselected package node-busboy.
#6 3.906 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.907 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.919 Selecting previously unselected package node-undici.
#6 3.920 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.923 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.947 Selecting previously unselected package libnode108:arm64.
#6 3.948 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.949 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.250 Selecting previously unselected package netcat-openbsd.
#6 4.251 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.252 Unpacking netcat-openbsd (1.219-1) ...
#6 4.262 Selecting previously unselected package nodejs-doc.
#6 4.263 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.264 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.401 Selecting previously unselected package postgresql-client-common.
#6 4.402 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.403 Unpacking postgresql-client-common (248) ...
#6 4.413 Selecting previously unselected package postgresql-client-15.
#6 4.414 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.415 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.501 Selecting previously unselected package postgresql-client.
#6 4.502 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.503 Unpacking postgresql-client (15+248) ...
#6 4.516 Setting up postgresql-client-common (248) ...
#6 4.521 Setting up netcat-openbsd (1.219-1) ...
#6 4.525 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.527 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.666 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.679 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.682 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.684 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.687 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.689 Setting up node-xtend (4.0.2-3) ...
#6 4.692 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.695 Setting up postgresql-client (15+248) ...
#6 4.697 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.701 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.703 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.706 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.709 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.711 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web 3/7] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/7] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/7] RUN gem install bundler rails--version 7.1
#9 14.56 ERROR:  Could not find a valid gem 'rails--version' (>= 0) in any repository
#9 19.34 ERROR:  Possible alternatives: rails_version
#9 32.59 ERROR:  Could not find a valid gem '7.1' (>= 0) in any repository
#9 36.58 Successfully installed bundler-2.5.18
#9 36.58 1 gem installed
#9 ERROR: process "/bin/sh -c gem install bundler rails--version 7.1" did not complete successfully: exit code: 2
------
 > [web 5/7] RUN gem install bundler rails--version 7.1:
14.56 ERROR:  Could not find a valid gem 'rails--version' (>= 0) in any repository
19.34 ERROR:  Possible alternatives: rails_version
32.59 ERROR:  Could not find a valid gem '7.1' (>= 0) in any repository
36.58 Successfully installed bundler-2.5.18
36.58 1 gem installed
------
failed to solve: process "/bin/sh -c gem install bundler rails--version 7.1" did not complete successfully: exit code: 2
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 719B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.992 Reading package lists...
#6 2.211 Building dependency tree...
#6 2.272 Reading state information...
#6 2.339 The following additional packages will be installed:
#6 2.339   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.339   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.339   postgresql-client-common
#6 2.340 Suggested packages:
#6 2.340   npm postgresql-15 postgresql-doc-15
#6 2.389 The following NEW packages will be installed:
#6 2.390   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.390   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.390   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.516 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.516 Need to get 15.9 MB of archives.
#6 2.516 After this operation, 75.6 MB of additional disk space will be used.
#6 2.516 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.657 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.684 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.684 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.818 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.821 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.822 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.822 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.838 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.335 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.337 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.535 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.535 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.638 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.773 debconf: delaying package configuration, since apt-utils is not installed
#6 3.788 Fetched 15.9 MB in 1s (12.7 MB/s)
#6 3.799 Selecting previously unselected package libc-ares2:arm64.
#6 3.799 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.816 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.818 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.834 Selecting previously unselected package libuv1:arm64.
#6 3.836 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.837 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.852 Selecting previously unselected package node-xtend.
#6 3.853 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.854 Unpacking node-xtend (4.0.2-3) ...
#6 3.864 Selecting previously unselected package nodejs.
#6 3.865 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.866 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.918 Selecting previously unselected package node-acorn.
#6 3.919 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.920 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.940 Selecting previously unselected package node-cjs-module-lexer.
#6 3.941 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.942 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.952 Selecting previously unselected package node-busboy.
#6 3.953 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.954 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.965 Selecting previously unselected package node-undici.
#6 3.966 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.969 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.993 Selecting previously unselected package libnode108:arm64.
#6 3.994 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.995 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.305 Selecting previously unselected package netcat-openbsd.
#6 4.306 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.307 Unpacking netcat-openbsd (1.219-1) ...
#6 4.317 Selecting previously unselected package nodejs-doc.
#6 4.317 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.318 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.447 Selecting previously unselected package postgresql-client-common.
#6 4.448 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.449 Unpacking postgresql-client-common (248) ...
#6 4.460 Selecting previously unselected package postgresql-client-15.
#6 4.460 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.461 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.551 Selecting previously unselected package postgresql-client.
#6 4.552 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.553 Unpacking postgresql-client (15+248) ...
#6 4.566 Setting up postgresql-client-common (248) ...
#6 4.570 Setting up netcat-openbsd (1.219-1) ...
#6 4.573 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.575 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.717 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.733 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.735 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.738 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.740 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.742 Setting up node-xtend (4.0.2-3) ...
#6 4.744 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.747 Setting up postgresql-client (15+248) ...
#6 4.749 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.753 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.756 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.758 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.761 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.764 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] RUN gem install bundler
#9 1.512 Successfully installed bundler-2.5.18
#9 1.512 1 gem installed
#9 DONE 1.5s

#10 [web 6/8] RUN gem install rails -v 7.1.1
#10 12.27 Successfully installed zeitwerk-2.6.18
#10 12.27 Successfully installed thor-1.3.2
#10 12.27 Successfully installed webrick-1.8.1
#10 12.27 Successfully installed rack-3.1.7
#10 12.27 Successfully installed rackup-2.1.0
#10 12.27 Successfully installed concurrent-ruby-1.3.4
#10 12.27 Successfully installed tzinfo-2.0.6
#10 12.27 Successfully installed i18n-1.14.5
#10 12.27 Successfully installed connection_pool-2.4.1
#10 12.27 Successfully installed activesupport-7.1.1
#10 12.27 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.27 Successfully installed crass-1.0.6
#10 12.27 Successfully installed loofah-2.22.0
#10 12.27 Successfully installed rails-html-sanitizer-1.6.0
#10 12.27 Successfully installed rails-dom-testing-2.2.0
#10 12.27 Successfully installed rack-test-2.1.0
#10 12.27 Successfully installed rack-session-2.0.0
#10 12.27 Successfully installed erubi-1.13.0
#10 12.27 Successfully installed builder-3.3.0
#10 12.27 Successfully installed actionview-7.1.1
#10 12.27 Successfully installed actionpack-7.1.1
#10 12.27 Successfully installed railties-7.1.1
#10 12.27 Successfully installed marcel-1.0.4
#10 12.27 Successfully installed activemodel-7.1.1
#10 12.27 Successfully installed activerecord-7.1.1
#10 12.27 Successfully installed globalid-1.2.1
#10 12.27 Successfully installed activejob-7.1.1
#10 12.27 Successfully installed activestorage-7.1.1
#10 12.27 Successfully installed actiontext-7.1.1
#10 12.27 Successfully installed mini_mime-1.1.5
#10 12.27 Successfully installed mail-2.8.1
#10 12.27 Successfully installed actionmailer-7.1.1
#10 12.27 Successfully installed actionmailbox-7.1.1
#10 12.27 Successfully installed websocket-extensions-0.1.5
#10 12.27 Building native extensions. This could take a while...
#10 12.41 Successfully installed websocket-driver-0.7.6
#10 12.41 Building native extensions. This could take a while...
#10 14.00 Successfully installed nio4r-2.7.3
#10 14.00 Successfully installed actioncable-7.1.1
#10 14.00 Successfully installed rails-7.1.1
#10 14.00 38 gems installed
#10 DONE 14.0s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.2s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:0c15e1b6c027fec4164859868de6cf2566b035068a1fe37776975dc06a0f7b77
#13 writing image sha256:0c15e1b6c027fec4164859868de6cf2566b035068a1fe37776975dc06a0f7b77 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 719B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.632 Reading package lists...
#6 2.855 Building dependency tree...
#6 2.910 Reading state information...
#6 2.976 The following additional packages will be installed:
#6 2.977   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.977   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.977   postgresql-client-common
#6 2.977 Suggested packages:
#6 2.977   npm postgresql-15 postgresql-doc-15
#6 3.021 The following NEW packages will be installed:
#6 3.021   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 3.021   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 3.021   postgresql-client postgresql-client-15 postgresql-client-common
#6 3.176 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 3.176 Need to get 15.9 MB of archives.
#6 3.176 After this operation, 75.6 MB of additional disk space will be used.
#6 3.176 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.314 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.339 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.340 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.441 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.451 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.453 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.455 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.496 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.013 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 4.014 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.175 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.177 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.214 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.305 debconf: delaying package configuration, since apt-utils is not installed
#6 4.316 Fetched 15.9 MB in 1s (13.3 MB/s)
#6 4.325 Selecting previously unselected package libc-ares2:arm64.
#6 4.325 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.335 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.337 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.351 Selecting previously unselected package libuv1:arm64.
#6 4.352 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.353 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.367 Selecting previously unselected package node-xtend.
#6 4.368 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.370 Unpacking node-xtend (4.0.2-3) ...
#6 4.379 Selecting previously unselected package nodejs.
#6 4.380 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.381 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.413 Selecting previously unselected package node-acorn.
#6 4.414 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.415 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.433 Selecting previously unselected package node-cjs-module-lexer.
#6 4.434 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.434 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.443 Selecting previously unselected package node-busboy.
#6 4.444 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.445 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.456 Selecting previously unselected package node-undici.
#6 4.457 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.460 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.483 Selecting previously unselected package libnode108:arm64.
#6 4.484 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.485 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.780 Selecting previously unselected package netcat-openbsd.
#6 4.781 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.782 Unpacking netcat-openbsd (1.219-1) ...
#6 4.793 Selecting previously unselected package nodejs-doc.
#6 4.794 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.795 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.929 Selecting previously unselected package postgresql-client-common.
#6 4.930 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.931 Unpacking postgresql-client-common (248) ...
#6 4.943 Selecting previously unselected package postgresql-client-15.
#6 4.944 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.945 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.031 Selecting previously unselected package postgresql-client.
#6 5.032 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.033 Unpacking postgresql-client (15+248) ...
#6 5.045 Setting up postgresql-client-common (248) ...
#6 5.050 Setting up netcat-openbsd (1.219-1) ...
#6 5.054 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.055 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.190 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.201 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.204 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.207 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.209 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.212 Setting up node-xtend (4.0.2-3) ...
#6 5.215 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.218 Setting up postgresql-client (15+248) ...
#6 5.220 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.224 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.227 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.230 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.233 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.234 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.3s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] RUN gem install bundler
#9 1.381 Successfully installed bundler-2.5.18
#9 1.381 1 gem installed
#9 DONE 1.4s

#10 [web 6/8] RUN gem install rails -v 7.1.4
#10 12.59 Successfully installed zeitwerk-2.6.18
#10 12.59 Successfully installed thor-1.3.2
#10 12.59 Successfully installed webrick-1.8.1
#10 12.59 Successfully installed rack-3.1.7
#10 12.59 Successfully installed rackup-2.1.0
#10 12.59 Successfully installed concurrent-ruby-1.3.4
#10 12.59 Successfully installed tzinfo-2.0.6
#10 12.59 Successfully installed i18n-1.14.5
#10 12.59 Successfully installed connection_pool-2.4.1
#10 12.59 Successfully installed activesupport-7.1.4
#10 12.59 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.59 Successfully installed crass-1.0.6
#10 12.59 Successfully installed loofah-2.22.0
#10 12.59 Successfully installed rails-html-sanitizer-1.6.0
#10 12.59 Successfully installed rails-dom-testing-2.2.0
#10 12.59 Successfully installed rack-test-2.1.0
#10 12.59 Successfully installed rack-session-2.0.0
#10 12.59 Successfully installed erubi-1.13.0
#10 12.59 Successfully installed builder-3.3.0
#10 12.59 Successfully installed actionview-7.1.4
#10 12.59 Successfully installed actionpack-7.1.4
#10 12.59 Successfully installed railties-7.1.4
#10 12.59 Successfully installed marcel-1.0.4
#10 12.59 Successfully installed activemodel-7.1.4
#10 12.59 Successfully installed activerecord-7.1.4
#10 12.59 Successfully installed globalid-1.2.1
#10 12.59 Successfully installed activejob-7.1.4
#10 12.59 Successfully installed activestorage-7.1.4
#10 12.59 Successfully installed actiontext-7.1.4
#10 12.59 Successfully installed mini_mime-1.1.5
#10 12.59 Successfully installed mail-2.8.1
#10 12.59 Successfully installed actionmailer-7.1.4
#10 12.59 Successfully installed actionmailbox-7.1.4
#10 12.59 Successfully installed websocket-extensions-0.1.5
#10 12.59 Building native extensions. This could take a while...
#10 12.71 Successfully installed websocket-driver-0.7.6
#10 12.71 Building native extensions. This could take a while...
#10 14.20 Successfully installed nio4r-2.7.3
#10 14.20 Successfully installed actioncable-7.1.4
#10 14.20 Successfully installed rails-7.1.4
#10 14.20 38 gems installed
#10 DONE 14.2s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.3s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:40282bf9ded8b1c43dc7700057d7491ef1453fa441ed2c60e5fddefc22f831b9 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 790B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 58B done
#5 DONE 0.0s

#6 [web 3/9] WORKDIR /app/
#6 CACHED

#7 [web 5/9] RUN gem install bundler
#7 CACHED

#8 [web 6/9] RUN gem install rails -v 7.1.4
#8 CACHED

#9 [web 4/9] COPY .env.dev .env
#9 CACHED

#10 [web 7/9] COPY spina_serializer.sp /app/config/initializers/spina_serializer.rb
#10 ERROR: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::bjein6ebdf7w51clketodras3: "/spina_serializer.sp": not found

#11 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#11 1.852 Reading package lists...
#11 2.067 Building dependency tree...
#11 2.119 Reading state information...
#11 2.184 The following additional packages will be installed:
#11 2.184   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#11 2.184   node-undici node-xtend nodejs-doc postgresql-client-15
#11 2.184   postgresql-client-common
#11 2.185 Suggested packages:
#11 2.185   npm postgresql-15 postgresql-doc-15
#11 2.233 The following NEW packages will be installed:
#11 2.233   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#11 2.233   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#11 2.233   postgresql-client postgresql-client-15 postgresql-client-common
#11 3.138 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#11 3.138 Need to get 15.9 MB of archives.
#11 3.138 After this operation, 75.6 MB of additional disk space will be used.
#11 3.138 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#11 3.517 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#11 3.590 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#11 3.591 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#11 3.666 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#11 3.701 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#11 3.705 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#11 3.707 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#11 3.753 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#11 4.162 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#11 4.165 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#11 4.315 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#11 4.318 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#11 4.368 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#11 4.477 debconf: delaying package configuration, since apt-utils is not installed
#11 4.487 Fetched 15.9 MB in 2s (7440 kB/s)
#11 4.495 Selecting previously unselected package libc-ares2:arm64.
#11 4.495 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#11 4.505 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#11 4.507 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#11 4.521 Selecting previously unselected package libuv1:arm64.
#11 4.522 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#11 4.523 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#11 4.536 Selecting previously unselected package node-xtend.
#11 4.537 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#11 4.538 Unpacking node-xtend (4.0.2-3) ...
#11 4.546 Selecting previously unselected package nodejs.
#11 4.547 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#11 4.548 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#11 4.578 Selecting previously unselected package node-acorn.
#11 4.579 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#11 4.580 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#11 4.596 Selecting previously unselected package node-cjs-module-lexer.
#11 4.597 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#11 4.598 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#11 4.607 Selecting previously unselected package node-busboy.
#11 4.608 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#11 4.609 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#11 4.619 Selecting previously unselected package node-undici.
#11 4.620 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#11 4.623 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#11 4.645 Selecting previously unselected package libnode108:arm64.
#11 4.646 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#11 4.647 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#11 4.931 Selecting previously unselected package netcat-openbsd.
#11 4.932 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#11 4.933 Unpacking netcat-openbsd (1.219-1) ...
#11 4.943 Selecting previously unselected package nodejs-doc.
#11 4.944 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#11 4.945 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#11 5.072 Selecting previously unselected package postgresql-client-common.
#11 5.073 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#11 5.074 Unpacking postgresql-client-common (248) ...
#11 5.085 Selecting previously unselected package postgresql-client-15.
#11 5.086 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#11 5.087 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#11 5.171 Selecting previously unselected package postgresql-client.
#11 5.172 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#11 5.172 Unpacking postgresql-client (15+248) ...
#11 5.184 Setting up postgresql-client-common (248) ...
#11 5.189 Setting up netcat-openbsd (1.219-1) ...
#11 5.193 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#11 5.194 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#11 5.329 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#11 5.341 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#11 5.343 Setting up libc-ares2:arm64 (1.18.1-3) ...
#11 5.346 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#11 5.348 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#11 5.351 Setting up node-xtend (4.0.2-3) ...
#11 5.354 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#11 5.356 Setting up postgresql-client (15+248) ...
#11 5.359 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#11 5.364 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#11 5.366 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#11 5.371 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#11 5.373 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#11 5.375 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#11 DONE 5.4s
------
 > [web 7/9] COPY spina_serializer.sp /app/config/initializers/spina_serializer.rb:
------
failed to solve: failed to compute cache key: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::bjein6ebdf7w51clketodras3: "/spina_serializer.sp": not found
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 767B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 844B done
#5 DONE 0.0s

#6 [web 5/9] RUN gem install bundler
#6 CACHED

#7 [web 3/9] WORKDIR /app/
#7 CACHED

#8 [web 4/9] COPY .env.dev .env
#8 CACHED

#9 [web 6/9] RUN gem install rails -v 7.1.4
#9 CACHED

#10 [web 7/9] COPY spina_serializer.sp ./spina_serializer.rb
#10 ERROR: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::4a55f1hcb10k416xed3jchztm: "/spina_serializer.sp": not found

#11 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#11 1.997 Reading package lists...
#11 2.199 Building dependency tree...
#11 2.250 Reading state information...
#11 2.313 The following additional packages will be installed:
#11 2.313   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#11 2.313   node-undici node-xtend nodejs-doc postgresql-client-15
#11 2.314   postgresql-client-common
#11 2.314 Suggested packages:
#11 2.314   npm postgresql-15 postgresql-doc-15
#11 2.357 The following NEW packages will be installed:
#11 2.357   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#11 2.357   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#11 2.357   postgresql-client postgresql-client-15 postgresql-client-common
#11 2.519 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#11 2.519 Need to get 15.9 MB of archives.
#11 2.519 After this operation, 75.6 MB of additional disk space will be used.
#11 2.519 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#11 2.667 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#11 2.692 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#11 2.694 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#11 2.796 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#11 2.805 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#11 2.807 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#11 2.808 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#11 2.850 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#11 3.254 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#11 3.255 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#11 3.402 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#11 3.403 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#11 3.472 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#11 3.580 debconf: delaying package configuration, since apt-utils is not installed
#11 3.590 Fetched 15.9 MB in 1s (14.3 MB/s)
#11 3.598 Selecting previously unselected package libc-ares2:arm64.
#11 3.598 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#11 3.604 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#11 3.606 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#11 3.619 Selecting previously unselected package libuv1:arm64.
#11 3.620 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#11 3.621 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#11 3.634 Selecting previously unselected package node-xtend.
#11 3.635 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#11 3.636 Unpacking node-xtend (4.0.2-3) ...
#11 3.644 Selecting previously unselected package nodejs.
#11 3.645 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#11 3.646 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#11 3.676 Selecting previously unselected package node-acorn.
#11 3.677 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#11 3.677 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#11 3.694 Selecting previously unselected package node-cjs-module-lexer.
#11 3.695 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#11 3.696 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#11 3.705 Selecting previously unselected package node-busboy.
#11 3.705 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#11 3.706 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#11 3.716 Selecting previously unselected package node-undici.
#11 3.717 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#11 3.719 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#11 3.741 Selecting previously unselected package libnode108:arm64.
#11 3.742 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#11 3.743 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#11 4.021 Selecting previously unselected package netcat-openbsd.
#11 4.022 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#11 4.023 Unpacking netcat-openbsd (1.219-1) ...
#11 4.032 Selecting previously unselected package nodejs-doc.
#11 4.033 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#11 4.034 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#11 4.162 Selecting previously unselected package postgresql-client-common.
#11 4.163 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#11 4.164 Unpacking postgresql-client-common (248) ...
#11 4.174 Selecting previously unselected package postgresql-client-15.
#11 4.175 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#11 4.176 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#11 4.260 Selecting previously unselected package postgresql-client.
#11 4.261 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#11 4.262 Unpacking postgresql-client (15+248) ...
#11 4.275 Setting up postgresql-client-common (248) ...
#11 4.280 Setting up netcat-openbsd (1.219-1) ...
#11 4.283 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#11 4.285 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#11 4.428 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#11 4.439 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#11 4.442 Setting up libc-ares2:arm64 (1.18.1-3) ...
#11 4.445 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#11 4.448 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#11 4.450 Setting up node-xtend (4.0.2-3) ...
#11 4.453 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#11 4.456 Setting up postgresql-client (15+248) ...
#11 4.458 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#11 4.463 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#11 4.465 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#11 4.468 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#11 4.471 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#11 4.473 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#11 DONE 4.5s
------
 > [web 7/9] COPY spina_serializer.sp ./spina_serializer.rb:
------
failed to solve: failed to compute cache key: failed to calculate checksum of ref 72118259-5a59-429e-8c6c-1f0c8f638de8::4a55f1hcb10k416xed3jchztm: "/spina_serializer.sp": not found
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 767B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 286B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.057 Reading package lists...
#6 2.265 Building dependency tree...
#6 2.320 Reading state information...
#6 2.384 The following additional packages will be installed:
#6 2.384   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.384   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.385   postgresql-client-common
#6 2.385 Suggested packages:
#6 2.385   npm postgresql-15 postgresql-doc-15
#6 2.428 The following NEW packages will be installed:
#6 2.428   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.428   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.428   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.557 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.557 Need to get 15.9 MB of archives.
#6 2.557 After this operation, 75.6 MB of additional disk space will be used.
#6 2.557 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.697 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.720 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.723 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.815 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.826 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.829 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.830 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.847 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.359 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.359 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.508 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.509 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.574 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.697 debconf: delaying package configuration, since apt-utils is not installed
#6 3.713 Fetched 15.9 MB in 1s (13.9 MB/s)
#6 3.723 Selecting previously unselected package libc-ares2:arm64.
#6 3.723 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.733 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.735 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.750 Selecting previously unselected package libuv1:arm64.
#6 3.752 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.753 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.767 Selecting previously unselected package node-xtend.
#6 3.768 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.769 Unpacking node-xtend (4.0.2-3) ...
#6 3.779 Selecting previously unselected package nodejs.
#6 3.781 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.782 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.814 Selecting previously unselected package node-acorn.
#6 3.815 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.816 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.833 Selecting previously unselected package node-cjs-module-lexer.
#6 3.834 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.835 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.845 Selecting previously unselected package node-busboy.
#6 3.846 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.848 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.860 Selecting previously unselected package node-undici.
#6 3.861 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.864 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.887 Selecting previously unselected package libnode108:arm64.
#6 3.888 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.889 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.171 Selecting previously unselected package netcat-openbsd.
#6 4.172 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.173 Unpacking netcat-openbsd (1.219-1) ...
#6 4.184 Selecting previously unselected package nodejs-doc.
#6 4.185 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.186 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.316 Selecting previously unselected package postgresql-client-common.
#6 4.318 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.318 Unpacking postgresql-client-common (248) ...
#6 4.330 Selecting previously unselected package postgresql-client-15.
#6 4.331 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.332 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.414 Selecting previously unselected package postgresql-client.
#6 4.416 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.417 Unpacking postgresql-client (15+248) ...
#6 4.432 Setting up postgresql-client-common (248) ...
#6 4.437 Setting up netcat-openbsd (1.219-1) ...
#6 4.440 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.442 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.578 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.589 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.591 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.594 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.597 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.600 Setting up node-xtend (4.0.2-3) ...
#6 4.602 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.605 Setting up postgresql-client (15+248) ...
#6 4.607 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.611 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.614 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.617 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.619 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.621 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.315 Successfully installed bundler-2.5.18
#9 1.315 1 gem installed
#9 DONE 1.3s

#10 [web 6/9] RUN gem install rails -v 7.1.4
#10 12.29 Successfully installed zeitwerk-2.6.18
#10 12.29 Successfully installed thor-1.3.2
#10 12.29 Successfully installed webrick-1.8.1
#10 12.29 Successfully installed rack-3.1.7
#10 12.29 Successfully installed rackup-2.1.0
#10 12.29 Successfully installed concurrent-ruby-1.3.4
#10 12.29 Successfully installed tzinfo-2.0.6
#10 12.29 Successfully installed i18n-1.14.5
#10 12.29 Successfully installed connection_pool-2.4.1
#10 12.29 Successfully installed activesupport-7.1.4
#10 12.29 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.29 Successfully installed crass-1.0.6
#10 12.29 Successfully installed loofah-2.22.0
#10 12.29 Successfully installed rails-html-sanitizer-1.6.0
#10 12.29 Successfully installed rails-dom-testing-2.2.0
#10 12.29 Successfully installed rack-test-2.1.0
#10 12.29 Successfully installed rack-session-2.0.0
#10 12.29 Successfully installed erubi-1.13.0
#10 12.29 Successfully installed builder-3.3.0
#10 12.29 Successfully installed actionview-7.1.4
#10 12.29 Successfully installed actionpack-7.1.4
#10 12.29 Successfully installed railties-7.1.4
#10 12.29 Successfully installed marcel-1.0.4
#10 12.29 Successfully installed activemodel-7.1.4
#10 12.29 Successfully installed activerecord-7.1.4
#10 12.29 Successfully installed globalid-1.2.1
#10 12.29 Successfully installed activejob-7.1.4
#10 12.29 Successfully installed activestorage-7.1.4
#10 12.29 Successfully installed actiontext-7.1.4
#10 12.29 Successfully installed mini_mime-1.1.5
#10 12.29 Successfully installed mail-2.8.1
#10 12.29 Successfully installed actionmailer-7.1.4
#10 12.29 Successfully installed actionmailbox-7.1.4
#10 12.29 Successfully installed websocket-extensions-0.1.5
#10 12.29 Building native extensions. This could take a while...
#10 12.40 Successfully installed websocket-driver-0.7.6
#10 12.40 Building native extensions. This could take a while...
#10 13.88 Successfully installed nio4r-2.7.3
#10 13.88 Successfully installed actioncable-7.1.4
#10 13.88 Successfully installed rails-7.1.4
#10 13.88 38 gems installed
#10 DONE 13.9s

#11 [web 7/9] COPY spina_serializer.rb ./spina_serializer.rb
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.1s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:06b3744b1e9400ee10115b33b5a48e39c0860a6287b97b9b4f3d784d0d72fb98 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 767B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.04kB done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.006 Reading package lists...
#6 2.220 Building dependency tree...
#6 2.275 Reading state information...
#6 2.340 The following additional packages will be installed:
#6 2.340   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.340   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.340   postgresql-client-common
#6 2.341 Suggested packages:
#6 2.341   npm postgresql-15 postgresql-doc-15
#6 2.385 The following NEW packages will be installed:
#6 2.385   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.385   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.385   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.511 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.511 Need to get 15.9 MB of archives.
#6 2.511 After this operation, 75.6 MB of additional disk space will be used.
#6 2.511 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.649 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.710 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.711 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.780 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.791 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.793 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.795 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.833 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.227 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.228 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.408 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.410 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.454 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.556 debconf: delaying package configuration, since apt-utils is not installed
#6 3.566 Fetched 15.9 MB in 1s (14.9 MB/s)
#6 3.574 Selecting previously unselected package libc-ares2:arm64.
#6 3.574 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.584 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.585 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.598 Selecting previously unselected package libuv1:arm64.
#6 3.599 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.600 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.613 Selecting previously unselected package node-xtend.
#6 3.614 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.614 Unpacking node-xtend (4.0.2-3) ...
#6 3.622 Selecting previously unselected package nodejs.
#6 3.623 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.624 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.654 Selecting previously unselected package node-acorn.
#6 3.655 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.656 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.672 Selecting previously unselected package node-cjs-module-lexer.
#6 3.673 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.675 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.683 Selecting previously unselected package node-busboy.
#6 3.684 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.685 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.696 Selecting previously unselected package node-undici.
#6 3.697 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.699 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.722 Selecting previously unselected package libnode108:arm64.
#6 3.723 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.724 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.011 Selecting previously unselected package netcat-openbsd.
#6 4.012 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.012 Unpacking netcat-openbsd (1.219-1) ...
#6 4.022 Selecting previously unselected package nodejs-doc.
#6 4.023 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.024 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.151 Selecting previously unselected package postgresql-client-common.
#6 4.152 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.153 Unpacking postgresql-client-common (248) ...
#6 4.164 Selecting previously unselected package postgresql-client-15.
#6 4.165 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.165 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.251 Selecting previously unselected package postgresql-client.
#6 4.252 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.253 Unpacking postgresql-client (15+248) ...
#6 4.266 Setting up postgresql-client-common (248) ...
#6 4.270 Setting up netcat-openbsd (1.219-1) ...
#6 4.274 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.276 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.411 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.423 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.425 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.428 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.430 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.433 Setting up node-xtend (4.0.2-3) ...
#6 4.435 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.437 Setting up postgresql-client (15+248) ...
#6 4.440 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.444 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.446 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.448 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.451 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.452 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.527 Successfully installed bundler-2.5.18
#9 1.527 1 gem installed
#9 DONE 1.5s

#10 [web 6/9] RUN gem install rails -v 7.1.4
#10 12.34 Successfully installed zeitwerk-2.6.18
#10 12.34 Successfully installed thor-1.3.2
#10 12.34 Successfully installed webrick-1.8.1
#10 12.34 Successfully installed rack-3.1.7
#10 12.34 Successfully installed rackup-2.1.0
#10 12.34 Successfully installed concurrent-ruby-1.3.4
#10 12.34 Successfully installed tzinfo-2.0.6
#10 12.34 Successfully installed i18n-1.14.5
#10 12.34 Successfully installed connection_pool-2.4.1
#10 12.34 Successfully installed activesupport-7.1.4
#10 12.34 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.34 Successfully installed crass-1.0.6
#10 12.34 Successfully installed loofah-2.22.0
#10 12.34 Successfully installed rails-html-sanitizer-1.6.0
#10 12.34 Successfully installed rails-dom-testing-2.2.0
#10 12.34 Successfully installed rack-test-2.1.0
#10 12.34 Successfully installed rack-session-2.0.0
#10 12.34 Successfully installed erubi-1.13.0
#10 12.34 Successfully installed builder-3.3.0
#10 12.34 Successfully installed actionview-7.1.4
#10 12.34 Successfully installed actionpack-7.1.4
#10 12.34 Successfully installed railties-7.1.4
#10 12.34 Successfully installed marcel-1.0.4
#10 12.34 Successfully installed activemodel-7.1.4
#10 12.34 Successfully installed activerecord-7.1.4
#10 12.34 Successfully installed globalid-1.2.1
#10 12.34 Successfully installed activejob-7.1.4
#10 12.34 Successfully installed activestorage-7.1.4
#10 12.34 Successfully installed actiontext-7.1.4
#10 12.34 Successfully installed mini_mime-1.1.5
#10 12.34 Successfully installed mail-2.8.1
#10 12.34 Successfully installed actionmailer-7.1.4
#10 12.34 Successfully installed actionmailbox-7.1.4
#10 12.34 Successfully installed websocket-extensions-0.1.5
#10 12.34 Building native extensions. This could take a while...
#10 12.46 Successfully installed websocket-driver-0.7.6
#10 12.46 Building native extensions. This could take a while...
#10 13.98 Successfully installed nio4r-2.7.3
#10 13.98 Successfully installed actioncable-7.1.4
#10 13.98 Successfully installed rails-7.1.4
#10 13.98 38 gems installed
#10 DONE 14.0s

#11 [web 7/9] COPY spina_serializer.rb ./spina_serializer.rb
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.3s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:2e8ca9642e86f5ed44b872e098056d656e220a4cfc08411d41cbb755645012ec done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 767B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 928B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.959 Reading package lists...
#6 2.179 Building dependency tree...
#6 2.234 Reading state information...
#6 2.300 The following additional packages will be installed:
#6 2.301   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.301   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.301   postgresql-client-common
#6 2.301 Suggested packages:
#6 2.301   npm postgresql-15 postgresql-doc-15
#6 2.348 The following NEW packages will be installed:
#6 2.348   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.348   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.349   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.496 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.496 Need to get 15.9 MB of archives.
#6 2.496 After this operation, 75.6 MB of additional disk space will be used.
#6 2.496 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.635 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.660 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.661 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.763 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.770 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.772 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.774 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.816 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.309 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.310 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.414 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.414 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.451 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.550 debconf: delaying package configuration, since apt-utils is not installed
#6 3.560 Fetched 15.9 MB in 1s (14.4 MB/s)
#6 3.569 Selecting previously unselected package libc-ares2:arm64.
#6 3.569 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.578 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.579 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.593 Selecting previously unselected package libuv1:arm64.
#6 3.594 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.595 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.609 Selecting previously unselected package node-xtend.
#6 3.610 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.610 Unpacking node-xtend (4.0.2-3) ...
#6 3.619 Selecting previously unselected package nodejs.
#6 3.620 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.621 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.651 Selecting previously unselected package node-acorn.
#6 3.652 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.653 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.669 Selecting previously unselected package node-cjs-module-lexer.
#6 3.670 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.671 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.680 Selecting previously unselected package node-busboy.
#6 3.681 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.681 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.692 Selecting previously unselected package node-undici.
#6 3.693 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.695 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.717 Selecting previously unselected package libnode108:arm64.
#6 3.718 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.719 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.023 Selecting previously unselected package netcat-openbsd.
#6 4.024 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.025 Unpacking netcat-openbsd (1.219-1) ...
#6 4.035 Selecting previously unselected package nodejs-doc.
#6 4.036 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.037 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.167 Selecting previously unselected package postgresql-client-common.
#6 4.168 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.169 Unpacking postgresql-client-common (248) ...
#6 4.180 Selecting previously unselected package postgresql-client-15.
#6 4.181 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.182 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.268 Selecting previously unselected package postgresql-client.
#6 4.269 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.270 Unpacking postgresql-client (15+248) ...
#6 4.283 Setting up postgresql-client-common (248) ...
#6 4.287 Setting up netcat-openbsd (1.219-1) ...
#6 4.291 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.292 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.430 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.442 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.444 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.447 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.450 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.452 Setting up node-xtend (4.0.2-3) ...
#6 4.455 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.458 Setting up postgresql-client (15+248) ...
#6 4.460 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.464 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.467 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.469 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.472 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.473 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.116 Successfully installed bundler-2.5.18
#9 1.116 1 gem installed
#9 DONE 1.1s

#10 [web 6/9] RUN gem install rails -v 7.1.4
#10 13.09 Successfully installed zeitwerk-2.6.18
#10 13.09 Successfully installed thor-1.3.2
#10 13.09 Successfully installed webrick-1.8.1
#10 13.09 Successfully installed rack-3.1.7
#10 13.09 Successfully installed rackup-2.1.0
#10 13.09 Successfully installed concurrent-ruby-1.3.4
#10 13.09 Successfully installed tzinfo-2.0.6
#10 13.09 Successfully installed i18n-1.14.5
#10 13.09 Successfully installed connection_pool-2.4.1
#10 13.09 Successfully installed activesupport-7.1.4
#10 13.09 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 13.09 Successfully installed crass-1.0.6
#10 13.09 Successfully installed loofah-2.22.0
#10 13.09 Successfully installed rails-html-sanitizer-1.6.0
#10 13.09 Successfully installed rails-dom-testing-2.2.0
#10 13.09 Successfully installed rack-test-2.1.0
#10 13.09 Successfully installed rack-session-2.0.0
#10 13.09 Successfully installed erubi-1.13.0
#10 13.09 Successfully installed builder-3.3.0
#10 13.09 Successfully installed actionview-7.1.4
#10 13.09 Successfully installed actionpack-7.1.4
#10 13.09 Successfully installed railties-7.1.4
#10 13.09 Successfully installed marcel-1.0.4
#10 13.09 Successfully installed activemodel-7.1.4
#10 13.09 Successfully installed activerecord-7.1.4
#10 13.09 Successfully installed globalid-1.2.1
#10 13.09 Successfully installed activejob-7.1.4
#10 13.09 Successfully installed activestorage-7.1.4
#10 13.09 Successfully installed actiontext-7.1.4
#10 13.09 Successfully installed mini_mime-1.1.5
#10 13.09 Successfully installed mail-2.8.1
#10 13.09 Successfully installed actionmailer-7.1.4
#10 13.09 Successfully installed actionmailbox-7.1.4
#10 13.09 Successfully installed websocket-extensions-0.1.5
#10 13.09 Building native extensions. This could take a while...
#10 13.21 Successfully installed websocket-driver-0.7.6
#10 13.21 Building native extensions. This could take a while...
#10 14.70 Successfully installed nio4r-2.7.3
#10 14.70 Successfully installed actioncable-7.1.4
#10 14.70 Successfully installed rails-7.1.4
#10 14.70 38 gems installed
#10 DONE 14.7s

#11 [web 7/9] COPY spina_serializer.rb ./spina_serializer.rb
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:86288c29b1ffb352d1de259bd4e463f74de462a659747bb685dfbf69687ffb48
#14 writing image sha256:86288c29b1ffb352d1de259bd4e463f74de462a659747bb685dfbf69687ffb48 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 767B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.3s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 918B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.938 Reading package lists...
#6 2.158 Building dependency tree...
#6 2.211 Reading state information...
#6 2.278 The following additional packages will be installed:
#6 2.278   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.278   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.278   postgresql-client-common
#6 2.279 Suggested packages:
#6 2.279   npm postgresql-15 postgresql-doc-15
#6 2.333 The following NEW packages will be installed:
#6 2.333   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.333   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.333   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.462 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.462 Need to get 15.9 MB of archives.
#6 2.462 After this operation, 75.6 MB of additional disk space will be used.
#6 2.462 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.603 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.628 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.628 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.724 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.769 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.770 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.770 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.772 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.220 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.220 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.317 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.318 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.379 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.494 debconf: delaying package configuration, since apt-utils is not installed
#6 3.504 Fetched 15.9 MB in 1s (15.2 MB/s)
#6 3.513 Selecting previously unselected package libc-ares2:arm64.
#6 3.513 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.522 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.524 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.538 Selecting previously unselected package libuv1:arm64.
#6 3.539 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.539 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.552 Selecting previously unselected package node-xtend.
#6 3.553 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.554 Unpacking node-xtend (4.0.2-3) ...
#6 3.562 Selecting previously unselected package nodejs.
#6 3.563 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.564 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.593 Selecting previously unselected package node-acorn.
#6 3.594 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.595 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.611 Selecting previously unselected package node-cjs-module-lexer.
#6 3.612 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.613 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.621 Selecting previously unselected package node-busboy.
#6 3.622 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.623 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.633 Selecting previously unselected package node-undici.
#6 3.634 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.636 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.658 Selecting previously unselected package libnode108:arm64.
#6 3.660 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.661 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.953 Selecting previously unselected package netcat-openbsd.
#6 3.954 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.955 Unpacking netcat-openbsd (1.219-1) ...
#6 3.964 Selecting previously unselected package nodejs-doc.
#6 3.965 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.966 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.096 Selecting previously unselected package postgresql-client-common.
#6 4.097 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.098 Unpacking postgresql-client-common (248) ...
#6 4.109 Selecting previously unselected package postgresql-client-15.
#6 4.110 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.111 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.196 Selecting previously unselected package postgresql-client.
#6 4.197 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.198 Unpacking postgresql-client (15+248) ...
#6 4.210 Setting up postgresql-client-common (248) ...
#6 4.214 Setting up netcat-openbsd (1.219-1) ...
#6 4.218 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.219 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.356 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.369 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.371 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.374 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.376 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.378 Setting up node-xtend (4.0.2-3) ...
#6 4.381 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.384 Setting up postgresql-client (15+248) ...
#6 4.386 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.390 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.393 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.395 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.398 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.399 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.419 Successfully installed bundler-2.5.18
#9 1.419 1 gem installed
#9 DONE 1.4s

#10 [web 6/9] RUN gem install rails -v 7.1.4
#10 12.82 Successfully installed zeitwerk-2.6.18
#10 12.82 Successfully installed thor-1.3.2
#10 12.82 Successfully installed webrick-1.8.1
#10 12.82 Successfully installed rack-3.1.7
#10 12.82 Successfully installed rackup-2.1.0
#10 12.82 Successfully installed concurrent-ruby-1.3.4
#10 12.82 Successfully installed tzinfo-2.0.6
#10 12.82 Successfully installed i18n-1.14.5
#10 12.82 Successfully installed connection_pool-2.4.1
#10 12.82 Successfully installed activesupport-7.1.4
#10 12.82 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.82 Successfully installed crass-1.0.6
#10 12.82 Successfully installed loofah-2.22.0
#10 12.82 Successfully installed rails-html-sanitizer-1.6.0
#10 12.82 Successfully installed rails-dom-testing-2.2.0
#10 12.82 Successfully installed rack-test-2.1.0
#10 12.82 Successfully installed rack-session-2.0.0
#10 12.82 Successfully installed erubi-1.13.0
#10 12.82 Successfully installed builder-3.3.0
#10 12.82 Successfully installed actionview-7.1.4
#10 12.82 Successfully installed actionpack-7.1.4
#10 12.82 Successfully installed railties-7.1.4
#10 12.82 Successfully installed marcel-1.0.4
#10 12.82 Successfully installed activemodel-7.1.4
#10 12.82 Successfully installed activerecord-7.1.4
#10 12.82 Successfully installed globalid-1.2.1
#10 12.82 Successfully installed activejob-7.1.4
#10 12.82 Successfully installed activestorage-7.1.4
#10 12.82 Successfully installed actiontext-7.1.4
#10 12.82 Successfully installed mini_mime-1.1.5
#10 12.82 Successfully installed mail-2.8.1
#10 12.82 Successfully installed actionmailer-7.1.4
#10 12.82 Successfully installed actionmailbox-7.1.4
#10 12.82 Successfully installed websocket-extensions-0.1.5
#10 12.82 Building native extensions. This could take a while...
#10 12.93 Successfully installed websocket-driver-0.7.6
#10 12.93 Building native extensions. This could take a while...
#10 14.47 Successfully installed nio4r-2.7.3
#10 14.47 Successfully installed actioncable-7.1.4
#10 14.47 Successfully installed rails-7.1.4
#10 14.47 38 gems installed
#10 DONE 14.5s

#11 [web 7/9] COPY spina_serializer.rb ./spina_serializer.rb
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.1s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:a2b66d9abe6e78d8a620a297ba7ee98b7d546f473d7428a8b9e2c4f2f0c6629b
#14 writing image sha256:a2b66d9abe6e78d8a620a297ba7ee98b7d546f473d7428a8b9e2c4f2f0c6629b done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 767B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.24kB done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 CANCELED
canceled
Build failed. Check run.log for details.
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 767B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 97B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.006 Reading package lists...
#6 2.216 Building dependency tree...
#6 2.269 Reading state information...
#6 2.333 The following additional packages will be installed:
#6 2.333   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.333   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.334   postgresql-client-common
#6 2.334 Suggested packages:
#6 2.334   npm postgresql-15 postgresql-doc-15
#6 2.379 The following NEW packages will be installed:
#6 2.379   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.379   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.379   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.510 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.510 Need to get 15.9 MB of archives.
#6 2.510 After this operation, 75.6 MB of additional disk space will be used.
#6 2.510 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.651 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.677 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.677 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.779 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.786 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.789 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.791 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.833 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.382 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.383 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.499 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.502 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.739 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.839 debconf: delaying package configuration, since apt-utils is not installed
#6 3.849 Fetched 15.9 MB in 1s (11.7 MB/s)
#6 3.857 Selecting previously unselected package libc-ares2:arm64.
#6 3.857 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.866 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.868 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.881 Selecting previously unselected package libuv1:arm64.
#6 3.881 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.883 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.896 Selecting previously unselected package node-xtend.
#6 3.897 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.898 Unpacking node-xtend (4.0.2-3) ...
#6 3.905 Selecting previously unselected package nodejs.
#6 3.906 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.907 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.936 Selecting previously unselected package node-acorn.
#6 3.937 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.938 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.954 Selecting previously unselected package node-cjs-module-lexer.
#6 3.955 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.955 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.965 Selecting previously unselected package node-busboy.
#6 3.966 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.967 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.976 Selecting previously unselected package node-undici.
#6 3.977 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.980 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.001 Selecting previously unselected package libnode108:arm64.
#6 4.002 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.003 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.297 Selecting previously unselected package netcat-openbsd.
#6 4.298 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.299 Unpacking netcat-openbsd (1.219-1) ...
#6 4.310 Selecting previously unselected package nodejs-doc.
#6 4.311 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.312 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.438 Selecting previously unselected package postgresql-client-common.
#6 4.439 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.440 Unpacking postgresql-client-common (248) ...
#6 4.450 Selecting previously unselected package postgresql-client-15.
#6 4.451 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.452 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.536 Selecting previously unselected package postgresql-client.
#6 4.537 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.538 Unpacking postgresql-client (15+248) ...
#6 4.550 Setting up postgresql-client-common (248) ...
#6 4.554 Setting up netcat-openbsd (1.219-1) ...
#6 4.558 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.559 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.696 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.709 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.711 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.714 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.716 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.718 Setting up node-xtend (4.0.2-3) ...
#6 4.720 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.722 Setting up postgresql-client (15+248) ...
#6 4.724 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.728 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.731 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.733 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.735 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.737 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.393 Successfully installed bundler-2.5.18
#9 1.393 1 gem installed
#9 DONE 1.4s

#10 [web 6/9] RUN gem install rails -v 7.1.0
#10 12.46 Successfully installed zeitwerk-2.6.18
#10 12.46 Successfully installed thor-1.3.2
#10 12.46 Successfully installed webrick-1.8.1
#10 12.46 Successfully installed rack-3.1.7
#10 12.46 Successfully installed rackup-2.1.0
#10 12.46 Successfully installed concurrent-ruby-1.3.4
#10 12.46 Successfully installed tzinfo-2.0.6
#10 12.46 Successfully installed i18n-1.14.5
#10 12.46 Successfully installed connection_pool-2.4.1
#10 12.46 Successfully installed activesupport-7.1.0
#10 12.46 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.46 Successfully installed crass-1.0.6
#10 12.46 Successfully installed loofah-2.22.0
#10 12.46 Successfully installed rails-html-sanitizer-1.6.0
#10 12.46 Successfully installed rails-dom-testing-2.2.0
#10 12.46 Successfully installed rack-test-2.1.0
#10 12.46 Successfully installed rack-session-2.0.0
#10 12.46 Successfully installed erubi-1.13.0
#10 12.46 Successfully installed builder-3.3.0
#10 12.46 Successfully installed actionview-7.1.0
#10 12.46 Successfully installed actionpack-7.1.0
#10 12.46 Successfully installed railties-7.1.0
#10 12.46 Successfully installed marcel-1.0.4
#10 12.46 Successfully installed activemodel-7.1.0
#10 12.46 Successfully installed activerecord-7.1.0
#10 12.46 Successfully installed globalid-1.2.1
#10 12.46 Successfully installed activejob-7.1.0
#10 12.46 Successfully installed activestorage-7.1.0
#10 12.46 Successfully installed actiontext-7.1.0
#10 12.46 Successfully installed mini_mime-1.1.5
#10 12.46 Successfully installed mail-2.8.1
#10 12.46 Successfully installed actionmailer-7.1.0
#10 12.46 Successfully installed actionmailbox-7.1.0
#10 12.46 Successfully installed websocket-extensions-0.1.5
#10 12.46 Building native extensions. This could take a while...
#10 12.58 Successfully installed websocket-driver-0.7.6
#10 12.58 Building native extensions. This could take a while...
#10 14.10 Successfully installed nio4r-2.7.3
#10 14.10 Successfully installed actioncable-7.1.0
#10 14.10 Successfully installed rails-7.1.0
#10 14.10 38 gems installed
#10 DONE 14.1s

#11 [web 7/9] COPY spina_serializer.rb ./spina_serializer.rb
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:8979641ec39e4dc322bf4cce8a43daeb3e778c6006cc436076329abf86af15bf
#14 writing image sha256:8979641ec39e4dc322bf4cce8a43daeb3e778c6006cc436076329abf86af15bf done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 743B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 3.74kB done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.985 Reading package lists...
#6 2.194 Building dependency tree...
#6 2.248 Reading state information...
#6 2.314 The following additional packages will be installed:
#6 2.314   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.314   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.314   postgresql-client-common
#6 2.315 Suggested packages:
#6 2.315   npm postgresql-15 postgresql-doc-15
#6 2.359 The following NEW packages will be installed:
#6 2.359   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.359   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.359   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.484 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.484 Need to get 15.9 MB of archives.
#6 2.484 After this operation, 75.6 MB of additional disk space will be used.
#6 2.484 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.625 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.652 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.652 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.753 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.759 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.765 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.765 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.806 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.317 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.318 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.451 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.452 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.514 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.628 debconf: delaying package configuration, since apt-utils is not installed
#6 3.638 Fetched 15.9 MB in 1s (13.8 MB/s)
#6 3.648 Selecting previously unselected package libc-ares2:arm64.
#6 3.648 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.657 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.659 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.671 Selecting previously unselected package libuv1:arm64.
#6 3.672 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.673 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.686 Selecting previously unselected package node-xtend.
#6 3.687 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.688 Unpacking node-xtend (4.0.2-3) ...
#6 3.696 Selecting previously unselected package nodejs.
#6 3.697 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.698 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.728 Selecting previously unselected package node-acorn.
#6 3.729 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.730 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.746 Selecting previously unselected package node-cjs-module-lexer.
#6 3.747 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.748 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.756 Selecting previously unselected package node-busboy.
#6 3.757 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.758 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.769 Selecting previously unselected package node-undici.
#6 3.769 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.772 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.795 Selecting previously unselected package libnode108:arm64.
#6 3.796 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.797 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.091 Selecting previously unselected package netcat-openbsd.
#6 4.092 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.093 Unpacking netcat-openbsd (1.219-1) ...
#6 4.102 Selecting previously unselected package nodejs-doc.
#6 4.103 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.104 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.231 Selecting previously unselected package postgresql-client-common.
#6 4.232 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.233 Unpacking postgresql-client-common (248) ...
#6 4.243 Selecting previously unselected package postgresql-client-15.
#6 4.244 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.245 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.331 Selecting previously unselected package postgresql-client.
#6 4.332 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.333 Unpacking postgresql-client (15+248) ...
#6 4.345 Setting up postgresql-client-common (248) ...
#6 4.350 Setting up netcat-openbsd (1.219-1) ...
#6 4.354 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.355 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.492 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.504 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.506 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.509 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.511 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.513 Setting up node-xtend (4.0.2-3) ...
#6 4.515 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.518 Setting up postgresql-client (15+248) ...
#6 4.520 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.524 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.526 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.529 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.531 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.533 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.431 Successfully installed bundler-2.5.18
#9 1.431 1 gem installed
#9 DONE 1.4s

#10 [web 6/9] RUN gem install rails -v 7.1.0
#10 15.56 Successfully installed zeitwerk-2.6.18
#10 15.56 Successfully installed thor-1.3.2
#10 15.56 Successfully installed webrick-1.8.1
#10 15.56 Successfully installed rack-3.1.7
#10 15.56 Successfully installed rackup-2.1.0
#10 15.56 Successfully installed concurrent-ruby-1.3.4
#10 15.56 Successfully installed tzinfo-2.0.6
#10 15.56 Successfully installed i18n-1.14.5
#10 15.56 Successfully installed connection_pool-2.4.1
#10 15.56 Successfully installed activesupport-7.1.0
#10 15.56 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 15.56 Successfully installed crass-1.0.6
#10 15.56 Successfully installed loofah-2.22.0
#10 15.56 Successfully installed rails-html-sanitizer-1.6.0
#10 15.56 Successfully installed rails-dom-testing-2.2.0
#10 15.56 Successfully installed rack-test-2.1.0
#10 15.56 Successfully installed rack-session-2.0.0
#10 15.56 Successfully installed erubi-1.13.0
#10 15.56 Successfully installed builder-3.3.0
#10 15.56 Successfully installed actionview-7.1.0
#10 15.56 Successfully installed actionpack-7.1.0
#10 15.56 Successfully installed railties-7.1.0
#10 15.56 Successfully installed marcel-1.0.4
#10 15.56 Successfully installed activemodel-7.1.0
#10 15.56 Successfully installed activerecord-7.1.0
#10 15.56 Successfully installed globalid-1.2.1
#10 15.56 Successfully installed activejob-7.1.0
#10 15.56 Successfully installed activestorage-7.1.0
#10 15.56 Successfully installed actiontext-7.1.0
#10 15.56 Successfully installed mini_mime-1.1.5
#10 15.56 Successfully installed mail-2.8.1
#10 15.56 Successfully installed actionmailer-7.1.0
#10 15.56 Successfully installed actionmailbox-7.1.0
#10 15.56 Successfully installed websocket-extensions-0.1.5
#10 15.56 Building native extensions. This could take a while...
#10 15.68 Successfully installed websocket-driver-0.7.6
#10 15.68 Building native extensions. This could take a while...
#10 17.17 Successfully installed nio4r-2.7.3
#10 17.17 Successfully installed actioncable-7.1.0
#10 17.17 Successfully installed rails-7.1.0
#10 17.17 38 gems installed
#10 DONE 17.2s

#11 [web 7/9] COPY assets/api ./api/
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:c71dde5a28d21223b37ae813e73f7725d5e3f245d16e2949f932c0063b596830
#14 writing image sha256:c71dde5a28d21223b37ae813e73f7725d5e3f245d16e2949f932c0063b596830 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 743B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.19kB done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 4.244 Reading package lists...
#6 4.452 Building dependency tree...
#6 4.505 Reading state information...
#6 4.569 The following additional packages will be installed:
#6 4.569   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 4.569   node-undici node-xtend nodejs-doc postgresql-client-15
#6 4.569   postgresql-client-common
#6 4.569 Suggested packages:
#6 4.569   npm postgresql-15 postgresql-doc-15
#6 4.612 The following NEW packages will be installed:
#6 4.612   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 4.612   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 4.613   postgresql-client postgresql-client-15 postgresql-client-common
#6 4.745 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 4.745 Need to get 15.9 MB of archives.
#6 4.745 After this operation, 75.6 MB of additional disk space will be used.
#6 4.745 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 4.892 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 4.954 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 4.956 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 5.044 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 5.075 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 5.081 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 5.083 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 5.138 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 7.802 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 7.804 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 8.930 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 8.952 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 9.470 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 9.581 debconf: delaying package configuration, since apt-utils is not installed
#6 9.591 Fetched 15.9 MB in 5s (3267 kB/s)
#6 9.600 Selecting previously unselected package libc-ares2:arm64.
#6 9.600 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 9.609 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 9.610 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 9.623 Selecting previously unselected package libuv1:arm64.
#6 9.624 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 9.625 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 9.638 Selecting previously unselected package node-xtend.
#6 9.639 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 9.640 Unpacking node-xtend (4.0.2-3) ...
#6 9.648 Selecting previously unselected package nodejs.
#6 9.648 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 9.649 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 9.680 Selecting previously unselected package node-acorn.
#6 9.681 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 9.682 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 9.698 Selecting previously unselected package node-cjs-module-lexer.
#6 9.699 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 9.700 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 9.708 Selecting previously unselected package node-busboy.
#6 9.709 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 9.710 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 9.720 Selecting previously unselected package node-undici.
#6 9.721 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 9.724 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 9.746 Selecting previously unselected package libnode108:arm64.
#6 9.747 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 9.748 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 10.04 Selecting previously unselected package netcat-openbsd.
#6 10.04 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 10.04 Unpacking netcat-openbsd (1.219-1) ...
#6 10.05 Selecting previously unselected package nodejs-doc.
#6 10.05 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 10.05 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 10.17 Selecting previously unselected package postgresql-client-common.
#6 10.18 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 10.18 Unpacking postgresql-client-common (248) ...
#6 10.19 Selecting previously unselected package postgresql-client-15.
#6 10.19 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 10.19 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 10.27 Selecting previously unselected package postgresql-client.
#6 10.27 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 10.27 Unpacking postgresql-client (15+248) ...
#6 10.29 Setting up postgresql-client-common (248) ...
#6 10.29 Setting up netcat-openbsd (1.219-1) ...
#6 10.29 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 10.29 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 10.43 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 10.44 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 10.44 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 10.45 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 10.45 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 10.45 Setting up node-xtend (4.0.2-3) ...
#6 10.45 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 10.45 Setting up postgresql-client (15+248) ...
#6 10.46 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 10.46 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 10.46 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 10.47 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 10.47 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 10.47 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 10.5s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.464 Successfully installed bundler-2.5.18
#9 1.464 1 gem installed
#9 DONE 1.5s

#10 [web 6/9] RUN gem install rails -v 7.1.0
#10 14.53 Successfully installed zeitwerk-2.6.18
#10 14.53 Successfully installed thor-1.3.2
#10 14.53 Successfully installed webrick-1.8.1
#10 14.53 Successfully installed rack-3.1.7
#10 14.53 Successfully installed rackup-2.1.0
#10 14.53 Successfully installed concurrent-ruby-1.3.4
#10 14.53 Successfully installed tzinfo-2.0.6
#10 14.53 Successfully installed i18n-1.14.5
#10 14.53 Successfully installed connection_pool-2.4.1
#10 14.53 Successfully installed activesupport-7.1.0
#10 14.53 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 14.53 Successfully installed crass-1.0.6
#10 14.53 Successfully installed loofah-2.22.0
#10 14.53 Successfully installed rails-html-sanitizer-1.6.0
#10 14.53 Successfully installed rails-dom-testing-2.2.0
#10 14.53 Successfully installed rack-test-2.1.0
#10 14.53 Successfully installed rack-session-2.0.0
#10 14.53 Successfully installed erubi-1.13.0
#10 14.53 Successfully installed builder-3.3.0
#10 14.53 Successfully installed actionview-7.1.0
#10 14.53 Successfully installed actionpack-7.1.0
#10 14.53 Successfully installed railties-7.1.0
#10 14.53 Successfully installed marcel-1.0.4
#10 14.53 Successfully installed activemodel-7.1.0
#10 14.53 Successfully installed activerecord-7.1.0
#10 14.53 Successfully installed globalid-1.2.1
#10 14.53 Successfully installed activejob-7.1.0
#10 14.53 Successfully installed activestorage-7.1.0
#10 14.53 Successfully installed actiontext-7.1.0
#10 14.53 Successfully installed mini_mime-1.1.5
#10 14.53 Successfully installed mail-2.8.1
#10 14.53 Successfully installed actionmailer-7.1.0
#10 14.53 Successfully installed actionmailbox-7.1.0
#10 14.53 Successfully installed websocket-extensions-0.1.5
#10 14.53 Building native extensions. This could take a while...
#10 14.64 Successfully installed websocket-driver-0.7.6
#10 14.64 Building native extensions. This could take a while...
#10 16.14 Successfully installed nio4r-2.7.3
#10 16.14 Successfully installed actioncable-7.1.0
#10 16.14 Successfully installed rails-7.1.0
#10 16.14 38 gems installed
#10 DONE 16.2s

#11 [web 7/9] COPY assets/api ./api/
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:5df4e4aca1f937a9dfa4ae17ba599105c006c2eb6d212d6e7aeee4b311ef35c0
#14 writing image sha256:5df4e4aca1f937a9dfa4ae17ba599105c006c2eb6d212d6e7aeee4b311ef35c0 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 743B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.23kB done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 3.555 Reading package lists...
#6 3.759 Building dependency tree...
#6 3.814 Reading state information...
#6 3.879 The following additional packages will be installed:
#6 3.879   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 3.879   node-undici node-xtend nodejs-doc postgresql-client-15
#6 3.879   postgresql-client-common
#6 3.879 Suggested packages:
#6 3.879   npm postgresql-15 postgresql-doc-15
#6 3.923 The following NEW packages will be installed:
#6 3.923   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 3.923   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 3.923   postgresql-client postgresql-client-15 postgresql-client-common
#6 4.061 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 4.061 Need to get 15.9 MB of archives.
#6 4.061 After this operation, 75.6 MB of additional disk space will be used.
#6 4.061 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 4.235 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 4.268 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 4.272 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 4.380 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 4.404 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 4.415 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 4.418 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 4.502 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 7.037 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 7.039 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 7.796 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 7.796 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 8.106 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 8.214 debconf: delaying package configuration, since apt-utils is not installed
#6 8.224 Fetched 15.9 MB in 4s (3795 kB/s)
#6 8.233 Selecting previously unselected package libc-ares2:arm64.
#6 8.233 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 8.242 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 8.243 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 8.256 Selecting previously unselected package libuv1:arm64.
#6 8.257 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 8.257 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 8.269 Selecting previously unselected package node-xtend.
#6 8.270 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 8.271 Unpacking node-xtend (4.0.2-3) ...
#6 8.279 Selecting previously unselected package nodejs.
#6 8.280 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 8.281 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 8.311 Selecting previously unselected package node-acorn.
#6 8.312 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 8.313 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 8.329 Selecting previously unselected package node-cjs-module-lexer.
#6 8.330 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 8.331 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 8.339 Selecting previously unselected package node-busboy.
#6 8.340 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 8.341 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 8.351 Selecting previously unselected package node-undici.
#6 8.351 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 8.354 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 8.375 Selecting previously unselected package libnode108:arm64.
#6 8.376 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 8.377 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 8.663 Selecting previously unselected package netcat-openbsd.
#6 8.664 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 8.666 Unpacking netcat-openbsd (1.219-1) ...
#6 8.675 Selecting previously unselected package nodejs-doc.
#6 8.676 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 8.676 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 8.806 Selecting previously unselected package postgresql-client-common.
#6 8.807 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 8.808 Unpacking postgresql-client-common (248) ...
#6 8.818 Selecting previously unselected package postgresql-client-15.
#6 8.819 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 8.820 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 8.905 Selecting previously unselected package postgresql-client.
#6 8.906 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 8.907 Unpacking postgresql-client (15+248) ...
#6 8.919 Setting up postgresql-client-common (248) ...
#6 8.923 Setting up netcat-openbsd (1.219-1) ...
#6 8.926 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 8.928 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 9.063 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 9.075 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 9.078 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 9.080 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 9.082 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 9.084 Setting up node-xtend (4.0.2-3) ...
#6 9.087 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 9.089 Setting up postgresql-client (15+248) ...
#6 9.091 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 9.095 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 9.098 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 9.100 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 9.103 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 9.104 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 9.2s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] RUN gem install bundler
#9 1.489 Successfully installed bundler-2.5.18
#9 1.489 1 gem installed
#9 DONE 1.5s

#10 [web 6/9] RUN gem install rails -v 7.1.0
#10 14.18 Successfully installed zeitwerk-2.6.18
#10 14.18 Successfully installed thor-1.3.2
#10 14.18 Successfully installed webrick-1.8.1
#10 14.18 Successfully installed rack-3.1.7
#10 14.18 Successfully installed rackup-2.1.0
#10 14.18 Successfully installed concurrent-ruby-1.3.4
#10 14.18 Successfully installed tzinfo-2.0.6
#10 14.18 Successfully installed i18n-1.14.5
#10 14.18 Successfully installed connection_pool-2.4.1
#10 14.18 Successfully installed activesupport-7.1.0
#10 14.18 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 14.18 Successfully installed crass-1.0.6
#10 14.18 Successfully installed loofah-2.22.0
#10 14.18 Successfully installed rails-html-sanitizer-1.6.0
#10 14.18 Successfully installed rails-dom-testing-2.2.0
#10 14.18 Successfully installed rack-test-2.1.0
#10 14.18 Successfully installed rack-session-2.0.0
#10 14.18 Successfully installed erubi-1.13.0
#10 14.18 Successfully installed builder-3.3.0
#10 14.18 Successfully installed actionview-7.1.0
#10 14.18 Successfully installed actionpack-7.1.0
#10 14.18 Successfully installed railties-7.1.0
#10 14.18 Successfully installed marcel-1.0.4
#10 14.18 Successfully installed activemodel-7.1.0
#10 14.18 Successfully installed activerecord-7.1.0
#10 14.18 Successfully installed globalid-1.2.1
#10 14.18 Successfully installed activejob-7.1.0
#10 14.18 Successfully installed activestorage-7.1.0
#10 14.18 Successfully installed actiontext-7.1.0
#10 14.18 Successfully installed mini_mime-1.1.5
#10 14.18 Successfully installed mail-2.8.1
#10 14.18 Successfully installed actionmailer-7.1.0
#10 14.18 Successfully installed actionmailbox-7.1.0
#10 14.18 Successfully installed websocket-extensions-0.1.5
#10 14.18 Building native extensions. This could take a while...
#10 14.30 Successfully installed websocket-driver-0.7.6
#10 14.30 Building native extensions. This could take a while...
#10 15.81 Successfully installed nio4r-2.7.3
#10 15.81 Successfully installed actioncable-7.1.0
#10 15.81 Successfully installed rails-7.1.0
#10 15.81 38 gems installed
#10 DONE 15.8s

#11 [web 7/9] COPY assets/api ./api/
#11 DONE 0.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.1s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:7edf12e89b85fdc9ba7dbdf28cd1287368c9691db816c050580901e970d620b0
#14 writing image sha256:7edf12e89b85fdc9ba7dbdf28cd1287368c9691db816c050580901e970d620b0 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 719B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 850B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.073 Reading package lists...
#6 2.291 Building dependency tree...
#6 2.345 Reading state information...
#6 2.411 The following additional packages will be installed:
#6 2.411   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.411   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.411   postgresql-client-common
#6 2.412 Suggested packages:
#6 2.412   npm postgresql-15 postgresql-doc-15
#6 2.461 The following NEW packages will be installed:
#6 2.461   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.461   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.461   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.601 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.601 Need to get 15.9 MB of archives.
#6 2.601 After this operation, 75.6 MB of additional disk space will be used.
#6 2.601 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.745 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.772 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.773 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.880 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.882 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.884 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.885 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.927 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.486 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.487 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.539 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.540 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.576 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.677 debconf: delaying package configuration, since apt-utils is not installed
#6 3.687 Fetched 15.9 MB in 1s (14.3 MB/s)
#6 3.697 Selecting previously unselected package libc-ares2:arm64.
#6 3.697 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.706 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.708 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.721 Selecting previously unselected package libuv1:arm64.
#6 3.722 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.723 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.736 Selecting previously unselected package node-xtend.
#6 3.737 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.738 Unpacking node-xtend (4.0.2-3) ...
#6 3.746 Selecting previously unselected package nodejs.
#6 3.747 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.748 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.777 Selecting previously unselected package node-acorn.
#6 3.778 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.779 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.795 Selecting previously unselected package node-cjs-module-lexer.
#6 3.796 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.797 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.806 Selecting previously unselected package node-busboy.
#6 3.807 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.808 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.818 Selecting previously unselected package node-undici.
#6 3.819 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.821 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.843 Selecting previously unselected package libnode108:arm64.
#6 3.844 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.845 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.134 Selecting previously unselected package netcat-openbsd.
#6 4.135 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.136 Unpacking netcat-openbsd (1.219-1) ...
#6 4.146 Selecting previously unselected package nodejs-doc.
#6 4.147 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.148 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.277 Selecting previously unselected package postgresql-client-common.
#6 4.278 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.279 Unpacking postgresql-client-common (248) ...
#6 4.290 Selecting previously unselected package postgresql-client-15.
#6 4.291 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.292 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.377 Selecting previously unselected package postgresql-client.
#6 4.378 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.379 Unpacking postgresql-client (15+248) ...
#6 4.390 Setting up postgresql-client-common (248) ...
#6 4.396 Setting up netcat-openbsd (1.219-1) ...
#6 4.400 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.401 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.537 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.549 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.552 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.555 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.557 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.560 Setting up node-xtend (4.0.2-3) ...
#6 4.562 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.564 Setting up postgresql-client (15+248) ...
#6 4.567 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.571 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.573 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.575 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.578 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.580 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] RUN gem install bundler
#9 1.573 Successfully installed bundler-2.5.18
#9 1.573 1 gem installed
#9 DONE 1.6s

#10 [web 6/8] RUN gem install rails -v 7.1.0
#10 12.20 Successfully installed zeitwerk-2.6.18
#10 12.20 Successfully installed thor-1.3.2
#10 12.20 Successfully installed webrick-1.8.1
#10 12.20 Successfully installed rack-3.1.7
#10 12.20 Successfully installed rackup-2.1.0
#10 12.20 Successfully installed concurrent-ruby-1.3.4
#10 12.20 Successfully installed tzinfo-2.0.6
#10 12.20 Successfully installed i18n-1.14.5
#10 12.20 Successfully installed connection_pool-2.4.1
#10 12.20 Successfully installed activesupport-7.1.0
#10 12.20 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.20 Successfully installed crass-1.0.6
#10 12.20 Successfully installed loofah-2.22.0
#10 12.20 Successfully installed rails-html-sanitizer-1.6.0
#10 12.20 Successfully installed rails-dom-testing-2.2.0
#10 12.20 Successfully installed rack-test-2.1.0
#10 12.20 Successfully installed rack-session-2.0.0
#10 12.20 Successfully installed erubi-1.13.0
#10 12.20 Successfully installed builder-3.3.0
#10 12.20 Successfully installed actionview-7.1.0
#10 12.20 Successfully installed actionpack-7.1.0
#10 12.20 Successfully installed railties-7.1.0
#10 12.20 Successfully installed marcel-1.0.4
#10 12.20 Successfully installed activemodel-7.1.0
#10 12.20 Successfully installed activerecord-7.1.0
#10 12.20 Successfully installed globalid-1.2.1
#10 12.20 Successfully installed activejob-7.1.0
#10 12.20 Successfully installed activestorage-7.1.0
#10 12.20 Successfully installed actiontext-7.1.0
#10 12.20 Successfully installed mini_mime-1.1.5
#10 12.20 Successfully installed mail-2.8.1
#10 12.20 Successfully installed actionmailer-7.1.0
#10 12.20 Successfully installed actionmailbox-7.1.0
#10 12.20 Successfully installed websocket-extensions-0.1.5
#10 12.20 Building native extensions. This could take a while...
#10 12.32 Successfully installed websocket-driver-0.7.6
#10 12.32 Building native extensions. This could take a while...
#10 13.81 Successfully installed nio4r-2.7.3
#10 13.81 Successfully installed actioncable-7.1.0
#10 13.81 Successfully installed rails-7.1.0
#10 13.81 38 gems installed
#10 DONE 13.8s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:0b339fc876549bb3365b2ec26aa1c6e7cbfca04a108a4b8a702f947d8ef23ada done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 719B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/8] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 760B done
#5 DONE 0.0s

#6 [web 2/8] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.047 Reading package lists...
#6 2.274 Building dependency tree...
#6 2.333 Reading state information...
#6 2.402 The following additional packages will be installed:
#6 2.403   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.403   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.403   postgresql-client-common
#6 2.403 Suggested packages:
#6 2.403   npm postgresql-15 postgresql-doc-15
#6 2.451 The following NEW packages will be installed:
#6 2.451   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.451   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.452   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.591 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.591 Need to get 15.9 MB of archives.
#6 2.591 After this operation, 75.6 MB of additional disk space will be used.
#6 2.591 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.733 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.792 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.793 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.859 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.870 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.873 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.875 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.912 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.427 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.427 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.491 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.497 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.663 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.777 debconf: delaying package configuration, since apt-utils is not installed
#6 3.788 Fetched 15.9 MB in 1s (13.1 MB/s)
#6 3.796 Selecting previously unselected package libc-ares2:arm64.
#6 3.796 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.805 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.807 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.820 Selecting previously unselected package libuv1:arm64.
#6 3.821 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.822 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.835 Selecting previously unselected package node-xtend.
#6 3.835 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.836 Unpacking node-xtend (4.0.2-3) ...
#6 3.844 Selecting previously unselected package nodejs.
#6 3.845 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.846 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.877 Selecting previously unselected package node-acorn.
#6 3.878 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.879 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.895 Selecting previously unselected package node-cjs-module-lexer.
#6 3.896 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.897 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.906 Selecting previously unselected package node-busboy.
#6 3.906 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.908 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.918 Selecting previously unselected package node-undici.
#6 3.919 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.921 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.943 Selecting previously unselected package libnode108:arm64.
#6 3.944 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.945 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.241 Selecting previously unselected package netcat-openbsd.
#6 4.242 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.242 Unpacking netcat-openbsd (1.219-1) ...
#6 4.253 Selecting previously unselected package nodejs-doc.
#6 4.254 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.255 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.390 Selecting previously unselected package postgresql-client-common.
#6 4.398 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.402 Unpacking postgresql-client-common (248) ...
#6 4.423 Selecting previously unselected package postgresql-client-15.
#6 4.424 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.425 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.514 Selecting previously unselected package postgresql-client.
#6 4.515 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.515 Unpacking postgresql-client (15+248) ...
#6 4.528 Setting up postgresql-client-common (248) ...
#6 4.532 Setting up netcat-openbsd (1.219-1) ...
#6 4.536 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.538 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.681 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.693 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.695 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.698 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.700 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.703 Setting up node-xtend (4.0.2-3) ...
#6 4.705 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.707 Setting up postgresql-client (15+248) ...
#6 4.709 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.713 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.716 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.718 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.721 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.723 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web 3/8] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/8] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/8] RUN gem install bundler
#9 1.535 Successfully installed bundler-2.5.18
#9 1.535 1 gem installed
#9 DONE 1.5s

#10 [web 6/8] RUN gem install rails -v 7.1.0
#10 12.18 Successfully installed zeitwerk-2.6.18
#10 12.18 Successfully installed thor-1.3.2
#10 12.18 Successfully installed webrick-1.8.1
#10 12.18 Successfully installed rack-3.1.7
#10 12.18 Successfully installed rackup-2.1.0
#10 12.18 Successfully installed concurrent-ruby-1.3.4
#10 12.18 Successfully installed tzinfo-2.0.6
#10 12.18 Successfully installed i18n-1.14.5
#10 12.18 Successfully installed connection_pool-2.4.1
#10 12.18 Successfully installed activesupport-7.1.0
#10 12.18 Successfully installed nokogiri-1.16.7-aarch64-linux
#10 12.18 Successfully installed crass-1.0.6
#10 12.18 Successfully installed loofah-2.22.0
#10 12.18 Successfully installed rails-html-sanitizer-1.6.0
#10 12.18 Successfully installed rails-dom-testing-2.2.0
#10 12.18 Successfully installed rack-test-2.1.0
#10 12.18 Successfully installed rack-session-2.0.0
#10 12.18 Successfully installed erubi-1.13.0
#10 12.18 Successfully installed builder-3.3.0
#10 12.18 Successfully installed actionview-7.1.0
#10 12.18 Successfully installed actionpack-7.1.0
#10 12.18 Successfully installed railties-7.1.0
#10 12.18 Successfully installed marcel-1.0.4
#10 12.18 Successfully installed activemodel-7.1.0
#10 12.18 Successfully installed activerecord-7.1.0
#10 12.18 Successfully installed globalid-1.2.1
#10 12.18 Successfully installed activejob-7.1.0
#10 12.18 Successfully installed activestorage-7.1.0
#10 12.18 Successfully installed actiontext-7.1.0
#10 12.18 Successfully installed mini_mime-1.1.5
#10 12.18 Successfully installed mail-2.8.1
#10 12.18 Successfully installed actionmailer-7.1.0
#10 12.18 Successfully installed actionmailbox-7.1.0
#10 12.18 Successfully installed websocket-extensions-0.1.5
#10 12.18 Building native extensions. This could take a while...
#10 12.30 Successfully installed websocket-driver-0.7.6
#10 12.30 Building native extensions. This could take a while...
#10 13.89 Successfully installed nio4r-2.7.3
#10 13.89 Successfully installed actioncable-7.1.0
#10 13.89 Successfully installed rails-7.1.0
#10 13.89 38 gems installed
#10 DONE 13.9s

#11 [web 7/8] COPY setup.sh /app/setup.sh
#11 DONE 0.0s

#12 [web 8/8] RUN chmod +x /app/setup.sh
#12 DONE 0.2s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 0.2s done
#13 writing image sha256:cc49e0e6fb274e99ecd361fd745d0e194f020b00624d6fa1f58226e2edc18c83
#13 writing image sha256:cc49e0e6fb274e99ecd361fd745d0e194f020b00624d6fa1f58226e2edc18c83 done
#13 naming to docker.io/library/spina-app-web done
#13 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 718B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.11kB done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.921 Reading package lists...
#6 2.130 Building dependency tree...
#6 2.185 Reading state information...
#6 2.249 The following additional packages will be installed:
#6 2.249   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.249   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.249   postgresql-client-common
#6 2.249 Suggested packages:
#6 2.249   npm postgresql-15 postgresql-doc-15
#6 2.294 The following NEW packages will be installed:
#6 2.294   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.294   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.294   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.423 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.423 Need to get 15.9 MB of archives.
#6 2.423 After this operation, 75.6 MB of additional disk space will be used.
#6 2.423 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.563 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.587 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.588 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.689 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.698 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.700 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.703 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.744 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.179 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.179 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.284 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.285 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.388 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.497 debconf: delaying package configuration, since apt-utils is not installed
#6 3.507 Fetched 15.9 MB in 1s (14.5 MB/s)
#6 3.516 Selecting previously unselected package libc-ares2:arm64.
#6 3.516 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.525 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.527 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.540 Selecting previously unselected package libuv1:arm64.
#6 3.541 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.542 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.555 Selecting previously unselected package node-xtend.
#6 3.555 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.556 Unpacking node-xtend (4.0.2-3) ...
#6 3.565 Selecting previously unselected package nodejs.
#6 3.565 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.566 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.596 Selecting previously unselected package node-acorn.
#6 3.597 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.597 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.614 Selecting previously unselected package node-cjs-module-lexer.
#6 3.615 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.616 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.625 Selecting previously unselected package node-busboy.
#6 3.626 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.627 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.638 Selecting previously unselected package node-undici.
#6 3.639 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.641 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.664 Selecting previously unselected package libnode108:arm64.
#6 3.665 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.666 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.950 Selecting previously unselected package netcat-openbsd.
#6 3.951 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.952 Unpacking netcat-openbsd (1.219-1) ...
#6 3.962 Selecting previously unselected package nodejs-doc.
#6 3.963 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.964 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.093 Selecting previously unselected package postgresql-client-common.
#6 4.094 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.094 Unpacking postgresql-client-common (248) ...
#6 4.105 Selecting previously unselected package postgresql-client-15.
#6 4.106 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.107 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.192 Selecting previously unselected package postgresql-client.
#6 4.194 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.194 Unpacking postgresql-client (15+248) ...
#6 4.206 Setting up postgresql-client-common (248) ...
#6 4.210 Setting up netcat-openbsd (1.219-1) ...
#6 4.213 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.215 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.353 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.367 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.369 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.372 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.374 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.377 Setting up node-xtend (4.0.2-3) ...
#6 4.380 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.382 Setting up postgresql-client (15+248) ...
#6 4.385 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.389 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.392 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.394 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.397 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.399 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web 6/9] RUN gem install bundler
#10 1.658 Successfully installed bundler-2.5.18
#10 1.658 1 gem installed
#10 DONE 1.7s

#11 [web 7/9] RUN gem install rails -v 7.1.0
#11 12.30 Successfully installed zeitwerk-2.6.18
#11 12.30 Successfully installed thor-1.3.2
#11 12.30 Successfully installed webrick-1.8.1
#11 12.30 Successfully installed rack-3.1.7
#11 12.30 Successfully installed rackup-2.1.0
#11 12.30 Successfully installed concurrent-ruby-1.3.4
#11 12.30 Successfully installed tzinfo-2.0.6
#11 12.30 Successfully installed i18n-1.14.5
#11 12.30 Successfully installed connection_pool-2.4.1
#11 12.30 Successfully installed activesupport-7.1.0
#11 12.30 Successfully installed nokogiri-1.16.7-aarch64-linux
#11 12.30 Successfully installed crass-1.0.6
#11 12.30 Successfully installed loofah-2.22.0
#11 12.30 Successfully installed rails-html-sanitizer-1.6.0
#11 12.30 Successfully installed rails-dom-testing-2.2.0
#11 12.30 Successfully installed rack-test-2.1.0
#11 12.30 Successfully installed rack-session-2.0.0
#11 12.30 Successfully installed erubi-1.13.0
#11 12.30 Successfully installed builder-3.3.0
#11 12.30 Successfully installed actionview-7.1.0
#11 12.30 Successfully installed actionpack-7.1.0
#11 12.30 Successfully installed railties-7.1.0
#11 12.30 Successfully installed marcel-1.0.4
#11 12.30 Successfully installed activemodel-7.1.0
#11 12.30 Successfully installed activerecord-7.1.0
#11 12.30 Successfully installed globalid-1.2.1
#11 12.30 Successfully installed activejob-7.1.0
#11 12.30 Successfully installed activestorage-7.1.0
#11 12.30 Successfully installed actiontext-7.1.0
#11 12.30 Successfully installed mini_mime-1.1.5
#11 12.30 Successfully installed mail-2.8.1
#11 12.30 Successfully installed actionmailer-7.1.0
#11 12.30 Successfully installed actionmailbox-7.1.0
#11 12.30 Successfully installed websocket-extensions-0.1.5
#11 12.30 Building native extensions. This could take a while...
#11 12.42 Successfully installed websocket-driver-0.7.6
#11 12.42 Building native extensions. This could take a while...
#11 13.94 Successfully installed nio4r-2.7.3
#11 13.94 Successfully installed actioncable-7.1.0
#11 13.94 Successfully installed rails-7.1.0
#11 13.94 38 gems installed
#11 DONE 14.0s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.3s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:4b64d314bb971055665e30c78ecd56846679912fc55f8e80810f2379b2dc93ab done
#14 naming to docker.io/library/spina-app-web
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 718B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 893B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.987 Reading package lists...
#6 2.202 Building dependency tree...
#6 2.257 Reading state information...
#6 2.323 The following additional packages will be installed:
#6 2.323   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.323   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.323   postgresql-client-common
#6 2.323 Suggested packages:
#6 2.323   npm postgresql-15 postgresql-doc-15
#6 2.370 The following NEW packages will be installed:
#6 2.370   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.370   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.370   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.512 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.512 Need to get 15.9 MB of archives.
#6 2.512 After this operation, 75.6 MB of additional disk space will be used.
#6 2.512 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.654 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.680 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.680 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.782 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.792 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.794 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.795 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.835 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.383 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.384 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.775 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.778 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.926 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.040 debconf: delaying package configuration, since apt-utils is not installed
#6 4.051 Fetched 15.9 MB in 2s (10.2 MB/s)
#6 4.060 Selecting previously unselected package libc-ares2:arm64.
#6 4.060 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.070 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.072 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.085 Selecting previously unselected package libuv1:arm64.
#6 4.086 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.087 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.100 Selecting previously unselected package node-xtend.
#6 4.101 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.101 Unpacking node-xtend (4.0.2-3) ...
#6 4.110 Selecting previously unselected package nodejs.
#6 4.111 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.112 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.143 Selecting previously unselected package node-acorn.
#6 4.144 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.145 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.161 Selecting previously unselected package node-cjs-module-lexer.
#6 4.162 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.163 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.171 Selecting previously unselected package node-busboy.
#6 4.172 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.173 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.183 Selecting previously unselected package node-undici.
#6 4.184 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.187 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.210 Selecting previously unselected package libnode108:arm64.
#6 4.211 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.212 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.500 Selecting previously unselected package netcat-openbsd.
#6 4.501 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.502 Unpacking netcat-openbsd (1.219-1) ...
#6 4.512 Selecting previously unselected package nodejs-doc.
#6 4.513 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.514 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.644 Selecting previously unselected package postgresql-client-common.
#6 4.645 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.646 Unpacking postgresql-client-common (248) ...
#6 4.656 Selecting previously unselected package postgresql-client-15.
#6 4.657 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.658 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.743 Selecting previously unselected package postgresql-client.
#6 4.744 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.745 Unpacking postgresql-client (15+248) ...
#6 4.757 Setting up postgresql-client-common (248) ...
#6 4.761 Setting up netcat-openbsd (1.219-1) ...
#6 4.765 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.766 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.903 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.915 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.917 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.919 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.922 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.924 Setting up node-xtend (4.0.2-3) ...
#6 4.926 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.928 Setting up postgresql-client (15+248) ...
#6 4.930 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.934 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.936 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.939 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.941 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.943 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.0s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web 6/9] RUN gem install bundler
#10 1.507 Successfully installed bundler-2.5.18
#10 1.507 1 gem installed
#10 DONE 1.5s

#11 [web 7/9] RUN gem install rails -v 7.1.0
#11 12.43 Successfully installed zeitwerk-2.6.18
#11 12.43 Successfully installed thor-1.3.2
#11 12.43 Successfully installed webrick-1.8.1
#11 12.43 Successfully installed rack-3.1.7
#11 12.43 Successfully installed rackup-2.1.0
#11 12.43 Successfully installed concurrent-ruby-1.3.4
#11 12.43 Successfully installed tzinfo-2.0.6
#11 12.43 Successfully installed i18n-1.14.5
#11 12.43 Successfully installed connection_pool-2.4.1
#11 12.43 Successfully installed activesupport-7.1.0
#11 12.43 Successfully installed nokogiri-1.16.7-aarch64-linux
#11 12.43 Successfully installed crass-1.0.6
#11 12.43 Successfully installed loofah-2.22.0
#11 12.43 Successfully installed rails-html-sanitizer-1.6.0
#11 12.43 Successfully installed rails-dom-testing-2.2.0
#11 12.43 Successfully installed rack-test-2.1.0
#11 12.43 Successfully installed rack-session-2.0.0
#11 12.43 Successfully installed erubi-1.13.0
#11 12.43 Successfully installed builder-3.3.0
#11 12.43 Successfully installed actionview-7.1.0
#11 12.43 Successfully installed actionpack-7.1.0
#11 12.43 Successfully installed railties-7.1.0
#11 12.43 Successfully installed marcel-1.0.4
#11 12.43 Successfully installed activemodel-7.1.0
#11 12.43 Successfully installed activerecord-7.1.0
#11 12.43 Successfully installed globalid-1.2.1
#11 12.43 Successfully installed activejob-7.1.0
#11 12.43 Successfully installed activestorage-7.1.0
#11 12.43 Successfully installed actiontext-7.1.0
#11 12.43 Successfully installed mini_mime-1.1.5
#11 12.43 Successfully installed mail-2.8.1
#11 12.43 Successfully installed actionmailer-7.1.0
#11 12.43 Successfully installed actionmailbox-7.1.0
#11 12.43 Successfully installed websocket-extensions-0.1.5
#11 12.43 Building native extensions. This could take a while...
#11 12.57 Successfully installed websocket-driver-0.7.6
#11 12.57 Building native extensions. This could take a while...
#11 14.15 Successfully installed nio4r-2.7.3
#11 14.15 Successfully installed actioncable-7.1.0
#11 14.15 Successfully installed rails-7.1.0
#11 14.15 38 gems installed
#11 DONE 14.2s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:bc924f79afea4dd30dd134a875b5d2b2c1f20b1da24c284a830c9b2db54ccda6 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 718B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 329B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.012 Reading package lists...
#6 2.234 Building dependency tree...
#6 2.290 Reading state information...
#6 2.358 The following additional packages will be installed:
#6 2.358   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.358   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.358   postgresql-client-common
#6 2.358 Suggested packages:
#6 2.358   npm postgresql-15 postgresql-doc-15
#6 2.405 The following NEW packages will be installed:
#6 2.406   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.406   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.406   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.539 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.539 Need to get 15.9 MB of archives.
#6 2.539 After this operation, 75.6 MB of additional disk space will be used.
#6 2.539 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.685 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.711 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.712 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.818 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.822 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.824 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.825 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.866 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.291 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.291 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.414 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.415 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.427 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.525 debconf: delaying package configuration, since apt-utils is not installed
#6 3.535 Fetched 15.9 MB in 1s (15.6 MB/s)
#6 3.544 Selecting previously unselected package libc-ares2:arm64.
#6 3.544 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.552 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.554 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.567 Selecting previously unselected package libuv1:arm64.
#6 3.567 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.568 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.581 Selecting previously unselected package node-xtend.
#6 3.581 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.582 Unpacking node-xtend (4.0.2-3) ...
#6 3.591 Selecting previously unselected package nodejs.
#6 3.592 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.593 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.622 Selecting previously unselected package node-acorn.
#6 3.623 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.624 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.640 Selecting previously unselected package node-cjs-module-lexer.
#6 3.641 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.642 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.650 Selecting previously unselected package node-busboy.
#6 3.651 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.652 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.662 Selecting previously unselected package node-undici.
#6 3.663 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.665 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.688 Selecting previously unselected package libnode108:arm64.
#6 3.689 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.689 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.986 Selecting previously unselected package netcat-openbsd.
#6 3.987 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.987 Unpacking netcat-openbsd (1.219-1) ...
#6 3.997 Selecting previously unselected package nodejs-doc.
#6 3.998 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.999 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.131 Selecting previously unselected package postgresql-client-common.
#6 4.132 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.133 Unpacking postgresql-client-common (248) ...
#6 4.144 Selecting previously unselected package postgresql-client-15.
#6 4.144 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.145 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.233 Selecting previously unselected package postgresql-client.
#6 4.234 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.235 Unpacking postgresql-client (15+248) ...
#6 4.247 Setting up postgresql-client-common (248) ...
#6 4.250 Setting up netcat-openbsd (1.219-1) ...
#6 4.254 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.256 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.390 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.402 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.405 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.408 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.410 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.413 Setting up node-xtend (4.0.2-3) ...
#6 4.415 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.417 Setting up postgresql-client (15+248) ...
#6 4.419 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.424 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.426 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.428 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.431 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.433 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.prod .env
#8 DONE 0.0s

#9 [web 5/9] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web 6/9] RUN gem install bundler
#10 1.303 Successfully installed bundler-2.5.18
#10 1.303 1 gem installed
#10 DONE 1.3s

#11 [web 7/9] RUN gem install rails -v 7.1.0
#11 12.20 Successfully installed zeitwerk-2.6.18
#11 12.20 Successfully installed thor-1.3.2
#11 12.20 Successfully installed webrick-1.8.1
#11 12.20 Successfully installed rack-3.1.7
#11 12.20 Successfully installed rackup-2.1.0
#11 12.20 Successfully installed concurrent-ruby-1.3.4
#11 12.20 Successfully installed tzinfo-2.0.6
#11 12.20 Successfully installed i18n-1.14.5
#11 12.20 Successfully installed connection_pool-2.4.1
#11 12.20 Successfully installed activesupport-7.1.0
#11 12.20 Successfully installed nokogiri-1.16.7-aarch64-linux
#11 12.20 Successfully installed crass-1.0.6
#11 12.20 Successfully installed loofah-2.22.0
#11 12.20 Successfully installed rails-html-sanitizer-1.6.0
#11 12.20 Successfully installed rails-dom-testing-2.2.0
#11 12.20 Successfully installed rack-test-2.1.0
#11 12.20 Successfully installed rack-session-2.0.0
#11 12.20 Successfully installed erubi-1.13.0
#11 12.20 Successfully installed builder-3.3.0
#11 12.20 Successfully installed actionview-7.1.0
#11 12.20 Successfully installed actionpack-7.1.0
#11 12.20 Successfully installed railties-7.1.0
#11 12.20 Successfully installed marcel-1.0.4
#11 12.20 Successfully installed activemodel-7.1.0
#11 12.20 Successfully installed activerecord-7.1.0
#11 12.20 Successfully installed globalid-1.2.1
#11 12.20 Successfully installed activejob-7.1.0
#11 12.20 Successfully installed activestorage-7.1.0
#11 12.20 Successfully installed actiontext-7.1.0
#11 12.20 Successfully installed mini_mime-1.1.5
#11 12.20 Successfully installed mail-2.8.1
#11 12.20 Successfully installed actionmailer-7.1.0
#11 12.20 Successfully installed actionmailbox-7.1.0
#11 12.20 Successfully installed websocket-extensions-0.1.5
#11 12.20 Building native extensions. This could take a while...
#11 12.32 Successfully installed websocket-driver-0.7.6
#11 12.32 Building native extensions. This could take a while...
#11 14.14 Successfully installed nio4r-2.7.3
#11 14.14 Successfully installed actioncable-7.1.0
#11 14.14 Successfully installed rails-7.1.0
#11 14.14 38 gems installed
#11 DONE 14.2s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:2ce0255feeeba412dd4570b190c0f5e42471e150290458e2c08564cb58c4fa06
#14 writing image sha256:2ce0255feeeba412dd4570b190c0f5e42471e150290458e2c08564cb58c4fa06 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 718B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 323B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.938 Reading package lists...
#6 2.168 Building dependency tree...
#6 2.226 Reading state information...
#6 2.294 The following additional packages will be installed:
#6 2.294   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.294   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.294   postgresql-client-common
#6 2.295 Suggested packages:
#6 2.295   npm postgresql-15 postgresql-doc-15
#6 2.343 The following NEW packages will be installed:
#6 2.343   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.344   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.344   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.469 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.469 Need to get 15.9 MB of archives.
#6 2.469 After this operation, 75.6 MB of additional disk space will be used.
#6 2.469 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.609 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.634 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.636 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.738 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.745 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.749 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.750 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.792 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.282 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.284 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.424 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.425 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.489 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.605 debconf: delaying package configuration, since apt-utils is not installed
#6 3.616 Fetched 15.9 MB in 1s (13.9 MB/s)
#6 3.624 Selecting previously unselected package libc-ares2:arm64.
#6 3.624 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.634 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.635 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.649 Selecting previously unselected package libuv1:arm64.
#6 3.650 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.651 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.664 Selecting previously unselected package node-xtend.
#6 3.665 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.665 Unpacking node-xtend (4.0.2-3) ...
#6 3.674 Selecting previously unselected package nodejs.
#6 3.675 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.676 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.708 Selecting previously unselected package node-acorn.
#6 3.709 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.710 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.728 Selecting previously unselected package node-cjs-module-lexer.
#6 3.729 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.730 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.740 Selecting previously unselected package node-busboy.
#6 3.741 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.742 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.752 Selecting previously unselected package node-undici.
#6 3.753 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.756 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.778 Selecting previously unselected package libnode108:arm64.
#6 3.779 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.780 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.079 Selecting previously unselected package netcat-openbsd.
#6 4.080 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.081 Unpacking netcat-openbsd (1.219-1) ...
#6 4.090 Selecting previously unselected package nodejs-doc.
#6 4.091 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.092 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.229 Selecting previously unselected package postgresql-client-common.
#6 4.230 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.231 Unpacking postgresql-client-common (248) ...
#6 4.242 Selecting previously unselected package postgresql-client-15.
#6 4.243 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.244 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.335 Selecting previously unselected package postgresql-client.
#6 4.336 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.337 Unpacking postgresql-client (15+248) ...
#6 4.350 Setting up postgresql-client-common (248) ...
#6 4.354 Setting up netcat-openbsd (1.219-1) ...
#6 4.357 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.359 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.513 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.527 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.530 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.532 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.534 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.537 Setting up node-xtend (4.0.2-3) ...
#6 4.539 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.542 Setting up postgresql-client (15+248) ...
#6 4.544 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.548 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.551 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.553 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.555 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.557 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.dev .env
#8 DONE 0.0s

#9 [web 5/9] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web 6/9] RUN gem install bundler
#10 1.276 Successfully installed bundler-2.5.18
#10 1.276 1 gem installed
#10 DONE 1.3s

#11 [web 7/9] RUN gem install rails -v 7.1.0
#11 12.54 Successfully installed zeitwerk-2.6.18
#11 12.54 Successfully installed thor-1.3.2
#11 12.54 Successfully installed webrick-1.8.1
#11 12.54 Successfully installed rack-3.1.7
#11 12.54 Successfully installed rackup-2.1.0
#11 12.54 Successfully installed concurrent-ruby-1.3.4
#11 12.54 Successfully installed tzinfo-2.0.6
#11 12.54 Successfully installed i18n-1.14.5
#11 12.54 Successfully installed connection_pool-2.4.1
#11 12.54 Successfully installed activesupport-7.1.0
#11 12.54 Successfully installed nokogiri-1.16.7-aarch64-linux
#11 12.54 Successfully installed crass-1.0.6
#11 12.54 Successfully installed loofah-2.22.0
#11 12.54 Successfully installed rails-html-sanitizer-1.6.0
#11 12.54 Successfully installed rails-dom-testing-2.2.0
#11 12.54 Successfully installed rack-test-2.1.0
#11 12.54 Successfully installed rack-session-2.0.0
#11 12.54 Successfully installed erubi-1.13.0
#11 12.54 Successfully installed builder-3.3.0
#11 12.54 Successfully installed actionview-7.1.0
#11 12.54 Successfully installed actionpack-7.1.0
#11 12.54 Successfully installed railties-7.1.0
#11 12.54 Successfully installed marcel-1.0.4
#11 12.54 Successfully installed activemodel-7.1.0
#11 12.54 Successfully installed activerecord-7.1.0
#11 12.54 Successfully installed globalid-1.2.1
#11 12.54 Successfully installed activejob-7.1.0
#11 12.54 Successfully installed activestorage-7.1.0
#11 12.54 Successfully installed actiontext-7.1.0
#11 12.54 Successfully installed mini_mime-1.1.5
#11 12.54 Successfully installed mail-2.8.1
#11 12.54 Successfully installed actionmailer-7.1.0
#11 12.54 Successfully installed actionmailbox-7.1.0
#11 12.54 Successfully installed websocket-extensions-0.1.5
#11 12.54 Building native extensions. This could take a while...
#11 12.67 Successfully installed websocket-driver-0.7.6
#11 12.67 Building native extensions. This could take a while...
#11 14.30 Successfully installed nio4r-2.7.3
#11 14.30 Successfully installed actioncable-7.1.0
#11 14.30 Successfully installed rails-7.1.0
#11 14.30 38 gems installed
#11 DONE 14.4s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.1s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:5d7293ba3940deee493ef89eefa8af85aaa771791ab0e24887b083209aec134c
#14 writing image sha256:5d7293ba3940deee493ef89eefa8af85aaa771791ab0e24887b083209aec134c done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 718B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 346B done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.920 Reading package lists...
#6 2.145 Building dependency tree...
#6 2.202 Reading state information...
#6 2.272 The following additional packages will be installed:
#6 2.273   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.273   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.273   postgresql-client-common
#6 2.273 Suggested packages:
#6 2.273   npm postgresql-15 postgresql-doc-15
#6 2.321 The following NEW packages will be installed:
#6 2.321   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.321   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.321   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.450 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.450 Need to get 15.9 MB of archives.
#6 2.450 After this operation, 75.6 MB of additional disk space will be used.
#6 2.450 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.590 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.617 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.618 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.719 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.729 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.730 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.732 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.773 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.274 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.277 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.393 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.394 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.448 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.559 debconf: delaying package configuration, since apt-utils is not installed
#6 3.570 Fetched 15.9 MB in 1s (14.1 MB/s)
#6 3.578 Selecting previously unselected package libc-ares2:arm64.
#6 3.578 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.588 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.590 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.603 Selecting previously unselected package libuv1:arm64.
#6 3.604 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.605 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.617 Selecting previously unselected package node-xtend.
#6 3.618 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.619 Unpacking node-xtend (4.0.2-3) ...
#6 3.628 Selecting previously unselected package nodejs.
#6 3.629 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.629 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.660 Selecting previously unselected package node-acorn.
#6 3.661 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.662 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.677 Selecting previously unselected package node-cjs-module-lexer.
#6 3.678 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.679 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.688 Selecting previously unselected package node-busboy.
#6 3.689 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.690 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.700 Selecting previously unselected package node-undici.
#6 3.701 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.703 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.726 Selecting previously unselected package libnode108:arm64.
#6 3.727 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.728 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.024 Selecting previously unselected package netcat-openbsd.
#6 4.026 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.027 Unpacking netcat-openbsd (1.219-1) ...
#6 4.036 Selecting previously unselected package nodejs-doc.
#6 4.037 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.038 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.169 Selecting previously unselected package postgresql-client-common.
#6 4.170 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.171 Unpacking postgresql-client-common (248) ...
#6 4.181 Selecting previously unselected package postgresql-client-15.
#6 4.182 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.183 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.269 Selecting previously unselected package postgresql-client.
#6 4.270 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.271 Unpacking postgresql-client (15+248) ...
#6 4.282 Setting up postgresql-client-common (248) ...
#6 4.286 Setting up netcat-openbsd (1.219-1) ...
#6 4.290 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.292 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.428 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.441 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.444 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.446 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.449 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.451 Setting up node-xtend (4.0.2-3) ...
#6 4.453 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.455 Setting up postgresql-client (15+248) ...
#6 4.458 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.462 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.464 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.466 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.469 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.471 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.prod .env
#8 DONE 0.0s

#9 [web 5/9] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web 6/9] RUN gem install bundler
#10 1.306 Successfully installed bundler-2.5.18
#10 1.306 1 gem installed
#10 DONE 1.3s

#11 [web 7/9] RUN gem install rails -v 7.1.0
#11 12.97 Successfully installed zeitwerk-2.6.18
#11 12.97 Successfully installed thor-1.3.2
#11 12.97 Successfully installed webrick-1.8.1
#11 12.97 Successfully installed rack-3.1.7
#11 12.97 Successfully installed rackup-2.1.0
#11 12.97 Successfully installed concurrent-ruby-1.3.4
#11 12.97 Successfully installed tzinfo-2.0.6
#11 12.97 Successfully installed i18n-1.14.5
#11 12.97 Successfully installed connection_pool-2.4.1
#11 12.97 Successfully installed activesupport-7.1.0
#11 12.97 Successfully installed nokogiri-1.16.7-aarch64-linux
#11 12.97 Successfully installed crass-1.0.6
#11 12.97 Successfully installed loofah-2.22.0
#11 12.97 Successfully installed rails-html-sanitizer-1.6.0
#11 12.97 Successfully installed rails-dom-testing-2.2.0
#11 12.97 Successfully installed rack-test-2.1.0
#11 12.97 Successfully installed rack-session-2.0.0
#11 12.97 Successfully installed erubi-1.13.0
#11 12.97 Successfully installed builder-3.3.0
#11 12.97 Successfully installed actionview-7.1.0
#11 12.97 Successfully installed actionpack-7.1.0
#11 12.97 Successfully installed railties-7.1.0
#11 12.97 Successfully installed marcel-1.0.4
#11 12.97 Successfully installed activemodel-7.1.0
#11 12.97 Successfully installed activerecord-7.1.0
#11 12.97 Successfully installed globalid-1.2.1
#11 12.97 Successfully installed activejob-7.1.0
#11 12.97 Successfully installed activestorage-7.1.0
#11 12.97 Successfully installed actiontext-7.1.0
#11 12.97 Successfully installed mini_mime-1.1.5
#11 12.97 Successfully installed mail-2.8.1
#11 12.97 Successfully installed actionmailer-7.1.0
#11 12.97 Successfully installed actionmailbox-7.1.0
#11 12.97 Successfully installed websocket-extensions-0.1.5
#11 12.97 Building native extensions. This could take a while...
#11 13.09 Successfully installed websocket-driver-0.7.6
#11 13.09 Building native extensions. This could take a while...
#11 14.65 Successfully installed nio4r-2.7.3
#11 14.65 Successfully installed actioncable-7.1.0
#11 14.65 Successfully installed rails-7.1.0
#11 14.65 38 gems installed
#11 DONE 14.7s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:3826c2bd9442acd043c01a6c6056c8bd9c07c65fc23dfad8d4683f898cf8ebcd
#14 writing image sha256:3826c2bd9442acd043c01a6c6056c8bd9c07c65fc23dfad8d4683f898cf8ebcd done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 718B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web 1/9] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.13kB done
#5 DONE 0.0s

#6 [web 2/9] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.942 Reading package lists...
#6 2.165 Building dependency tree...
#6 2.222 Reading state information...
#6 2.290 The following additional packages will be installed:
#6 2.290   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.290   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.290   postgresql-client-common
#6 2.290 Suggested packages:
#6 2.290   npm postgresql-15 postgresql-doc-15
#6 2.338 The following NEW packages will be installed:
#6 2.338   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.338   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.338   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.464 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.464 Need to get 15.9 MB of archives.
#6 2.464 After this operation, 75.6 MB of additional disk space will be used.
#6 2.464 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.603 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.629 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.630 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.731 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.741 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.743 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.744 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.785 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.521 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.524 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.797 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.798 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.883 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.997 debconf: delaying package configuration, since apt-utils is not installed
#6 4.008 Fetched 15.9 MB in 2s (10.3 MB/s)
#6 4.016 Selecting previously unselected package libc-ares2:arm64.
#6 4.016 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.026 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.028 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.042 Selecting previously unselected package libuv1:arm64.
#6 4.043 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.043 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.056 Selecting previously unselected package node-xtend.
#6 4.057 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.058 Unpacking node-xtend (4.0.2-3) ...
#6 4.066 Selecting previously unselected package nodejs.
#6 4.067 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.068 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.099 Selecting previously unselected package node-acorn.
#6 4.100 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.101 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.118 Selecting previously unselected package node-cjs-module-lexer.
#6 4.119 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.119 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.128 Selecting previously unselected package node-busboy.
#6 4.129 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.130 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.140 Selecting previously unselected package node-undici.
#6 4.141 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.144 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.166 Selecting previously unselected package libnode108:arm64.
#6 4.167 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.168 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.461 Selecting previously unselected package netcat-openbsd.
#6 4.463 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.463 Unpacking netcat-openbsd (1.219-1) ...
#6 4.473 Selecting previously unselected package nodejs-doc.
#6 4.474 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.476 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.606 Selecting previously unselected package postgresql-client-common.
#6 4.607 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.608 Unpacking postgresql-client-common (248) ...
#6 4.619 Selecting previously unselected package postgresql-client-15.
#6 4.620 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.621 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.708 Selecting previously unselected package postgresql-client.
#6 4.709 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.710 Unpacking postgresql-client (15+248) ...
#6 4.722 Setting up postgresql-client-common (248) ...
#6 4.726 Setting up netcat-openbsd (1.219-1) ...
#6 4.730 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.732 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.867 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.881 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.884 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.886 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.888 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.891 Setting up node-xtend (4.0.2-3) ...
#6 4.893 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.895 Setting up postgresql-client (15+248) ...
#6 4.897 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.902 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.904 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.906 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.909 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.911 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.0s

#7 [web 3/9] WORKDIR /app/
#7 DONE 0.0s

#8 [web 4/9] COPY .env.prod .env
#8 DONE 0.0s

#9 [web 5/9] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web 6/9] RUN gem install bundler
#10 1.395 Successfully installed bundler-2.5.18
#10 1.395 1 gem installed
#10 DONE 1.4s

#11 [web 7/9] RUN gem install rails -v 7.1.0
#11 12.48 Successfully installed zeitwerk-2.6.18
#11 12.48 Successfully installed thor-1.3.2
#11 12.48 Successfully installed webrick-1.8.1
#11 12.48 Successfully installed rack-3.1.7
#11 12.48 Successfully installed rackup-2.1.0
#11 12.48 Successfully installed concurrent-ruby-1.3.4
#11 12.48 Successfully installed tzinfo-2.0.6
#11 12.48 Successfully installed i18n-1.14.5
#11 12.48 Successfully installed connection_pool-2.4.1
#11 12.48 Successfully installed activesupport-7.1.0
#11 12.48 Successfully installed nokogiri-1.16.7-aarch64-linux
#11 12.48 Successfully installed crass-1.0.6
#11 12.48 Successfully installed loofah-2.22.0
#11 12.48 Successfully installed rails-html-sanitizer-1.6.0
#11 12.48 Successfully installed rails-dom-testing-2.2.0
#11 12.48 Successfully installed rack-test-2.1.0
#11 12.48 Successfully installed rack-session-2.0.0
#11 12.48 Successfully installed erubi-1.13.0
#11 12.48 Successfully installed builder-3.3.0
#11 12.48 Successfully installed actionview-7.1.0
#11 12.48 Successfully installed actionpack-7.1.0
#11 12.48 Successfully installed railties-7.1.0
#11 12.48 Successfully installed marcel-1.0.4
#11 12.48 Successfully installed activemodel-7.1.0
#11 12.48 Successfully installed activerecord-7.1.0
#11 12.48 Successfully installed globalid-1.2.1
#11 12.48 Successfully installed activejob-7.1.0
#11 12.48 Successfully installed activestorage-7.1.0
#11 12.48 Successfully installed actiontext-7.1.0
#11 12.48 Successfully installed mini_mime-1.1.5
#11 12.48 Successfully installed mail-2.8.1
#11 12.48 Successfully installed actionmailer-7.1.0
#11 12.48 Successfully installed actionmailbox-7.1.0
#11 12.48 Successfully installed websocket-extensions-0.1.5
#11 12.48 Building native extensions. This could take a while...
#11 12.62 Successfully installed websocket-driver-0.7.6
#11 12.62 Building native extensions. This could take a while...
#11 14.19 Successfully installed nio4r-2.7.3
#11 14.19 Successfully installed actioncable-7.1.0
#11 14.19 Successfully installed rails-7.1.0
#11 14.19 38 gems installed
#11 DONE 14.2s

#12 [web 8/9] COPY setup.sh /app/setup.sh
#12 DONE 0.0s

#13 [web 9/9] RUN chmod +x /app/setup.sh
#13 DONE 0.2s

#14 [web] exporting to image
#14 exporting layers
#14 exporting layers 0.2s done
#14 writing image sha256:d3619bd0a54944cfbde775e7a05b08cbf46f45d3b5adf569e8b681ce7f2095e1
#14 writing image sha256:d3619bd0a54944cfbde775e7a05b08cbf46f45d3b5adf569e8b681ce7f2095e1 done
#14 naming to docker.io/library/spina-app-web done
#14 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.25kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.025 Reading package lists...
#6 2.246 Building dependency tree...
#6 2.301 Reading state information...
#6 2.365 The following additional packages will be installed:
#6 2.365   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.365   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.365   postgresql-client-common
#6 2.365 Suggested packages:
#6 2.365   npm postgresql-15 postgresql-doc-15
#6 2.411 The following NEW packages will be installed:
#6 2.412   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.412   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.412   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.543 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.543 Need to get 15.9 MB of archives.
#6 2.543 After this operation, 75.6 MB of additional disk space will be used.
#6 2.543 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.683 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.708 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.709 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.809 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.818 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.821 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.823 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.864 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.294 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.295 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.398 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.400 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.460 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.570 debconf: delaying package configuration, since apt-utils is not installed
#6 3.581 Fetched 15.9 MB in 1s (15.2 MB/s)
#6 3.590 Selecting previously unselected package libc-ares2:arm64.
#6 3.590 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.599 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.601 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.615 Selecting previously unselected package libuv1:arm64.
#6 3.616 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.617 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.630 Selecting previously unselected package node-xtend.
#6 3.631 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.632 Unpacking node-xtend (4.0.2-3) ...
#6 3.640 Selecting previously unselected package nodejs.
#6 3.641 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.642 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.672 Selecting previously unselected package node-acorn.
#6 3.673 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.674 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.691 Selecting previously unselected package node-cjs-module-lexer.
#6 3.692 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.693 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.701 Selecting previously unselected package node-busboy.
#6 3.702 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.703 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.713 Selecting previously unselected package node-undici.
#6 3.714 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.717 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.739 Selecting previously unselected package libnode108:arm64.
#6 3.740 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.741 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.027 Selecting previously unselected package netcat-openbsd.
#6 4.028 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.029 Unpacking netcat-openbsd (1.219-1) ...
#6 4.039 Selecting previously unselected package nodejs-doc.
#6 4.040 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.041 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.170 Selecting previously unselected package postgresql-client-common.
#6 4.171 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.173 Unpacking postgresql-client-common (248) ...
#6 4.184 Selecting previously unselected package postgresql-client-15.
#6 4.185 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.186 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.271 Selecting previously unselected package postgresql-client.
#6 4.272 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.273 Unpacking postgresql-client (15+248) ...
#6 4.285 Setting up postgresql-client-common (248) ...
#6 4.289 Setting up netcat-openbsd (1.219-1) ...
#6 4.293 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.294 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.430 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.443 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.446 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.448 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.451 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.453 Setting up node-xtend (4.0.2-3) ...
#6 4.456 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.458 Setting up postgresql-client (15+248) ...
#6 4.460 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.464 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.467 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.469 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.472 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.473 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.379 Successfully installed bundler-2.5.18
#11 1.379 1 gem installed
#11 DONE 1.4s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.49 Successfully installed zeitwerk-2.6.18
#12 12.49 Successfully installed thor-1.3.2
#12 12.49 Successfully installed webrick-1.8.1
#12 12.49 Successfully installed rack-3.1.7
#12 12.49 Successfully installed rackup-2.1.0
#12 12.49 Successfully installed concurrent-ruby-1.3.4
#12 12.49 Successfully installed tzinfo-2.0.6
#12 12.49 Successfully installed i18n-1.14.5
#12 12.49 Successfully installed connection_pool-2.4.1
#12 12.49 Successfully installed activesupport-7.1.0
#12 12.49 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.49 Successfully installed crass-1.0.6
#12 12.49 Successfully installed loofah-2.22.0
#12 12.49 Successfully installed rails-html-sanitizer-1.6.0
#12 12.49 Successfully installed rails-dom-testing-2.2.0
#12 12.49 Successfully installed rack-test-2.1.0
#12 12.49 Successfully installed rack-session-2.0.0
#12 12.49 Successfully installed erubi-1.13.0
#12 12.49 Successfully installed builder-3.3.0
#12 12.49 Successfully installed actionview-7.1.0
#12 12.49 Successfully installed actionpack-7.1.0
#12 12.49 Successfully installed railties-7.1.0
#12 12.49 Successfully installed marcel-1.0.4
#12 12.49 Successfully installed activemodel-7.1.0
#12 12.49 Successfully installed activerecord-7.1.0
#12 12.49 Successfully installed globalid-1.2.1
#12 12.49 Successfully installed activejob-7.1.0
#12 12.49 Successfully installed activestorage-7.1.0
#12 12.49 Successfully installed actiontext-7.1.0
#12 12.49 Successfully installed mini_mime-1.1.5
#12 12.49 Successfully installed mail-2.8.1
#12 12.49 Successfully installed actionmailer-7.1.0
#12 12.49 Successfully installed actionmailbox-7.1.0
#12 12.49 Successfully installed websocket-extensions-0.1.5
#12 12.49 Building native extensions. This could take a while...
#12 12.61 Successfully installed websocket-driver-0.7.6
#12 12.61 Building native extensions. This could take a while...
#12 14.13 Successfully installed nio4r-2.7.3
#12 14.13 Successfully installed actioncable-7.1.0
#12 14.13 Successfully installed rails-7.1.0
#12 14.13 38 gems installed
#12 DONE 14.2s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:9b1e55dad747fc23c1beade47a261ef395300a3066cc2b09f1d64863e11b490c done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.08kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.192 Reading package lists...
#6 2.406 Building dependency tree...
#6 2.462 Reading state information...
#6 2.527 The following additional packages will be installed:
#6 2.527   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.527   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.527   postgresql-client-common
#6 2.528 Suggested packages:
#6 2.528   npm postgresql-15 postgresql-doc-15
#6 2.573 The following NEW packages will be installed:
#6 2.573   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.573   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.573   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.703 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.703 Need to get 15.9 MB of archives.
#6 2.703 After this operation, 75.6 MB of additional disk space will be used.
#6 2.703 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.879 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.907 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.907 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.050 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.051 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.052 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.052 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.063 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.725 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.726 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.870 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.871 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.944 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.057 debconf: delaying package configuration, since apt-utils is not installed
#6 4.068 Fetched 15.9 MB in 1s (11.6 MB/s)
#6 4.077 Selecting previously unselected package libc-ares2:arm64.
#6 4.077 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.087 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.088 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.101 Selecting previously unselected package libuv1:arm64.
#6 4.102 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.104 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.116 Selecting previously unselected package node-xtend.
#6 4.117 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.117 Unpacking node-xtend (4.0.2-3) ...
#6 4.126 Selecting previously unselected package nodejs.
#6 4.127 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.128 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.158 Selecting previously unselected package node-acorn.
#6 4.159 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.160 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.177 Selecting previously unselected package node-cjs-module-lexer.
#6 4.178 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.178 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.187 Selecting previously unselected package node-busboy.
#6 4.188 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.189 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.199 Selecting previously unselected package node-undici.
#6 4.200 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.202 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.225 Selecting previously unselected package libnode108:arm64.
#6 4.225 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.226 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.517 Selecting previously unselected package netcat-openbsd.
#6 4.518 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.519 Unpacking netcat-openbsd (1.219-1) ...
#6 4.528 Selecting previously unselected package nodejs-doc.
#6 4.529 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.529 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.659 Selecting previously unselected package postgresql-client-common.
#6 4.660 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.661 Unpacking postgresql-client-common (248) ...
#6 4.672 Selecting previously unselected package postgresql-client-15.
#6 4.673 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.674 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.759 Selecting previously unselected package postgresql-client.
#6 4.761 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.762 Unpacking postgresql-client (15+248) ...
#6 4.776 Setting up postgresql-client-common (248) ...
#6 4.780 Setting up netcat-openbsd (1.219-1) ...
#6 4.783 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.785 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.920 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.932 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.935 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.937 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.939 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.941 Setting up node-xtend (4.0.2-3) ...
#6 4.944 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.946 Setting up postgresql-client (15+248) ...
#6 4.948 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.952 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.955 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.957 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.960 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.962 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.0s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.461 Successfully installed bundler-2.5.18
#11 1.461 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.90 Successfully installed zeitwerk-2.6.18
#12 12.90 Successfully installed thor-1.3.2
#12 12.90 Successfully installed webrick-1.8.1
#12 12.90 Successfully installed rack-3.1.7
#12 12.90 Successfully installed rackup-2.1.0
#12 12.90 Successfully installed concurrent-ruby-1.3.4
#12 12.90 Successfully installed tzinfo-2.0.6
#12 12.90 Successfully installed i18n-1.14.5
#12 12.90 Successfully installed connection_pool-2.4.1
#12 12.90 Successfully installed activesupport-7.1.0
#12 12.90 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.90 Successfully installed crass-1.0.6
#12 12.90 Successfully installed loofah-2.22.0
#12 12.90 Successfully installed rails-html-sanitizer-1.6.0
#12 12.90 Successfully installed rails-dom-testing-2.2.0
#12 12.90 Successfully installed rack-test-2.1.0
#12 12.90 Successfully installed rack-session-2.0.0
#12 12.90 Successfully installed erubi-1.13.0
#12 12.90 Successfully installed builder-3.3.0
#12 12.90 Successfully installed actionview-7.1.0
#12 12.90 Successfully installed actionpack-7.1.0
#12 12.90 Successfully installed railties-7.1.0
#12 12.90 Successfully installed marcel-1.0.4
#12 12.90 Successfully installed activemodel-7.1.0
#12 12.90 Successfully installed activerecord-7.1.0
#12 12.90 Successfully installed globalid-1.2.1
#12 12.90 Successfully installed activejob-7.1.0
#12 12.90 Successfully installed activestorage-7.1.0
#12 12.90 Successfully installed actiontext-7.1.0
#12 12.90 Successfully installed mini_mime-1.1.5
#12 12.90 Successfully installed mail-2.8.1
#12 12.90 Successfully installed actionmailer-7.1.0
#12 12.90 Successfully installed actionmailbox-7.1.0
#12 12.90 Successfully installed websocket-extensions-0.1.5
#12 12.90 Building native extensions. This could take a while...
#12 13.03 Successfully installed websocket-driver-0.7.6
#12 13.03 Building native extensions. This could take a while...
#12 14.57 Successfully installed nio4r-2.7.3
#12 14.57 Successfully installed actioncable-7.1.0
#12 14.57 Successfully installed rails-7.1.0
#12 14.57 38 gems installed
#12 DONE 14.6s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:9c7c3077c4a8e28552af20f32f94faf6126e08cbbd3702ae0e2c8095d8543e7b done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 543B done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.918 Reading package lists...
#6 2.130 Building dependency tree...
#6 2.185 Reading state information...
#6 2.249 The following additional packages will be installed:
#6 2.249   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.249   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.249   postgresql-client-common
#6 2.250 Suggested packages:
#6 2.250   npm postgresql-15 postgresql-doc-15
#6 2.295 The following NEW packages will be installed:
#6 2.295   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.295   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.296   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.426 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.426 Need to get 15.9 MB of archives.
#6 2.426 After this operation, 75.6 MB of additional disk space will be used.
#6 2.426 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.565 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.625 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.625 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.694 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.706 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.708 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.710 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.749 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.220 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.221 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.343 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.344 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.353 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.448 debconf: delaying package configuration, since apt-utils is not installed
#6 3.459 Fetched 15.9 MB in 1s (15.0 MB/s)
#6 3.468 Selecting previously unselected package libc-ares2:arm64.
#6 3.468 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.477 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.479 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.492 Selecting previously unselected package libuv1:arm64.
#6 3.493 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.494 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.506 Selecting previously unselected package node-xtend.
#6 3.507 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.508 Unpacking node-xtend (4.0.2-3) ...
#6 3.516 Selecting previously unselected package nodejs.
#6 3.517 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.518 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.549 Selecting previously unselected package node-acorn.
#6 3.550 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.551 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.567 Selecting previously unselected package node-cjs-module-lexer.
#6 3.568 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.569 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.578 Selecting previously unselected package node-busboy.
#6 3.578 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.579 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.590 Selecting previously unselected package node-undici.
#6 3.591 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.593 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.615 Selecting previously unselected package libnode108:arm64.
#6 3.616 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.617 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.906 Selecting previously unselected package netcat-openbsd.
#6 3.907 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.908 Unpacking netcat-openbsd (1.219-1) ...
#6 3.918 Selecting previously unselected package nodejs-doc.
#6 3.919 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.920 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.050 Selecting previously unselected package postgresql-client-common.
#6 4.051 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.052 Unpacking postgresql-client-common (248) ...
#6 4.062 Selecting previously unselected package postgresql-client-15.
#6 4.063 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.064 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.150 Selecting previously unselected package postgresql-client.
#6 4.151 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.152 Unpacking postgresql-client (15+248) ...
#6 4.164 Setting up postgresql-client-common (248) ...
#6 4.168 Setting up netcat-openbsd (1.219-1) ...
#6 4.172 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.174 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.309 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.321 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.324 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.326 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.328 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.331 Setting up node-xtend (4.0.2-3) ...
#6 4.333 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.335 Setting up postgresql-client (15+248) ...
#6 4.338 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.342 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.345 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.347 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.350 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.351 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.4s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.557 Successfully installed bundler-2.5.18
#11 1.557 1 gem installed
#11 DONE 1.6s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.31 Successfully installed zeitwerk-2.6.18
#12 12.31 Successfully installed thor-1.3.2
#12 12.31 Successfully installed webrick-1.8.1
#12 12.31 Successfully installed rack-3.1.7
#12 12.31 Successfully installed rackup-2.1.0
#12 12.31 Successfully installed concurrent-ruby-1.3.4
#12 12.31 Successfully installed tzinfo-2.0.6
#12 12.31 Successfully installed i18n-1.14.5
#12 12.31 Successfully installed connection_pool-2.4.1
#12 12.31 Successfully installed activesupport-7.1.0
#12 12.31 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.31 Successfully installed crass-1.0.6
#12 12.31 Successfully installed loofah-2.22.0
#12 12.31 Successfully installed rails-html-sanitizer-1.6.0
#12 12.31 Successfully installed rails-dom-testing-2.2.0
#12 12.31 Successfully installed rack-test-2.1.0
#12 12.31 Successfully installed rack-session-2.0.0
#12 12.31 Successfully installed erubi-1.13.0
#12 12.31 Successfully installed builder-3.3.0
#12 12.31 Successfully installed actionview-7.1.0
#12 12.31 Successfully installed actionpack-7.1.0
#12 12.31 Successfully installed railties-7.1.0
#12 12.31 Successfully installed marcel-1.0.4
#12 12.31 Successfully installed activemodel-7.1.0
#12 12.31 Successfully installed activerecord-7.1.0
#12 12.31 Successfully installed globalid-1.2.1
#12 12.31 Successfully installed activejob-7.1.0
#12 12.31 Successfully installed activestorage-7.1.0
#12 12.31 Successfully installed actiontext-7.1.0
#12 12.31 Successfully installed mini_mime-1.1.5
#12 12.31 Successfully installed mail-2.8.1
#12 12.31 Successfully installed actionmailer-7.1.0
#12 12.31 Successfully installed actionmailbox-7.1.0
#12 12.31 Successfully installed websocket-extensions-0.1.5
#12 12.31 Building native extensions. This could take a while...
#12 12.43 Successfully installed websocket-driver-0.7.6
#12 12.43 Building native extensions. This could take a while...
#12 13.98 Successfully installed nio4r-2.7.3
#12 13.98 Successfully installed actioncable-7.1.0
#12 13.98 Successfully installed rails-7.1.0
#12 13.98 38 gems installed
#12 DONE 14.0s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:8e59bebcabcdd3cec1bb25171ceedd1a97afd0fd2a69593e1a320678f3d68ab6
#15 writing image sha256:8e59bebcabcdd3cec1bb25171ceedd1a97afd0fd2a69593e1a320678f3d68ab6 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.51kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.992 Reading package lists...
#6 2.202 Building dependency tree...
#6 2.257 Reading state information...
#6 2.320 The following additional packages will be installed:
#6 2.320   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.321   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.321   postgresql-client-common
#6 2.321 Suggested packages:
#6 2.321   npm postgresql-15 postgresql-doc-15
#6 2.367 The following NEW packages will be installed:
#6 2.367   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.367   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.367   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.493 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.493 Need to get 15.9 MB of archives.
#6 2.493 After this operation, 75.6 MB of additional disk space will be used.
#6 2.493 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.633 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.659 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.661 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.762 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.771 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.774 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.775 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.817 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.238 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.239 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.375 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.376 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.444 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.560 debconf: delaying package configuration, since apt-utils is not installed
#6 3.570 Fetched 15.9 MB in 1s (14.8 MB/s)
#6 3.579 Selecting previously unselected package libc-ares2:arm64.
#6 3.579 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.589 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.591 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.604 Selecting previously unselected package libuv1:arm64.
#6 3.605 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.606 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.619 Selecting previously unselected package node-xtend.
#6 3.620 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.621 Unpacking node-xtend (4.0.2-3) ...
#6 3.630 Selecting previously unselected package nodejs.
#6 3.631 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.631 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.661 Selecting previously unselected package node-acorn.
#6 3.662 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.663 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.679 Selecting previously unselected package node-cjs-module-lexer.
#6 3.680 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.681 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.690 Selecting previously unselected package node-busboy.
#6 3.691 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.691 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.701 Selecting previously unselected package node-undici.
#6 3.702 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.704 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.727 Selecting previously unselected package libnode108:arm64.
#6 3.728 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.729 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.018 Selecting previously unselected package netcat-openbsd.
#6 4.019 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.020 Unpacking netcat-openbsd (1.219-1) ...
#6 4.030 Selecting previously unselected package nodejs-doc.
#6 4.030 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.031 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.164 Selecting previously unselected package postgresql-client-common.
#6 4.165 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.165 Unpacking postgresql-client-common (248) ...
#6 4.176 Selecting previously unselected package postgresql-client-15.
#6 4.177 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.178 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.265 Selecting previously unselected package postgresql-client.
#6 4.266 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.267 Unpacking postgresql-client (15+248) ...
#6 4.279 Setting up postgresql-client-common (248) ...
#6 4.283 Setting up netcat-openbsd (1.219-1) ...
#6 4.286 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.288 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.424 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.437 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.440 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.442 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.444 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.447 Setting up node-xtend (4.0.2-3) ...
#6 4.449 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.451 Setting up postgresql-client (15+248) ...
#6 4.454 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.458 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.460 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.463 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.466 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.467 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.475 Successfully installed bundler-2.5.18
#11 1.475 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.31 Successfully installed zeitwerk-2.6.18
#12 12.31 Successfully installed thor-1.3.2
#12 12.31 Successfully installed webrick-1.8.1
#12 12.31 Successfully installed rack-3.1.7
#12 12.31 Successfully installed rackup-2.1.0
#12 12.31 Successfully installed concurrent-ruby-1.3.4
#12 12.31 Successfully installed tzinfo-2.0.6
#12 12.31 Successfully installed i18n-1.14.5
#12 12.31 Successfully installed connection_pool-2.4.1
#12 12.31 Successfully installed activesupport-7.1.0
#12 12.31 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.31 Successfully installed crass-1.0.6
#12 12.31 Successfully installed loofah-2.22.0
#12 12.31 Successfully installed rails-html-sanitizer-1.6.0
#12 12.31 Successfully installed rails-dom-testing-2.2.0
#12 12.31 Successfully installed rack-test-2.1.0
#12 12.31 Successfully installed rack-session-2.0.0
#12 12.31 Successfully installed erubi-1.13.0
#12 12.31 Successfully installed builder-3.3.0
#12 12.31 Successfully installed actionview-7.1.0
#12 12.31 Successfully installed actionpack-7.1.0
#12 12.31 Successfully installed railties-7.1.0
#12 12.31 Successfully installed marcel-1.0.4
#12 12.31 Successfully installed activemodel-7.1.0
#12 12.31 Successfully installed activerecord-7.1.0
#12 12.31 Successfully installed globalid-1.2.1
#12 12.31 Successfully installed activejob-7.1.0
#12 12.31 Successfully installed activestorage-7.1.0
#12 12.31 Successfully installed actiontext-7.1.0
#12 12.31 Successfully installed mini_mime-1.1.5
#12 12.31 Successfully installed mail-2.8.1
#12 12.31 Successfully installed actionmailer-7.1.0
#12 12.31 Successfully installed actionmailbox-7.1.0
#12 12.31 Successfully installed websocket-extensions-0.1.5
#12 12.31 Building native extensions. This could take a while...
#12 12.44 Successfully installed websocket-driver-0.7.6
#12 12.44 Building native extensions. This could take a while...
#12 13.98 Successfully installed nio4r-2.7.3
#12 13.98 Successfully installed actioncable-7.1.0
#12 13.98 Successfully installed rails-7.1.0
#12 13.98 38 gems installed
#12 DONE 14.0s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:323136327c60142f27d11d65449af5639c453cb999bce49ad18db8725038b155
#15 writing image sha256:323136327c60142f27d11d65449af5639c453cb999bce49ad18db8725038b155 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 639B done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.931 Reading package lists...
#6 2.156 Building dependency tree...
#6 2.217 Reading state information...
#6 2.282 The following additional packages will be installed:
#6 2.282   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.282   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.283   postgresql-client-common
#6 2.283 Suggested packages:
#6 2.283   npm postgresql-15 postgresql-doc-15
#6 2.330 The following NEW packages will be installed:
#6 2.330   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.330   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.330   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.461 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.461 Need to get 15.9 MB of archives.
#6 2.461 After this operation, 75.6 MB of additional disk space will be used.
#6 2.461 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.601 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.626 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.627 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.732 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.739 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.741 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.742 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.784 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.266 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.267 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.391 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.392 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.453 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.566 debconf: delaying package configuration, since apt-utils is not installed
#6 3.577 Fetched 15.9 MB in 1s (14.2 MB/s)
#6 3.585 Selecting previously unselected package libc-ares2:arm64.
#6 3.585 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.595 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.596 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.610 Selecting previously unselected package libuv1:arm64.
#6 3.611 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.612 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.624 Selecting previously unselected package node-xtend.
#6 3.625 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.626 Unpacking node-xtend (4.0.2-3) ...
#6 3.635 Selecting previously unselected package nodejs.
#6 3.635 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.636 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.666 Selecting previously unselected package node-acorn.
#6 3.667 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.668 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.684 Selecting previously unselected package node-cjs-module-lexer.
#6 3.685 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.686 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.695 Selecting previously unselected package node-busboy.
#6 3.696 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.697 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.707 Selecting previously unselected package node-undici.
#6 3.708 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.710 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.733 Selecting previously unselected package libnode108:arm64.
#6 3.734 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.735 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.027 Selecting previously unselected package netcat-openbsd.
#6 4.028 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.029 Unpacking netcat-openbsd (1.219-1) ...
#6 4.039 Selecting previously unselected package nodejs-doc.
#6 4.040 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.041 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.172 Selecting previously unselected package postgresql-client-common.
#6 4.173 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.174 Unpacking postgresql-client-common (248) ...
#6 4.185 Selecting previously unselected package postgresql-client-15.
#6 4.186 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.187 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.273 Selecting previously unselected package postgresql-client.
#6 4.274 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.275 Unpacking postgresql-client (15+248) ...
#6 4.287 Setting up postgresql-client-common (248) ...
#6 4.291 Setting up netcat-openbsd (1.219-1) ...
#6 4.294 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.296 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.431 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.444 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.446 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.449 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.451 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.453 Setting up node-xtend (4.0.2-3) ...
#6 4.455 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.458 Setting up postgresql-client (15+248) ...
#6 4.460 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.464 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.466 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.469 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.472 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.474 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.469 Successfully installed bundler-2.5.18
#11 1.469 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.19 Successfully installed zeitwerk-2.6.18
#12 12.19 Successfully installed thor-1.3.2
#12 12.19 Successfully installed webrick-1.8.1
#12 12.19 Successfully installed rack-3.1.7
#12 12.19 Successfully installed rackup-2.1.0
#12 12.19 Successfully installed concurrent-ruby-1.3.4
#12 12.19 Successfully installed tzinfo-2.0.6
#12 12.19 Successfully installed i18n-1.14.5
#12 12.19 Successfully installed connection_pool-2.4.1
#12 12.19 Successfully installed activesupport-7.1.0
#12 12.19 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.19 Successfully installed crass-1.0.6
#12 12.19 Successfully installed loofah-2.22.0
#12 12.19 Successfully installed rails-html-sanitizer-1.6.0
#12 12.19 Successfully installed rails-dom-testing-2.2.0
#12 12.19 Successfully installed rack-test-2.1.0
#12 12.19 Successfully installed rack-session-2.0.0
#12 12.19 Successfully installed erubi-1.13.0
#12 12.19 Successfully installed builder-3.3.0
#12 12.19 Successfully installed actionview-7.1.0
#12 12.19 Successfully installed actionpack-7.1.0
#12 12.19 Successfully installed railties-7.1.0
#12 12.19 Successfully installed marcel-1.0.4
#12 12.19 Successfully installed activemodel-7.1.0
#12 12.19 Successfully installed activerecord-7.1.0
#12 12.19 Successfully installed globalid-1.2.1
#12 12.19 Successfully installed activejob-7.1.0
#12 12.19 Successfully installed activestorage-7.1.0
#12 12.19 Successfully installed actiontext-7.1.0
#12 12.19 Successfully installed mini_mime-1.1.5
#12 12.19 Successfully installed mail-2.8.1
#12 12.19 Successfully installed actionmailer-7.1.0
#12 12.19 Successfully installed actionmailbox-7.1.0
#12 12.19 Successfully installed websocket-extensions-0.1.5
#12 12.19 Building native extensions. This could take a while...
#12 12.31 Successfully installed websocket-driver-0.7.6
#12 12.31 Building native extensions. This could take a while...
#12 13.82 Successfully installed nio4r-2.7.3
#12 13.82 Successfully installed actioncable-7.1.0
#12 13.82 Successfully installed rails-7.1.0
#12 13.82 38 gems installed
#12 DONE 13.9s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:96818bbf472d2c926b70b1d7cad70d7718cf29e449c89592d715b5c1b3e8f0ba done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.12kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.066 Reading package lists...
#6 2.283 Building dependency tree...
#6 2.339 Reading state information...
#6 2.404 The following additional packages will be installed:
#6 2.405   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.405   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.405   postgresql-client-common
#6 2.405 Suggested packages:
#6 2.405   npm postgresql-15 postgresql-doc-15
#6 2.454 The following NEW packages will be installed:
#6 2.454   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.454   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.454   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.580 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.580 Need to get 15.9 MB of archives.
#6 2.580 After this operation, 75.6 MB of additional disk space will be used.
#6 2.580 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.722 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.746 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.747 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.849 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.859 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.861 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.863 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.903 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.342 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.344 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.457 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.457 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.519 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.633 debconf: delaying package configuration, since apt-utils is not installed
#6 3.644 Fetched 15.9 MB in 1s (14.9 MB/s)
#6 3.653 Selecting previously unselected package libc-ares2:arm64.
#6 3.653 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.663 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.665 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.678 Selecting previously unselected package libuv1:arm64.
#6 3.679 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.680 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.694 Selecting previously unselected package node-xtend.
#6 3.695 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.695 Unpacking node-xtend (4.0.2-3) ...
#6 3.704 Selecting previously unselected package nodejs.
#6 3.705 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.706 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.737 Selecting previously unselected package node-acorn.
#6 3.738 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.739 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.756 Selecting previously unselected package node-cjs-module-lexer.
#6 3.757 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.758 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.767 Selecting previously unselected package node-busboy.
#6 3.768 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.769 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.779 Selecting previously unselected package node-undici.
#6 3.780 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.783 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.805 Selecting previously unselected package libnode108:arm64.
#6 3.806 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.807 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.105 Selecting previously unselected package netcat-openbsd.
#6 4.106 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.107 Unpacking netcat-openbsd (1.219-1) ...
#6 4.117 Selecting previously unselected package nodejs-doc.
#6 4.118 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.119 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.259 Selecting previously unselected package postgresql-client-common.
#6 4.261 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.262 Unpacking postgresql-client-common (248) ...
#6 4.278 Selecting previously unselected package postgresql-client-15.
#6 4.279 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.280 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.374 Selecting previously unselected package postgresql-client.
#6 4.376 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.377 Unpacking postgresql-client (15+248) ...
#6 4.391 Setting up postgresql-client-common (248) ...
#6 4.396 Setting up netcat-openbsd (1.219-1) ...
#6 4.400 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.402 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.555 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.570 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.573 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.576 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.579 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.581 Setting up node-xtend (4.0.2-3) ...
#6 4.584 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.587 Setting up postgresql-client (15+248) ...
#6 4.590 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.595 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.598 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.601 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.604 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.606 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.281 Successfully installed bundler-2.5.18
#11 1.281 1 gem installed
#11 DONE 1.3s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.54 Successfully installed zeitwerk-2.6.18
#12 12.54 Successfully installed thor-1.3.2
#12 12.54 Successfully installed webrick-1.8.1
#12 12.54 Successfully installed rack-3.1.7
#12 12.54 Successfully installed rackup-2.1.0
#12 12.54 Successfully installed concurrent-ruby-1.3.4
#12 12.54 Successfully installed tzinfo-2.0.6
#12 12.54 Successfully installed i18n-1.14.5
#12 12.54 Successfully installed connection_pool-2.4.1
#12 12.54 Successfully installed activesupport-7.1.0
#12 12.54 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.54 Successfully installed crass-1.0.6
#12 12.54 Successfully installed loofah-2.22.0
#12 12.54 Successfully installed rails-html-sanitizer-1.6.0
#12 12.54 Successfully installed rails-dom-testing-2.2.0
#12 12.54 Successfully installed rack-test-2.1.0
#12 12.54 Successfully installed rack-session-2.0.0
#12 12.54 Successfully installed erubi-1.13.0
#12 12.54 Successfully installed builder-3.3.0
#12 12.54 Successfully installed actionview-7.1.0
#12 12.54 Successfully installed actionpack-7.1.0
#12 12.54 Successfully installed railties-7.1.0
#12 12.54 Successfully installed marcel-1.0.4
#12 12.54 Successfully installed activemodel-7.1.0
#12 12.54 Successfully installed activerecord-7.1.0
#12 12.54 Successfully installed globalid-1.2.1
#12 12.54 Successfully installed activejob-7.1.0
#12 12.54 Successfully installed activestorage-7.1.0
#12 12.54 Successfully installed actiontext-7.1.0
#12 12.54 Successfully installed mini_mime-1.1.5
#12 12.54 Successfully installed mail-2.8.1
#12 12.54 Successfully installed actionmailer-7.1.0
#12 12.54 Successfully installed actionmailbox-7.1.0
#12 12.54 Successfully installed websocket-extensions-0.1.5
#12 12.54 Building native extensions. This could take a while...
#12 12.66 Successfully installed websocket-driver-0.7.6
#12 12.66 Building native extensions. This could take a while...
#12 14.17 Successfully installed nio4r-2.7.3
#12 14.17 Successfully installed actioncable-7.1.0
#12 14.17 Successfully installed rails-7.1.0
#12 14.17 38 gems installed
#12 DONE 14.2s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:ea6f955110a15ca53f0a6b279cc5e48a9afffebe7b211d2898eead036ed94285
#15 writing image sha256:ea6f955110a15ca53f0a6b279cc5e48a9afffebe7b211d2898eead036ed94285 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.48kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.942 Reading package lists...
#6 2.156 Building dependency tree...
#6 2.211 Reading state information...
#6 2.276 The following additional packages will be installed:
#6 2.276   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.276   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.276   postgresql-client-common
#6 2.277 Suggested packages:
#6 2.277   npm postgresql-15 postgresql-doc-15
#6 2.323 The following NEW packages will be installed:
#6 2.323   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.323   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.323   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.511 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.511 Need to get 15.9 MB of archives.
#6 2.511 After this operation, 75.6 MB of additional disk space will be used.
#6 2.511 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.661 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.687 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.687 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.791 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.795 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.797 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.799 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.835 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.332 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.340 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.556 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.557 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.641 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.748 debconf: delaying package configuration, since apt-utils is not installed
#6 3.759 Fetched 15.9 MB in 1s (12.1 MB/s)
#6 3.768 Selecting previously unselected package libc-ares2:arm64.
#6 3.768 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.779 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.780 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.794 Selecting previously unselected package libuv1:arm64.
#6 3.795 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.796 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.809 Selecting previously unselected package node-xtend.
#6 3.810 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.811 Unpacking node-xtend (4.0.2-3) ...
#6 3.819 Selecting previously unselected package nodejs.
#6 3.820 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.821 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.853 Selecting previously unselected package node-acorn.
#6 3.854 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.855 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.872 Selecting previously unselected package node-cjs-module-lexer.
#6 3.873 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.874 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.883 Selecting previously unselected package node-busboy.
#6 3.884 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.885 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.894 Selecting previously unselected package node-undici.
#6 3.895 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.898 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.921 Selecting previously unselected package libnode108:arm64.
#6 3.922 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.923 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.222 Selecting previously unselected package netcat-openbsd.
#6 4.223 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.224 Unpacking netcat-openbsd (1.219-1) ...
#6 4.234 Selecting previously unselected package nodejs-doc.
#6 4.235 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.236 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.375 Selecting previously unselected package postgresql-client-common.
#6 4.376 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.377 Unpacking postgresql-client-common (248) ...
#6 4.387 Selecting previously unselected package postgresql-client-15.
#6 4.388 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.389 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.480 Selecting previously unselected package postgresql-client.
#6 4.481 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.482 Unpacking postgresql-client (15+248) ...
#6 4.494 Setting up postgresql-client-common (248) ...
#6 4.498 Setting up netcat-openbsd (1.219-1) ...
#6 4.501 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.503 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.651 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.665 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.668 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.670 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.672 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.674 Setting up node-xtend (4.0.2-3) ...
#6 4.677 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.679 Setting up postgresql-client (15+248) ...
#6 4.681 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.686 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.688 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.691 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.693 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.695 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.695 Successfully installed bundler-2.5.18
#11 1.695 1 gem installed
#11 DONE 1.7s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 11.99 Successfully installed zeitwerk-2.6.18
#12 11.99 Successfully installed thor-1.3.2
#12 11.99 Successfully installed webrick-1.8.1
#12 11.99 Successfully installed rack-3.1.7
#12 11.99 Successfully installed rackup-2.1.0
#12 11.99 Successfully installed concurrent-ruby-1.3.4
#12 11.99 Successfully installed tzinfo-2.0.6
#12 11.99 Successfully installed i18n-1.14.5
#12 11.99 Successfully installed connection_pool-2.4.1
#12 11.99 Successfully installed activesupport-7.1.0
#12 11.99 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 11.99 Successfully installed crass-1.0.6
#12 11.99 Successfully installed loofah-2.22.0
#12 11.99 Successfully installed rails-html-sanitizer-1.6.0
#12 11.99 Successfully installed rails-dom-testing-2.2.0
#12 11.99 Successfully installed rack-test-2.1.0
#12 11.99 Successfully installed rack-session-2.0.0
#12 11.99 Successfully installed erubi-1.13.0
#12 11.99 Successfully installed builder-3.3.0
#12 11.99 Successfully installed actionview-7.1.0
#12 11.99 Successfully installed actionpack-7.1.0
#12 11.99 Successfully installed railties-7.1.0
#12 11.99 Successfully installed marcel-1.0.4
#12 11.99 Successfully installed activemodel-7.1.0
#12 11.99 Successfully installed activerecord-7.1.0
#12 11.99 Successfully installed globalid-1.2.1
#12 11.99 Successfully installed activejob-7.1.0
#12 11.99 Successfully installed activestorage-7.1.0
#12 11.99 Successfully installed actiontext-7.1.0
#12 11.99 Successfully installed mini_mime-1.1.5
#12 11.99 Successfully installed mail-2.8.1
#12 11.99 Successfully installed actionmailer-7.1.0
#12 11.99 Successfully installed actionmailbox-7.1.0
#12 11.99 Successfully installed websocket-extensions-0.1.5
#12 11.99 Building native extensions. This could take a while...
#12 12.11 Successfully installed websocket-driver-0.7.6
#12 12.11 Building native extensions. This could take a while...
#12 13.63 Successfully installed nio4r-2.7.3
#12 13.63 Successfully installed actioncable-7.1.0
#12 13.63 Successfully installed rails-7.1.0
#12 13.63 38 gems installed
#12 DONE 13.7s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:312c61e609725207c35d87b8e1d6dc05a3d58ee45cc089ae275003e8f735cca0 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.12kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.047 Reading package lists...
#6 2.266 Building dependency tree...
#6 2.322 Reading state information...
#6 2.388 The following additional packages will be installed:
#6 2.388   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.388   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.388   postgresql-client-common
#6 2.389 Suggested packages:
#6 2.389   npm postgresql-15 postgresql-doc-15
#6 2.434 The following NEW packages will be installed:
#6 2.434   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.434   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.435   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.563 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.563 Need to get 15.9 MB of archives.
#6 2.563 After this operation, 75.6 MB of additional disk space will be used.
#6 2.563 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.705 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.733 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.733 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.833 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.843 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.845 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.846 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.889 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.375 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.376 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.489 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.490 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.550 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.656 debconf: delaying package configuration, since apt-utils is not installed
#6 3.666 Fetched 15.9 MB in 1s (14.3 MB/s)
#6 3.675 Selecting previously unselected package libc-ares2:arm64.
#6 3.675 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.684 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.686 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.699 Selecting previously unselected package libuv1:arm64.
#6 3.700 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.701 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.714 Selecting previously unselected package node-xtend.
#6 3.715 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.716 Unpacking node-xtend (4.0.2-3) ...
#6 3.724 Selecting previously unselected package nodejs.
#6 3.725 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.725 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.756 Selecting previously unselected package node-acorn.
#6 3.757 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.758 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.774 Selecting previously unselected package node-cjs-module-lexer.
#6 3.775 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.776 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.786 Selecting previously unselected package node-busboy.
#6 3.787 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.788 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.798 Selecting previously unselected package node-undici.
#6 3.799 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.801 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.824 Selecting previously unselected package libnode108:arm64.
#6 3.825 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.826 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.110 Selecting previously unselected package netcat-openbsd.
#6 4.111 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.112 Unpacking netcat-openbsd (1.219-1) ...
#6 4.122 Selecting previously unselected package nodejs-doc.
#6 4.123 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.124 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.257 Selecting previously unselected package postgresql-client-common.
#6 4.258 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.259 Unpacking postgresql-client-common (248) ...
#6 4.270 Selecting previously unselected package postgresql-client-15.
#6 4.271 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.272 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.359 Selecting previously unselected package postgresql-client.
#6 4.360 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.361 Unpacking postgresql-client (15+248) ...
#6 4.373 Setting up postgresql-client-common (248) ...
#6 4.377 Setting up netcat-openbsd (1.219-1) ...
#6 4.381 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.382 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.520 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.533 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.536 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.538 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.541 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.543 Setting up node-xtend (4.0.2-3) ...
#6 4.545 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.548 Setting up postgresql-client (15+248) ...
#6 4.550 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.554 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.556 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.559 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.561 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.563 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.459 Successfully installed bundler-2.5.18
#11 1.459 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.70 Successfully installed zeitwerk-2.6.18
#12 12.70 Successfully installed thor-1.3.2
#12 12.70 Successfully installed webrick-1.8.1
#12 12.70 Successfully installed rack-3.1.7
#12 12.70 Successfully installed rackup-2.1.0
#12 12.70 Successfully installed concurrent-ruby-1.3.4
#12 12.70 Successfully installed tzinfo-2.0.6
#12 12.70 Successfully installed i18n-1.14.5
#12 12.70 Successfully installed connection_pool-2.4.1
#12 12.70 Successfully installed activesupport-7.1.0
#12 12.70 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.70 Successfully installed crass-1.0.6
#12 12.70 Successfully installed loofah-2.22.0
#12 12.70 Successfully installed rails-html-sanitizer-1.6.0
#12 12.70 Successfully installed rails-dom-testing-2.2.0
#12 12.70 Successfully installed rack-test-2.1.0
#12 12.70 Successfully installed rack-session-2.0.0
#12 12.70 Successfully installed erubi-1.13.0
#12 12.70 Successfully installed builder-3.3.0
#12 12.70 Successfully installed actionview-7.1.0
#12 12.70 Successfully installed actionpack-7.1.0
#12 12.70 Successfully installed railties-7.1.0
#12 12.70 Successfully installed marcel-1.0.4
#12 12.70 Successfully installed activemodel-7.1.0
#12 12.70 Successfully installed activerecord-7.1.0
#12 12.70 Successfully installed globalid-1.2.1
#12 12.70 Successfully installed activejob-7.1.0
#12 12.70 Successfully installed activestorage-7.1.0
#12 12.70 Successfully installed actiontext-7.1.0
#12 12.70 Successfully installed mini_mime-1.1.5
#12 12.70 Successfully installed mail-2.8.1
#12 12.70 Successfully installed actionmailer-7.1.0
#12 12.70 Successfully installed actionmailbox-7.1.0
#12 12.70 Successfully installed websocket-extensions-0.1.5
#12 12.70 Building native extensions. This could take a while...
#12 12.83 Successfully installed websocket-driver-0.7.6
#12 12.83 Building native extensions. This could take a while...
#12 14.43 Successfully installed nio4r-2.7.3
#12 14.43 Successfully installed actioncable-7.1.0
#12 14.43 Successfully installed rails-7.1.0
#12 14.43 38 gems installed
#12 DONE 14.5s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:451f1fd33ad851047760b4aa28af985525fa8940e89c09659ba4d2716936278b done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.09kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.030 Reading package lists...
#6 2.251 Building dependency tree...
#6 2.307 Reading state information...
#6 2.374 The following additional packages will be installed:
#6 2.374   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.374   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.374   postgresql-client-common
#6 2.374 Suggested packages:
#6 2.374   npm postgresql-15 postgresql-doc-15
#6 2.422 The following NEW packages will be installed:
#6 2.422   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.422   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.422   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.549 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.549 Need to get 15.9 MB of archives.
#6 2.549 After this operation, 75.6 MB of additional disk space will be used.
#6 2.549 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.691 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.717 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.718 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.823 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.828 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.830 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.831 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.875 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.348 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.350 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.506 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.508 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.568 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.687 debconf: delaying package configuration, since apt-utils is not installed
#6 3.697 Fetched 15.9 MB in 1s (13.9 MB/s)
#6 3.707 Selecting previously unselected package libc-ares2:arm64.
#6 3.707 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.718 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.720 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.733 Selecting previously unselected package libuv1:arm64.
#6 3.734 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.735 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.748 Selecting previously unselected package node-xtend.
#6 3.749 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.750 Unpacking node-xtend (4.0.2-3) ...
#6 3.759 Selecting previously unselected package nodejs.
#6 3.760 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.761 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.795 Selecting previously unselected package node-acorn.
#6 3.796 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.797 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.815 Selecting previously unselected package node-cjs-module-lexer.
#6 3.816 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.816 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.825 Selecting previously unselected package node-busboy.
#6 3.826 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.827 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.838 Selecting previously unselected package node-undici.
#6 3.839 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.841 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.865 Selecting previously unselected package libnode108:arm64.
#6 3.866 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.867 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.167 Selecting previously unselected package netcat-openbsd.
#6 4.168 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.169 Unpacking netcat-openbsd (1.219-1) ...
#6 4.179 Selecting previously unselected package nodejs-doc.
#6 4.180 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.180 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.311 Selecting previously unselected package postgresql-client-common.
#6 4.312 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.313 Unpacking postgresql-client-common (248) ...
#6 4.323 Selecting previously unselected package postgresql-client-15.
#6 4.324 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.325 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.412 Selecting previously unselected package postgresql-client.
#6 4.413 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.414 Unpacking postgresql-client (15+248) ...
#6 4.426 Setting up postgresql-client-common (248) ...
#6 4.430 Setting up netcat-openbsd (1.219-1) ...
#6 4.434 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.435 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.573 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.589 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.591 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.594 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.597 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.599 Setting up node-xtend (4.0.2-3) ...
#6 4.601 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.603 Setting up postgresql-client (15+248) ...
#6 4.606 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.610 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.613 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.615 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.617 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.619 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.294 Successfully installed bundler-2.5.18
#11 1.294 1 gem installed
#11 DONE 1.3s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 13.11 Successfully installed zeitwerk-2.6.18
#12 13.11 Successfully installed thor-1.3.2
#12 13.11 Successfully installed webrick-1.8.1
#12 13.11 Successfully installed rack-3.1.7
#12 13.11 Successfully installed rackup-2.1.0
#12 13.11 Successfully installed concurrent-ruby-1.3.4
#12 13.11 Successfully installed tzinfo-2.0.6
#12 13.11 Successfully installed i18n-1.14.5
#12 13.11 Successfully installed connection_pool-2.4.1
#12 13.11 Successfully installed activesupport-7.1.0
#12 13.11 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 13.11 Successfully installed crass-1.0.6
#12 13.11 Successfully installed loofah-2.22.0
#12 13.11 Successfully installed rails-html-sanitizer-1.6.0
#12 13.11 Successfully installed rails-dom-testing-2.2.0
#12 13.11 Successfully installed rack-test-2.1.0
#12 13.11 Successfully installed rack-session-2.0.0
#12 13.11 Successfully installed erubi-1.13.0
#12 13.11 Successfully installed builder-3.3.0
#12 13.11 Successfully installed actionview-7.1.0
#12 13.11 Successfully installed actionpack-7.1.0
#12 13.11 Successfully installed railties-7.1.0
#12 13.11 Successfully installed marcel-1.0.4
#12 13.11 Successfully installed activemodel-7.1.0
#12 13.11 Successfully installed activerecord-7.1.0
#12 13.11 Successfully installed globalid-1.2.1
#12 13.11 Successfully installed activejob-7.1.0
#12 13.11 Successfully installed activestorage-7.1.0
#12 13.11 Successfully installed actiontext-7.1.0
#12 13.11 Successfully installed mini_mime-1.1.5
#12 13.11 Successfully installed mail-2.8.1
#12 13.11 Successfully installed actionmailer-7.1.0
#12 13.11 Successfully installed actionmailbox-7.1.0
#12 13.11 Successfully installed websocket-extensions-0.1.5
#12 13.11 Building native extensions. This could take a while...
#12 13.24 Successfully installed websocket-driver-0.7.6
#12 13.24 Building native extensions. This could take a while...
#12 14.74 Successfully installed nio4r-2.7.3
#12 14.74 Successfully installed actioncable-7.1.0
#12 14.74 Successfully installed rails-7.1.0
#12 14.74 38 gems installed
#12 DONE 14.8s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:29d01fa555ed2d07440b4b5c934757d7e49cbab7760a82024e5dad6e6599634a done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.30kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.915 Reading package lists...
#6 2.131 Building dependency tree...
#6 2.188 Reading state information...
#6 2.252 The following additional packages will be installed:
#6 2.252   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.252   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.252   postgresql-client-common
#6 2.253 Suggested packages:
#6 2.253   npm postgresql-15 postgresql-doc-15
#6 2.300 The following NEW packages will be installed:
#6 2.301   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.301   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.301   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.430 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.430 Need to get 15.9 MB of archives.
#6 2.430 After this operation, 75.6 MB of additional disk space will be used.
#6 2.430 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.570 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.637 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.637 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.709 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.720 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.722 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.747 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.768 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.304 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.306 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.350 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.350 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.456 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.569 debconf: delaying package configuration, since apt-utils is not installed
#6 3.579 Fetched 15.9 MB in 1s (13.8 MB/s)
#6 3.587 Selecting previously unselected package libc-ares2:arm64.
#6 3.587 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.597 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.599 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.613 Selecting previously unselected package libuv1:arm64.
#6 3.614 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.614 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.627 Selecting previously unselected package node-xtend.
#6 3.628 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.629 Unpacking node-xtend (4.0.2-3) ...
#6 3.638 Selecting previously unselected package nodejs.
#6 3.638 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.640 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.670 Selecting previously unselected package node-acorn.
#6 3.672 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.673 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.689 Selecting previously unselected package node-cjs-module-lexer.
#6 3.690 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.691 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.700 Selecting previously unselected package node-busboy.
#6 3.701 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.702 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.711 Selecting previously unselected package node-undici.
#6 3.712 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.715 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.737 Selecting previously unselected package libnode108:arm64.
#6 3.738 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.739 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.030 Selecting previously unselected package netcat-openbsd.
#6 4.031 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.032 Unpacking netcat-openbsd (1.219-1) ...
#6 4.042 Selecting previously unselected package nodejs-doc.
#6 4.043 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.044 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.173 Selecting previously unselected package postgresql-client-common.
#6 4.175 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.176 Unpacking postgresql-client-common (248) ...
#6 4.186 Selecting previously unselected package postgresql-client-15.
#6 4.187 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.188 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.275 Selecting previously unselected package postgresql-client.
#6 4.276 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.277 Unpacking postgresql-client (15+248) ...
#6 4.288 Setting up postgresql-client-common (248) ...
#6 4.292 Setting up netcat-openbsd (1.219-1) ...
#6 4.296 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.297 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.434 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.447 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.450 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.452 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.455 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.457 Setting up node-xtend (4.0.2-3) ...
#6 4.459 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.462 Setting up postgresql-client (15+248) ...
#6 4.464 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.468 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.470 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.473 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.475 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.477 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 2.289 Successfully installed bundler-2.5.18
#11 2.289 1 gem installed
#11 DONE 2.3s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.72 Successfully installed zeitwerk-2.6.18
#12 12.72 Successfully installed thor-1.3.2
#12 12.72 Successfully installed webrick-1.8.1
#12 12.72 Successfully installed rack-3.1.7
#12 12.72 Successfully installed rackup-2.1.0
#12 12.72 Successfully installed concurrent-ruby-1.3.4
#12 12.72 Successfully installed tzinfo-2.0.6
#12 12.72 Successfully installed i18n-1.14.5
#12 12.72 Successfully installed connection_pool-2.4.1
#12 12.72 Successfully installed activesupport-7.1.0
#12 12.72 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.72 Successfully installed crass-1.0.6
#12 12.72 Successfully installed loofah-2.22.0
#12 12.72 Successfully installed rails-html-sanitizer-1.6.0
#12 12.72 Successfully installed rails-dom-testing-2.2.0
#12 12.72 Successfully installed rack-test-2.1.0
#12 12.72 Successfully installed rack-session-2.0.0
#12 12.72 Successfully installed erubi-1.13.0
#12 12.72 Successfully installed builder-3.3.0
#12 12.72 Successfully installed actionview-7.1.0
#12 12.72 Successfully installed actionpack-7.1.0
#12 12.72 Successfully installed railties-7.1.0
#12 12.72 Successfully installed marcel-1.0.4
#12 12.72 Successfully installed activemodel-7.1.0
#12 12.72 Successfully installed activerecord-7.1.0
#12 12.72 Successfully installed globalid-1.2.1
#12 12.72 Successfully installed activejob-7.1.0
#12 12.72 Successfully installed activestorage-7.1.0
#12 12.72 Successfully installed actiontext-7.1.0
#12 12.72 Successfully installed mini_mime-1.1.5
#12 12.72 Successfully installed mail-2.8.1
#12 12.72 Successfully installed actionmailer-7.1.0
#12 12.72 Successfully installed actionmailbox-7.1.0
#12 12.72 Successfully installed websocket-extensions-0.1.5
#12 12.72 Building native extensions. This could take a while...
#12 12.84 Successfully installed websocket-driver-0.7.6
#12 12.84 Building native extensions. This could take a while...
#12 14.39 Successfully installed nio4r-2.7.3
#12 14.39 Successfully installed actioncable-7.1.0
#12 14.39 Successfully installed rails-7.1.0
#12 14.39 38 gems installed
#12 DONE 14.4s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:29577abbe80f5d0e25dc5c3d0cfe7fac16b96066f3fd455b65e64a2e96c5980b
#15 writing image sha256:29577abbe80f5d0e25dc5c3d0cfe7fac16b96066f3fd455b65e64a2e96c5980b done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.3s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.13kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.014 Reading package lists...
#6 2.227 Building dependency tree...
#6 2.283 Reading state information...
#6 2.348 The following additional packages will be installed:
#6 2.349   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.349   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.349   postgresql-client-common
#6 2.349 Suggested packages:
#6 2.349   npm postgresql-15 postgresql-doc-15
#6 2.395 The following NEW packages will be installed:
#6 2.395   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.395   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.395   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.525 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.525 Need to get 15.9 MB of archives.
#6 2.525 After this operation, 75.6 MB of additional disk space will be used.
#6 2.525 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.664 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.693 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.693 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.792 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.799 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.803 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.805 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.845 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.258 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.260 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.351 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.353 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.418 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.537 debconf: delaying package configuration, since apt-utils is not installed
#6 3.547 Fetched 15.9 MB in 1s (15.5 MB/s)
#6 3.556 Selecting previously unselected package libc-ares2:arm64.
#6 3.556 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.565 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.567 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.580 Selecting previously unselected package libuv1:arm64.
#6 3.581 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.582 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.595 Selecting previously unselected package node-xtend.
#6 3.596 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.597 Unpacking node-xtend (4.0.2-3) ...
#6 3.606 Selecting previously unselected package nodejs.
#6 3.606 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.607 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.637 Selecting previously unselected package node-acorn.
#6 3.638 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.639 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.655 Selecting previously unselected package node-cjs-module-lexer.
#6 3.656 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.657 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.667 Selecting previously unselected package node-busboy.
#6 3.667 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.668 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.678 Selecting previously unselected package node-undici.
#6 3.678 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.681 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.704 Selecting previously unselected package libnode108:arm64.
#6 3.705 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.706 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.990 Selecting previously unselected package netcat-openbsd.
#6 3.991 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.992 Unpacking netcat-openbsd (1.219-1) ...
#6 4.001 Selecting previously unselected package nodejs-doc.
#6 4.002 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.003 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.131 Selecting previously unselected package postgresql-client-common.
#6 4.132 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.133 Unpacking postgresql-client-common (248) ...
#6 4.143 Selecting previously unselected package postgresql-client-15.
#6 4.143 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.144 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.231 Selecting previously unselected package postgresql-client.
#6 4.232 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.233 Unpacking postgresql-client (15+248) ...
#6 4.244 Setting up postgresql-client-common (248) ...
#6 4.248 Setting up netcat-openbsd (1.219-1) ...
#6 4.252 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.253 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.389 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.402 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.405 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.407 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.409 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.412 Setting up node-xtend (4.0.2-3) ...
#6 4.416 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.418 Setting up postgresql-client (15+248) ...
#6 4.420 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.425 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.427 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.429 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.432 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.434 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.377 Successfully installed bundler-2.5.18
#11 1.377 1 gem installed
#11 DONE 1.4s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.60 Successfully installed zeitwerk-2.6.18
#12 12.60 Successfully installed thor-1.3.2
#12 12.60 Successfully installed webrick-1.8.1
#12 12.60 Successfully installed rack-3.1.7
#12 12.60 Successfully installed rackup-2.1.0
#12 12.60 Successfully installed concurrent-ruby-1.3.4
#12 12.60 Successfully installed tzinfo-2.0.6
#12 12.60 Successfully installed i18n-1.14.5
#12 12.60 Successfully installed connection_pool-2.4.1
#12 12.60 Successfully installed activesupport-7.1.0
#12 12.60 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.60 Successfully installed crass-1.0.6
#12 12.60 Successfully installed loofah-2.22.0
#12 12.60 Successfully installed rails-html-sanitizer-1.6.0
#12 12.60 Successfully installed rails-dom-testing-2.2.0
#12 12.60 Successfully installed rack-test-2.1.0
#12 12.60 Successfully installed rack-session-2.0.0
#12 12.60 Successfully installed erubi-1.13.0
#12 12.60 Successfully installed builder-3.3.0
#12 12.60 Successfully installed actionview-7.1.0
#12 12.60 Successfully installed actionpack-7.1.0
#12 12.60 Successfully installed railties-7.1.0
#12 12.60 Successfully installed marcel-1.0.4
#12 12.60 Successfully installed activemodel-7.1.0
#12 12.60 Successfully installed activerecord-7.1.0
#12 12.60 Successfully installed globalid-1.2.1
#12 12.60 Successfully installed activejob-7.1.0
#12 12.60 Successfully installed activestorage-7.1.0
#12 12.60 Successfully installed actiontext-7.1.0
#12 12.60 Successfully installed mini_mime-1.1.5
#12 12.60 Successfully installed mail-2.8.1
#12 12.60 Successfully installed actionmailer-7.1.0
#12 12.60 Successfully installed actionmailbox-7.1.0
#12 12.60 Successfully installed websocket-extensions-0.1.5
#12 12.60 Building native extensions. This could take a while...
#12 12.72 Successfully installed websocket-driver-0.7.6
#12 12.72 Building native extensions. This could take a while...
#12 14.24 Successfully installed nio4r-2.7.3
#12 14.24 Successfully installed actioncable-7.1.0
#12 14.24 Successfully installed rails-7.1.0
#12 14.24 38 gems installed
#12 DONE 14.3s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:8f00f8930fdcc8e617046a53dfc38b7a1d0dc04188cfe3d8b1e0c36e254675f5
#15 writing image sha256:8f00f8930fdcc8e617046a53dfc38b7a1d0dc04188cfe3d8b1e0c36e254675f5 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.7s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.29kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.314 Reading package lists...
#6 2.530 Building dependency tree...
#6 2.586 Reading state information...
#6 2.652 The following additional packages will be installed:
#6 2.652   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.652   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.652   postgresql-client-common
#6 2.653 Suggested packages:
#6 2.653   npm postgresql-15 postgresql-doc-15
#6 2.698 The following NEW packages will be installed:
#6 2.698   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.698   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.698   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.829 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.829 Need to get 15.9 MB of archives.
#6 2.829 After this operation, 75.6 MB of additional disk space will be used.
#6 2.829 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.969 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.996 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.996 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.096 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.108 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.108 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.108 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.153 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.761 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.767 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.085 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.088 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.216 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.332 debconf: delaying package configuration, since apt-utils is not installed
#6 4.343 Fetched 15.9 MB in 2s (10.5 MB/s)
#6 4.351 Selecting previously unselected package libc-ares2:arm64.
#6 4.351 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.361 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.363 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.376 Selecting previously unselected package libuv1:arm64.
#6 4.377 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.378 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.390 Selecting previously unselected package node-xtend.
#6 4.391 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.392 Unpacking node-xtend (4.0.2-3) ...
#6 4.400 Selecting previously unselected package nodejs.
#6 4.401 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.402 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.432 Selecting previously unselected package node-acorn.
#6 4.433 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.434 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.451 Selecting previously unselected package node-cjs-module-lexer.
#6 4.452 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.453 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.461 Selecting previously unselected package node-busboy.
#6 4.462 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.463 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.473 Selecting previously unselected package node-undici.
#6 4.474 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.476 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.499 Selecting previously unselected package libnode108:arm64.
#6 4.500 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.501 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.789 Selecting previously unselected package netcat-openbsd.
#6 4.790 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.791 Unpacking netcat-openbsd (1.219-1) ...
#6 4.800 Selecting previously unselected package nodejs-doc.
#6 4.801 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.802 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.931 Selecting previously unselected package postgresql-client-common.
#6 4.932 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.933 Unpacking postgresql-client-common (248) ...
#6 4.943 Selecting previously unselected package postgresql-client-15.
#6 4.944 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.945 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.032 Selecting previously unselected package postgresql-client.
#6 5.033 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.034 Unpacking postgresql-client (15+248) ...
#6 5.046 Setting up postgresql-client-common (248) ...
#6 5.050 Setting up netcat-openbsd (1.219-1) ...
#6 5.054 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.055 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.193 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.205 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.208 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.210 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.213 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.215 Setting up node-xtend (4.0.2-3) ...
#6 5.217 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.219 Setting up postgresql-client (15+248) ...
#6 5.221 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.225 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.228 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.230 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.232 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.234 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.3s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.336 Successfully installed bundler-2.5.18
#11 1.336 1 gem installed
#11 DONE 1.3s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.27 Successfully installed zeitwerk-2.6.18
#12 12.27 Successfully installed thor-1.3.2
#12 12.27 Successfully installed webrick-1.8.1
#12 12.27 Successfully installed rack-3.1.7
#12 12.27 Successfully installed rackup-2.1.0
#12 12.27 Successfully installed concurrent-ruby-1.3.4
#12 12.27 Successfully installed tzinfo-2.0.6
#12 12.27 Successfully installed i18n-1.14.5
#12 12.27 Successfully installed connection_pool-2.4.1
#12 12.27 Successfully installed activesupport-7.1.0
#12 12.27 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.27 Successfully installed crass-1.0.6
#12 12.27 Successfully installed loofah-2.22.0
#12 12.27 Successfully installed rails-html-sanitizer-1.6.0
#12 12.27 Successfully installed rails-dom-testing-2.2.0
#12 12.27 Successfully installed rack-test-2.1.0
#12 12.27 Successfully installed rack-session-2.0.0
#12 12.27 Successfully installed erubi-1.13.0
#12 12.27 Successfully installed builder-3.3.0
#12 12.27 Successfully installed actionview-7.1.0
#12 12.27 Successfully installed actionpack-7.1.0
#12 12.27 Successfully installed railties-7.1.0
#12 12.27 Successfully installed marcel-1.0.4
#12 12.27 Successfully installed activemodel-7.1.0
#12 12.27 Successfully installed activerecord-7.1.0
#12 12.27 Successfully installed globalid-1.2.1
#12 12.27 Successfully installed activejob-7.1.0
#12 12.27 Successfully installed activestorage-7.1.0
#12 12.27 Successfully installed actiontext-7.1.0
#12 12.27 Successfully installed mini_mime-1.1.5
#12 12.27 Successfully installed mail-2.8.1
#12 12.27 Successfully installed actionmailer-7.1.0
#12 12.27 Successfully installed actionmailbox-7.1.0
#12 12.27 Successfully installed websocket-extensions-0.1.5
#12 12.27 Building native extensions. This could take a while...
#12 12.39 Successfully installed websocket-driver-0.7.6
#12 12.39 Building native extensions. This could take a while...
#12 13.93 Successfully installed nio4r-2.7.3
#12 13.93 Successfully installed actioncable-7.1.0
#12 13.93 Successfully installed rails-7.1.0
#12 13.93 38 gems installed
#12 DONE 14.0s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:d8d9bba7a00921c517770eabeea8fda73f0db8fdcddc47c0fbe26b9e71a2fa41 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.24kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.892 Reading package lists...
#6 2.105 Building dependency tree...
#6 2.161 Reading state information...
#6 2.225 The following additional packages will be installed:
#6 2.225   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.225   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.225   postgresql-client-common
#6 2.226 Suggested packages:
#6 2.226   npm postgresql-15 postgresql-doc-15
#6 2.272 The following NEW packages will be installed:
#6 2.272   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.272   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.272   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.404 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.404 Need to get 15.9 MB of archives.
#6 2.404 After this operation, 75.6 MB of additional disk space will be used.
#6 2.404 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.555 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.586 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.587 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.756 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.759 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.760 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.761 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.827 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.516 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.517 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.674 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.676 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.742 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.861 debconf: delaying package configuration, since apt-utils is not installed
#6 3.871 Fetched 15.9 MB in 1s (10.8 MB/s)
#6 3.881 Selecting previously unselected package libc-ares2:arm64.
#6 3.881 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.891 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.893 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.906 Selecting previously unselected package libuv1:arm64.
#6 3.907 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.908 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.920 Selecting previously unselected package node-xtend.
#6 3.921 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.922 Unpacking node-xtend (4.0.2-3) ...
#6 3.930 Selecting previously unselected package nodejs.
#6 3.931 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.932 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.964 Selecting previously unselected package node-acorn.
#6 3.965 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.966 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.983 Selecting previously unselected package node-cjs-module-lexer.
#6 3.984 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.985 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.993 Selecting previously unselected package node-busboy.
#6 3.994 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.995 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.005 Selecting previously unselected package node-undici.
#6 4.005 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.008 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.031 Selecting previously unselected package libnode108:arm64.
#6 4.032 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.033 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.322 Selecting previously unselected package netcat-openbsd.
#6 4.323 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.324 Unpacking netcat-openbsd (1.219-1) ...
#6 4.333 Selecting previously unselected package nodejs-doc.
#6 4.334 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.335 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.466 Selecting previously unselected package postgresql-client-common.
#6 4.467 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.468 Unpacking postgresql-client-common (248) ...
#6 4.479 Selecting previously unselected package postgresql-client-15.
#6 4.480 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.481 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.567 Selecting previously unselected package postgresql-client.
#6 4.568 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.569 Unpacking postgresql-client (15+248) ...
#6 4.582 Setting up postgresql-client-common (248) ...
#6 4.586 Setting up netcat-openbsd (1.219-1) ...
#6 4.589 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.591 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.728 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.742 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.746 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.748 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.750 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.752 Setting up node-xtend (4.0.2-3) ...
#6 4.755 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.757 Setting up postgresql-client (15+248) ...
#6 4.760 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.764 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.766 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.769 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.771 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.773 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.393 Successfully installed bundler-2.5.18
#11 1.393 1 gem installed
#11 DONE 1.4s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.62 Successfully installed zeitwerk-2.6.18
#12 12.62 Successfully installed thor-1.3.2
#12 12.62 Successfully installed webrick-1.8.1
#12 12.62 Successfully installed rack-3.1.7
#12 12.62 Successfully installed rackup-2.1.0
#12 12.62 Successfully installed concurrent-ruby-1.3.4
#12 12.62 Successfully installed tzinfo-2.0.6
#12 12.62 Successfully installed i18n-1.14.5
#12 12.62 Successfully installed connection_pool-2.4.1
#12 12.62 Successfully installed activesupport-7.1.0
#12 12.62 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.62 Successfully installed crass-1.0.6
#12 12.62 Successfully installed loofah-2.22.0
#12 12.62 Successfully installed rails-html-sanitizer-1.6.0
#12 12.62 Successfully installed rails-dom-testing-2.2.0
#12 12.62 Successfully installed rack-test-2.1.0
#12 12.62 Successfully installed rack-session-2.0.0
#12 12.62 Successfully installed erubi-1.13.0
#12 12.62 Successfully installed builder-3.3.0
#12 12.62 Successfully installed actionview-7.1.0
#12 12.62 Successfully installed actionpack-7.1.0
#12 12.62 Successfully installed railties-7.1.0
#12 12.62 Successfully installed marcel-1.0.4
#12 12.62 Successfully installed activemodel-7.1.0
#12 12.62 Successfully installed activerecord-7.1.0
#12 12.62 Successfully installed globalid-1.2.1
#12 12.62 Successfully installed activejob-7.1.0
#12 12.62 Successfully installed activestorage-7.1.0
#12 12.62 Successfully installed actiontext-7.1.0
#12 12.62 Successfully installed mini_mime-1.1.5
#12 12.62 Successfully installed mail-2.8.1
#12 12.62 Successfully installed actionmailer-7.1.0
#12 12.62 Successfully installed actionmailbox-7.1.0
#12 12.62 Successfully installed websocket-extensions-0.1.5
#12 12.62 Building native extensions. This could take a while...
#12 12.74 Successfully installed websocket-driver-0.7.6
#12 12.74 Building native extensions. This could take a while...
#12 14.25 Successfully installed nio4r-2.7.3
#12 14.25 Successfully installed actioncable-7.1.0
#12 14.25 Successfully installed rails-7.1.0
#12 14.25 38 gems installed
#12 DONE 14.3s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:517bc3337470e58fa088e981916ed0cba309808e4c79eb89bbc368a69ee732b5
#15 writing image sha256:517bc3337470e58fa088e981916ed0cba309808e4c79eb89bbc368a69ee732b5 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.11kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.501 Reading package lists...
#6 2.726 Building dependency tree...
#6 2.782 Reading state information...
#6 2.848 The following additional packages will be installed:
#6 2.848   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.848   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.849   postgresql-client-common
#6 2.849 Suggested packages:
#6 2.849   npm postgresql-15 postgresql-doc-15
#6 2.895 The following NEW packages will be installed:
#6 2.895   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.895   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.895   postgresql-client postgresql-client-15 postgresql-client-common
#6 3.029 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 3.029 Need to get 15.9 MB of archives.
#6 3.029 After this operation, 75.6 MB of additional disk space will be used.
#6 3.029 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.168 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.230 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.231 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.307 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.315 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.318 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.345 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.365 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.942 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.943 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.959 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.961 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.123 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.238 debconf: delaying package configuration, since apt-utils is not installed
#6 4.248 Fetched 15.9 MB in 1s (12.9 MB/s)
#6 4.257 Selecting previously unselected package libc-ares2:arm64.
#6 4.257 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.267 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.269 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.283 Selecting previously unselected package libuv1:arm64.
#6 4.284 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.285 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.297 Selecting previously unselected package node-xtend.
#6 4.299 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.299 Unpacking node-xtend (4.0.2-3) ...
#6 4.308 Selecting previously unselected package nodejs.
#6 4.309 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.310 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.343 Selecting previously unselected package node-acorn.
#6 4.344 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.344 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.361 Selecting previously unselected package node-cjs-module-lexer.
#6 4.362 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.363 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.371 Selecting previously unselected package node-busboy.
#6 4.372 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.372 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.382 Selecting previously unselected package node-undici.
#6 4.382 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.385 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.407 Selecting previously unselected package libnode108:arm64.
#6 4.408 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.409 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.703 Selecting previously unselected package netcat-openbsd.
#6 4.704 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.704 Unpacking netcat-openbsd (1.219-1) ...
#6 4.714 Selecting previously unselected package nodejs-doc.
#6 4.715 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.715 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.846 Selecting previously unselected package postgresql-client-common.
#6 4.847 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.848 Unpacking postgresql-client-common (248) ...
#6 4.859 Selecting previously unselected package postgresql-client-15.
#6 4.860 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.861 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.947 Selecting previously unselected package postgresql-client.
#6 4.948 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.948 Unpacking postgresql-client (15+248) ...
#6 4.960 Setting up postgresql-client-common (248) ...
#6 4.964 Setting up netcat-openbsd (1.219-1) ...
#6 4.967 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.969 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.105 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.118 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.120 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.123 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.125 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.127 Setting up node-xtend (4.0.2-3) ...
#6 5.129 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.131 Setting up postgresql-client (15+248) ...
#6 5.133 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.137 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.139 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.141 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.144 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.145 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.2s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.530 Successfully installed bundler-2.5.18
#11 1.530 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.48 Successfully installed zeitwerk-2.6.18
#12 12.48 Successfully installed thor-1.3.2
#12 12.48 Successfully installed webrick-1.8.1
#12 12.48 Successfully installed rack-3.1.7
#12 12.48 Successfully installed rackup-2.1.0
#12 12.48 Successfully installed concurrent-ruby-1.3.4
#12 12.48 Successfully installed tzinfo-2.0.6
#12 12.48 Successfully installed i18n-1.14.5
#12 12.48 Successfully installed connection_pool-2.4.1
#12 12.48 Successfully installed activesupport-7.1.0
#12 12.48 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.48 Successfully installed crass-1.0.6
#12 12.48 Successfully installed loofah-2.22.0
#12 12.48 Successfully installed rails-html-sanitizer-1.6.0
#12 12.48 Successfully installed rails-dom-testing-2.2.0
#12 12.48 Successfully installed rack-test-2.1.0
#12 12.48 Successfully installed rack-session-2.0.0
#12 12.48 Successfully installed erubi-1.13.0
#12 12.48 Successfully installed builder-3.3.0
#12 12.48 Successfully installed actionview-7.1.0
#12 12.48 Successfully installed actionpack-7.1.0
#12 12.48 Successfully installed railties-7.1.0
#12 12.48 Successfully installed marcel-1.0.4
#12 12.48 Successfully installed activemodel-7.1.0
#12 12.48 Successfully installed activerecord-7.1.0
#12 12.48 Successfully installed globalid-1.2.1
#12 12.48 Successfully installed activejob-7.1.0
#12 12.48 Successfully installed activestorage-7.1.0
#12 12.48 Successfully installed actiontext-7.1.0
#12 12.48 Successfully installed mini_mime-1.1.5
#12 12.48 Successfully installed mail-2.8.1
#12 12.48 Successfully installed actionmailer-7.1.0
#12 12.48 Successfully installed actionmailbox-7.1.0
#12 12.48 Successfully installed websocket-extensions-0.1.5
#12 12.48 Building native extensions. This could take a while...
#12 12.60 Successfully installed websocket-driver-0.7.6
#12 12.60 Building native extensions. This could take a while...
#12 14.14 Successfully installed nio4r-2.7.3
#12 14.14 Successfully installed actioncable-7.1.0
#12 14.14 Successfully installed rails-7.1.0
#12 14.14 38 gems installed
#12 DONE 14.2s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:fb5a57e2de50330348c0ed20717b8ff309255d19bfb7d05849c3ec758dcddad2
#15 writing image sha256:fb5a57e2de50330348c0ed20717b8ff309255d19bfb7d05849c3ec758dcddad2 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.7s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.11kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.023 Reading package lists...
#6 2.261 Building dependency tree...
#6 2.317 Reading state information...
#6 2.384 The following additional packages will be installed:
#6 2.385   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.385   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.385   postgresql-client-common
#6 2.385 Suggested packages:
#6 2.385   npm postgresql-15 postgresql-doc-15
#6 2.433 The following NEW packages will be installed:
#6 2.434   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.434   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.434   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.585 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.585 Need to get 15.9 MB of archives.
#6 2.585 After this operation, 75.6 MB of additional disk space will be used.
#6 2.585 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.726 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.750 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.752 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.855 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.865 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.868 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.870 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.911 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.534 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.535 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.830 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.832 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.915 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.026 debconf: delaying package configuration, since apt-utils is not installed
#6 4.040 Fetched 15.9 MB in 1s (10.7 MB/s)
#6 4.050 Selecting previously unselected package libc-ares2:arm64.
#6 4.050 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.060 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.062 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.079 Selecting previously unselected package libuv1:arm64.
#6 4.080 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.080 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.094 Selecting previously unselected package node-xtend.
#6 4.095 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.096 Unpacking node-xtend (4.0.2-3) ...
#6 4.105 Selecting previously unselected package nodejs.
#6 4.106 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.107 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.138 Selecting previously unselected package node-acorn.
#6 4.139 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.139 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.157 Selecting previously unselected package node-cjs-module-lexer.
#6 4.158 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.159 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.168 Selecting previously unselected package node-busboy.
#6 4.169 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.171 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.182 Selecting previously unselected package node-undici.
#6 4.183 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.185 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.208 Selecting previously unselected package libnode108:arm64.
#6 4.209 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.210 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.504 Selecting previously unselected package netcat-openbsd.
#6 4.505 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.506 Unpacking netcat-openbsd (1.219-1) ...
#6 4.517 Selecting previously unselected package nodejs-doc.
#6 4.518 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.519 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.653 Selecting previously unselected package postgresql-client-common.
#6 4.654 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.654 Unpacking postgresql-client-common (248) ...
#6 4.667 Selecting previously unselected package postgresql-client-15.
#6 4.668 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.669 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.756 Selecting previously unselected package postgresql-client.
#6 4.757 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.758 Unpacking postgresql-client (15+248) ...
#6 4.772 Setting up postgresql-client-common (248) ...
#6 4.778 Setting up netcat-openbsd (1.219-1) ...
#6 4.781 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.783 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.920 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.933 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.938 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.940 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.943 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.945 Setting up node-xtend (4.0.2-3) ...
#6 4.949 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.952 Setting up postgresql-client (15+248) ...
#6 4.956 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.960 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.964 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.967 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.970 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.971 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.0s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.213 Successfully installed bundler-2.5.18
#11 1.213 1 gem installed
#11 DONE 1.2s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.32 Successfully installed zeitwerk-2.6.18
#12 12.32 Successfully installed thor-1.3.2
#12 12.32 Successfully installed webrick-1.8.1
#12 12.32 Successfully installed rack-3.1.7
#12 12.32 Successfully installed rackup-2.1.0
#12 12.32 Successfully installed concurrent-ruby-1.3.4
#12 12.32 Successfully installed tzinfo-2.0.6
#12 12.32 Successfully installed i18n-1.14.5
#12 12.32 Successfully installed connection_pool-2.4.1
#12 12.32 Successfully installed activesupport-7.1.0
#12 12.32 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.32 Successfully installed crass-1.0.6
#12 12.32 Successfully installed loofah-2.22.0
#12 12.32 Successfully installed rails-html-sanitizer-1.6.0
#12 12.32 Successfully installed rails-dom-testing-2.2.0
#12 12.32 Successfully installed rack-test-2.1.0
#12 12.32 Successfully installed rack-session-2.0.0
#12 12.32 Successfully installed erubi-1.13.0
#12 12.32 Successfully installed builder-3.3.0
#12 12.32 Successfully installed actionview-7.1.0
#12 12.32 Successfully installed actionpack-7.1.0
#12 12.32 Successfully installed railties-7.1.0
#12 12.32 Successfully installed marcel-1.0.4
#12 12.32 Successfully installed activemodel-7.1.0
#12 12.32 Successfully installed activerecord-7.1.0
#12 12.32 Successfully installed globalid-1.2.1
#12 12.32 Successfully installed activejob-7.1.0
#12 12.32 Successfully installed activestorage-7.1.0
#12 12.32 Successfully installed actiontext-7.1.0
#12 12.32 Successfully installed mini_mime-1.1.5
#12 12.32 Successfully installed mail-2.8.1
#12 12.32 Successfully installed actionmailer-7.1.0
#12 12.32 Successfully installed actionmailbox-7.1.0
#12 12.32 Successfully installed websocket-extensions-0.1.5
#12 12.32 Building native extensions. This could take a while...
#12 12.45 Successfully installed websocket-driver-0.7.6
#12 12.45 Building native extensions. This could take a while...
#12 14.01 Successfully installed nio4r-2.7.3
#12 14.01 Successfully installed actioncable-7.1.0
#12 14.01 Successfully installed rails-7.1.0
#12 14.01 38 gems installed
#12 DONE 14.0s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:a19e1cda7498fe4e50cc51888b4063eb2d1a1c637b64cbf3a7703165d69f2217
#15 writing image sha256:a19e1cda7498fe4e50cc51888b4063eb2d1a1c637b64cbf3a7703165d69f2217 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.11kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.875 Reading package lists...
#6 2.096 Building dependency tree...
#6 2.153 Reading state information...
#6 2.217 The following additional packages will be installed:
#6 2.217   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.217   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.217   postgresql-client-common
#6 2.218 Suggested packages:
#6 2.218   npm postgresql-15 postgresql-doc-15
#6 2.264 The following NEW packages will be installed:
#6 2.264   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.264   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.264   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.398 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.398 Need to get 15.9 MB of archives.
#6 2.398 After this operation, 75.6 MB of additional disk space will be used.
#6 2.398 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.538 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.598 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.600 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.669 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.679 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.682 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.685 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.723 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.186 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.188 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.239 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.239 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.304 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.420 debconf: delaying package configuration, since apt-utils is not installed
#6 3.436 Fetched 15.9 MB in 1s (15.3 MB/s)
#6 3.448 Selecting previously unselected package libc-ares2:arm64.
#6 3.448 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.459 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.460 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.476 Selecting previously unselected package libuv1:arm64.
#6 3.477 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.479 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.492 Selecting previously unselected package node-xtend.
#6 3.493 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.495 Unpacking node-xtend (4.0.2-3) ...
#6 3.505 Selecting previously unselected package nodejs.
#6 3.506 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.507 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.540 Selecting previously unselected package node-acorn.
#6 3.541 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.542 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.560 Selecting previously unselected package node-cjs-module-lexer.
#6 3.561 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.562 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.572 Selecting previously unselected package node-busboy.
#6 3.573 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.574 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.586 Selecting previously unselected package node-undici.
#6 3.587 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.589 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.613 Selecting previously unselected package libnode108:arm64.
#6 3.614 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.615 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.916 Selecting previously unselected package netcat-openbsd.
#6 3.917 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.918 Unpacking netcat-openbsd (1.219-1) ...
#6 3.932 Selecting previously unselected package nodejs-doc.
#6 3.933 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.934 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.064 Selecting previously unselected package postgresql-client-common.
#6 4.065 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.066 Unpacking postgresql-client-common (248) ...
#6 4.078 Selecting previously unselected package postgresql-client-15.
#6 4.079 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.079 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.169 Selecting previously unselected package postgresql-client.
#6 4.170 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.171 Unpacking postgresql-client (15+248) ...
#6 4.186 Setting up postgresql-client-common (248) ...
#6 4.191 Setting up netcat-openbsd (1.219-1) ...
#6 4.194 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.196 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.340 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.353 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.356 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.359 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.363 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.366 Setting up node-xtend (4.0.2-3) ...
#6 4.368 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.372 Setting up postgresql-client (15+248) ...
#6 4.374 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.379 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.381 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.385 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.387 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.390 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.567 Successfully installed bundler-2.5.18
#11 1.567 1 gem installed
#11 DONE 1.6s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.43 Successfully installed zeitwerk-2.6.18
#12 12.43 Successfully installed thor-1.3.2
#12 12.43 Successfully installed webrick-1.8.1
#12 12.43 Successfully installed rack-3.1.7
#12 12.43 Successfully installed rackup-2.1.0
#12 12.43 Successfully installed concurrent-ruby-1.3.4
#12 12.43 Successfully installed tzinfo-2.0.6
#12 12.43 Successfully installed i18n-1.14.5
#12 12.43 Successfully installed connection_pool-2.4.1
#12 12.43 Successfully installed activesupport-7.1.0
#12 12.43 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.43 Successfully installed crass-1.0.6
#12 12.43 Successfully installed loofah-2.22.0
#12 12.43 Successfully installed rails-html-sanitizer-1.6.0
#12 12.43 Successfully installed rails-dom-testing-2.2.0
#12 12.43 Successfully installed rack-test-2.1.0
#12 12.43 Successfully installed rack-session-2.0.0
#12 12.43 Successfully installed erubi-1.13.0
#12 12.43 Successfully installed builder-3.3.0
#12 12.43 Successfully installed actionview-7.1.0
#12 12.43 Successfully installed actionpack-7.1.0
#12 12.43 Successfully installed railties-7.1.0
#12 12.43 Successfully installed marcel-1.0.4
#12 12.43 Successfully installed activemodel-7.1.0
#12 12.43 Successfully installed activerecord-7.1.0
#12 12.43 Successfully installed globalid-1.2.1
#12 12.43 Successfully installed activejob-7.1.0
#12 12.43 Successfully installed activestorage-7.1.0
#12 12.43 Successfully installed actiontext-7.1.0
#12 12.43 Successfully installed mini_mime-1.1.5
#12 12.43 Successfully installed mail-2.8.1
#12 12.43 Successfully installed actionmailer-7.1.0
#12 12.43 Successfully installed actionmailbox-7.1.0
#12 12.43 Successfully installed websocket-extensions-0.1.5
#12 12.43 Building native extensions. This could take a while...
#12 12.55 Successfully installed websocket-driver-0.7.6
#12 12.55 Building native extensions. This could take a while...
#12 14.10 Successfully installed nio4r-2.7.3
#12 14.10 Successfully installed actioncable-7.1.0
#12 14.10 Successfully installed rails-7.1.0
#12 14.10 38 gems installed
#12 DONE 14.1s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:507734b0c8ad40c1b241618d0d53d067a104c18d7b1990a16652af1184f23852
#15 writing image sha256:507734b0c8ad40c1b241618d0d53d067a104c18d7b1990a16652af1184f23852 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.12kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.132 Reading package lists...
#6 2.350 Building dependency tree...
#6 2.406 Reading state information...
#6 2.471 The following additional packages will be installed:
#6 2.471   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.471   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.471   postgresql-client-common
#6 2.472 Suggested packages:
#6 2.472   npm postgresql-15 postgresql-doc-15
#6 2.519 The following NEW packages will be installed:
#6 2.519   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.519   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.519   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.731 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.731 Need to get 15.9 MB of archives.
#6 2.731 After this operation, 75.6 MB of additional disk space will be used.
#6 2.731 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.952 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.091 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.091 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.271 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.435 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.436 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.437 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.441 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 5.049 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 5.051 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 5.421 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 5.423 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 5.584 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 5.693 debconf: delaying package configuration, since apt-utils is not installed
#6 5.703 Fetched 15.9 MB in 3s (5182 kB/s)
#6 5.715 Selecting previously unselected package libc-ares2:arm64.
#6 5.715 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 5.726 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 5.728 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 5.743 Selecting previously unselected package libuv1:arm64.
#6 5.744 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 5.745 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.760 Selecting previously unselected package node-xtend.
#6 5.761 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 5.763 Unpacking node-xtend (4.0.2-3) ...
#6 5.773 Selecting previously unselected package nodejs.
#6 5.774 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.774 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.809 Selecting previously unselected package node-acorn.
#6 5.810 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 5.811 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.831 Selecting previously unselected package node-cjs-module-lexer.
#6 5.832 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 5.833 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.843 Selecting previously unselected package node-busboy.
#6 5.844 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 5.845 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.859 Selecting previously unselected package node-undici.
#6 5.860 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 5.862 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.886 Selecting previously unselected package libnode108:arm64.
#6 5.887 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.888 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 6.192 Selecting previously unselected package netcat-openbsd.
#6 6.193 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 6.194 Unpacking netcat-openbsd (1.219-1) ...
#6 6.206 Selecting previously unselected package nodejs-doc.
#6 6.207 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 6.208 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 6.338 Selecting previously unselected package postgresql-client-common.
#6 6.339 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 6.340 Unpacking postgresql-client-common (248) ...
#6 6.352 Selecting previously unselected package postgresql-client-15.
#6 6.353 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 6.354 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 6.442 Selecting previously unselected package postgresql-client.
#6 6.443 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 6.444 Unpacking postgresql-client (15+248) ...
#6 6.458 Setting up postgresql-client-common (248) ...
#6 6.465 Setting up netcat-openbsd (1.219-1) ...
#6 6.468 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 6.471 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 6.609 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 6.624 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 6.628 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 6.632 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 6.637 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 6.640 Setting up node-xtend (4.0.2-3) ...
#6 6.642 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 6.647 Setting up postgresql-client (15+248) ...
#6 6.650 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 6.656 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 6.659 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 6.663 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 6.665 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 6.667 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 6.8s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 2.399 Successfully installed bundler-2.5.18
#11 2.399 1 gem installed
#11 DONE 2.4s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 14.83 Successfully installed zeitwerk-2.6.18
#12 14.83 Successfully installed thor-1.3.2
#12 14.83 Successfully installed webrick-1.8.1
#12 14.83 Successfully installed rack-3.1.7
#12 14.83 Successfully installed rackup-2.1.0
#12 14.83 Successfully installed concurrent-ruby-1.3.4
#12 14.83 Successfully installed tzinfo-2.0.6
#12 14.83 Successfully installed i18n-1.14.5
#12 14.83 Successfully installed connection_pool-2.4.1
#12 14.83 Successfully installed activesupport-7.1.0
#12 14.83 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 14.83 Successfully installed crass-1.0.6
#12 14.83 Successfully installed loofah-2.22.0
#12 14.83 Successfully installed rails-html-sanitizer-1.6.0
#12 14.83 Successfully installed rails-dom-testing-2.2.0
#12 14.83 Successfully installed rack-test-2.1.0
#12 14.83 Successfully installed rack-session-2.0.0
#12 14.83 Successfully installed erubi-1.13.0
#12 14.83 Successfully installed builder-3.3.0
#12 14.83 Successfully installed actionview-7.1.0
#12 14.83 Successfully installed actionpack-7.1.0
#12 14.83 Successfully installed railties-7.1.0
#12 14.83 Successfully installed marcel-1.0.4
#12 14.83 Successfully installed activemodel-7.1.0
#12 14.83 Successfully installed activerecord-7.1.0
#12 14.83 Successfully installed globalid-1.2.1
#12 14.83 Successfully installed activejob-7.1.0
#12 14.83 Successfully installed activestorage-7.1.0
#12 14.83 Successfully installed actiontext-7.1.0
#12 14.83 Successfully installed mini_mime-1.1.5
#12 14.83 Successfully installed mail-2.8.1
#12 14.83 Successfully installed actionmailer-7.1.0
#12 14.83 Successfully installed actionmailbox-7.1.0
#12 14.83 Successfully installed websocket-extensions-0.1.5
#12 14.83 Building native extensions. This could take a while...
#12 14.97 Successfully installed websocket-driver-0.7.6
#12 14.97 Building native extensions. This could take a while...
#12 16.51 Successfully installed nio4r-2.7.3
#12 16.51 Successfully installed actioncable-7.1.0
#12 16.51 Successfully installed rails-7.1.0
#12 16.51 38 gems installed
#12 DONE 16.6s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:7bbb69b8213eb9efc6d36112ca3d0a8dee3665e67b62a9dd6e5ea259df259434
#15 writing image sha256:7bbb69b8213eb9efc6d36112ca3d0a8dee3665e67b62a9dd6e5ea259df259434 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.14kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.982 Reading package lists...
#6 2.195 Building dependency tree...
#6 2.250 Reading state information...
#6 2.314 The following additional packages will be installed:
#6 2.314   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.314   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.314   postgresql-client-common
#6 2.315 Suggested packages:
#6 2.315   npm postgresql-15 postgresql-doc-15
#6 2.361 The following NEW packages will be installed:
#6 2.361   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.361   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.361   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.533 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.533 Need to get 15.9 MB of archives.
#6 2.533 After this operation, 75.6 MB of additional disk space will be used.
#6 2.533 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.676 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.702 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.703 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.807 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.818 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.821 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.821 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.866 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.354 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.354 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.414 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.415 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.471 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.577 debconf: delaying package configuration, since apt-utils is not installed
#6 3.593 Fetched 15.9 MB in 1s (14.3 MB/s)
#6 3.607 Selecting previously unselected package libc-ares2:arm64.
#6 3.607 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.617 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.619 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.634 Selecting previously unselected package libuv1:arm64.
#6 3.635 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.636 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.650 Selecting previously unselected package node-xtend.
#6 3.651 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.652 Unpacking node-xtend (4.0.2-3) ...
#6 3.663 Selecting previously unselected package nodejs.
#6 3.664 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.665 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.698 Selecting previously unselected package node-acorn.
#6 3.698 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.699 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.715 Selecting previously unselected package node-cjs-module-lexer.
#6 3.716 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.717 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.726 Selecting previously unselected package node-busboy.
#6 3.727 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.728 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.740 Selecting previously unselected package node-undici.
#6 3.741 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.744 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.768 Selecting previously unselected package libnode108:arm64.
#6 3.769 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.769 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.065 Selecting previously unselected package netcat-openbsd.
#6 4.066 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.067 Unpacking netcat-openbsd (1.219-1) ...
#6 4.079 Selecting previously unselected package nodejs-doc.
#6 4.080 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.080 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.213 Selecting previously unselected package postgresql-client-common.
#6 4.214 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.215 Unpacking postgresql-client-common (248) ...
#6 4.227 Selecting previously unselected package postgresql-client-15.
#6 4.228 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.229 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.316 Selecting previously unselected package postgresql-client.
#6 4.318 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.318 Unpacking postgresql-client (15+248) ...
#6 4.334 Setting up postgresql-client-common (248) ...
#6 4.340 Setting up netcat-openbsd (1.219-1) ...
#6 4.343 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.346 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.484 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.497 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.500 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.503 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.506 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.510 Setting up node-xtend (4.0.2-3) ...
#6 4.512 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.516 Setting up postgresql-client (15+248) ...
#6 4.519 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.524 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.528 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.530 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.535 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.537 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.6s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.651 Successfully installed bundler-2.5.18
#11 1.651 1 gem installed
#11 DONE 1.7s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.49 Successfully installed zeitwerk-2.6.18
#12 12.49 Successfully installed thor-1.3.2
#12 12.49 Successfully installed webrick-1.8.1
#12 12.49 Successfully installed rack-3.1.7
#12 12.49 Successfully installed rackup-2.1.0
#12 12.49 Successfully installed concurrent-ruby-1.3.4
#12 12.49 Successfully installed tzinfo-2.0.6
#12 12.49 Successfully installed i18n-1.14.5
#12 12.49 Successfully installed connection_pool-2.4.1
#12 12.49 Successfully installed activesupport-7.1.0
#12 12.49 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.49 Successfully installed crass-1.0.6
#12 12.49 Successfully installed loofah-2.22.0
#12 12.49 Successfully installed rails-html-sanitizer-1.6.0
#12 12.49 Successfully installed rails-dom-testing-2.2.0
#12 12.49 Successfully installed rack-test-2.1.0
#12 12.49 Successfully installed rack-session-2.0.0
#12 12.49 Successfully installed erubi-1.13.0
#12 12.49 Successfully installed builder-3.3.0
#12 12.49 Successfully installed actionview-7.1.0
#12 12.49 Successfully installed actionpack-7.1.0
#12 12.49 Successfully installed railties-7.1.0
#12 12.49 Successfully installed marcel-1.0.4
#12 12.49 Successfully installed activemodel-7.1.0
#12 12.49 Successfully installed activerecord-7.1.0
#12 12.49 Successfully installed globalid-1.2.1
#12 12.49 Successfully installed activejob-7.1.0
#12 12.49 Successfully installed activestorage-7.1.0
#12 12.49 Successfully installed actiontext-7.1.0
#12 12.49 Successfully installed mini_mime-1.1.5
#12 12.49 Successfully installed mail-2.8.1
#12 12.49 Successfully installed actionmailer-7.1.0
#12 12.49 Successfully installed actionmailbox-7.1.0
#12 12.49 Successfully installed websocket-extensions-0.1.5
#12 12.49 Building native extensions. This could take a while...
#12 12.61 Successfully installed websocket-driver-0.7.6
#12 12.61 Building native extensions. This could take a while...
#12 14.12 Successfully installed nio4r-2.7.3
#12 14.12 Successfully installed actioncable-7.1.0
#12 14.12 Successfully installed rails-7.1.0
#12 14.12 38 gems installed
#12 DONE 14.2s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:942f5ee4c7ac63e9ba72402486ac50b16c6d63b9608186a4247bd81a9995ce5a
#15 writing image sha256:942f5ee4c7ac63e9ba72402486ac50b16c6d63b9608186a4247bd81a9995ce5a done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 3.7s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.40kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.391 Reading package lists...
#6 2.601 Building dependency tree...
#6 2.659 Reading state information...
#6 2.722 The following additional packages will be installed:
#6 2.723   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.723   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.723   postgresql-client-common
#6 2.723 Suggested packages:
#6 2.723   npm postgresql-15 postgresql-doc-15
#6 2.769 The following NEW packages will be installed:
#6 2.769   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.769   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.769   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.938 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.938 Need to get 15.9 MB of archives.
#6 2.938 After this operation, 75.6 MB of additional disk space will be used.
#6 2.938 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.086 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.143 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.144 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.208 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.220 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.222 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.224 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.263 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.773 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.774 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.799 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.799 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.940 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.058 debconf: delaying package configuration, since apt-utils is not installed
#6 4.075 Fetched 15.9 MB in 1s (13.6 MB/s)
#6 4.090 Selecting previously unselected package libc-ares2:arm64.
#6 4.090 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.102 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.103 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.118 Selecting previously unselected package libuv1:arm64.
#6 4.119 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.120 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.134 Selecting previously unselected package node-xtend.
#6 4.135 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.136 Unpacking node-xtend (4.0.2-3) ...
#6 4.150 Selecting previously unselected package nodejs.
#6 4.151 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.152 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.187 Selecting previously unselected package node-acorn.
#6 4.188 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.189 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.208 Selecting previously unselected package node-cjs-module-lexer.
#6 4.209 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.210 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.220 Selecting previously unselected package node-busboy.
#6 4.221 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.223 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.234 Selecting previously unselected package node-undici.
#6 4.235 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.237 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.262 Selecting previously unselected package libnode108:arm64.
#6 4.263 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.264 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.568 Selecting previously unselected package netcat-openbsd.
#6 4.570 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.570 Unpacking netcat-openbsd (1.219-1) ...
#6 4.584 Selecting previously unselected package nodejs-doc.
#6 4.585 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.586 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.727 Selecting previously unselected package postgresql-client-common.
#6 4.728 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.729 Unpacking postgresql-client-common (248) ...
#6 4.746 Selecting previously unselected package postgresql-client-15.
#6 4.747 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.748 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.842 Selecting previously unselected package postgresql-client.
#6 4.843 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.844 Unpacking postgresql-client (15+248) ...
#6 4.859 Setting up postgresql-client-common (248) ...
#6 4.866 Setting up netcat-openbsd (1.219-1) ...
#6 4.870 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.872 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.013 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.030 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.032 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.037 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.039 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.042 Setting up node-xtend (4.0.2-3) ...
#6 5.045 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.047 Setting up postgresql-client (15+248) ...
#6 5.051 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.055 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.058 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.061 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.063 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.066 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.1s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.386 Successfully installed bundler-2.5.18
#11 1.386 1 gem installed
#11 DONE 1.4s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 14.96 Successfully installed zeitwerk-2.6.18
#12 14.96 Successfully installed thor-1.3.2
#12 14.96 Successfully installed webrick-1.8.1
#12 14.96 Successfully installed rack-3.1.7
#12 14.96 Successfully installed rackup-2.1.0
#12 14.96 Successfully installed concurrent-ruby-1.3.4
#12 14.96 Successfully installed tzinfo-2.0.6
#12 14.96 Successfully installed i18n-1.14.5
#12 14.96 Successfully installed connection_pool-2.4.1
#12 14.96 Successfully installed activesupport-7.1.0
#12 14.96 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 14.96 Successfully installed crass-1.0.6
#12 14.96 Successfully installed loofah-2.22.0
#12 14.96 Successfully installed rails-html-sanitizer-1.6.0
#12 14.96 Successfully installed rails-dom-testing-2.2.0
#12 14.96 Successfully installed rack-test-2.1.0
#12 14.96 Successfully installed rack-session-2.0.0
#12 14.96 Successfully installed erubi-1.13.0
#12 14.96 Successfully installed builder-3.3.0
#12 14.96 Successfully installed actionview-7.1.0
#12 14.96 Successfully installed actionpack-7.1.0
#12 14.96 Successfully installed railties-7.1.0
#12 14.96 Successfully installed marcel-1.0.4
#12 14.96 Successfully installed activemodel-7.1.0
#12 14.96 Successfully installed activerecord-7.1.0
#12 14.96 Successfully installed globalid-1.2.1
#12 14.96 Successfully installed activejob-7.1.0
#12 14.96 Successfully installed activestorage-7.1.0
#12 14.96 Successfully installed actiontext-7.1.0
#12 14.96 Successfully installed mini_mime-1.1.5
#12 14.96 Successfully installed mail-2.8.1
#12 14.96 Successfully installed actionmailer-7.1.0
#12 14.96 Successfully installed actionmailbox-7.1.0
#12 14.96 Successfully installed websocket-extensions-0.1.5
#12 14.96 Building native extensions. This could take a while...
#12 15.08 Successfully installed websocket-driver-0.7.6
#12 15.08 Building native extensions. This could take a while...
#12 16.60 Successfully installed nio4r-2.7.3
#12 16.60 Successfully installed actioncable-7.1.0
#12 16.60 Successfully installed rails-7.1.0
#12 16.60 38 gems installed
#12 DONE 16.7s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:bad4b4979f2868f3d77165388cff6f7e4d23fec4ede3bb717167b887057a36fd
#15 writing image sha256:bad4b4979f2868f3d77165388cff6f7e4d23fec4ede3bb717167b887057a36fd done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.59kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.148 Reading package lists...
#6 2.360 Building dependency tree...
#6 2.416 Reading state information...
#6 2.481 The following additional packages will be installed:
#6 2.481   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.481   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.481   postgresql-client-common
#6 2.482 Suggested packages:
#6 2.482   npm postgresql-15 postgresql-doc-15
#6 2.528 The following NEW packages will be installed:
#6 2.528   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.528   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.528   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.662 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.662 Need to get 15.9 MB of archives.
#6 2.662 After this operation, 75.6 MB of additional disk space will be used.
#6 2.662 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.803 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.864 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.865 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.933 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.944 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.947 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.948 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.989 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.441 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.442 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.496 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.497 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.562 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.682 debconf: delaying package configuration, since apt-utils is not installed
#6 3.693 Fetched 15.9 MB in 1s (15.4 MB/s)
#6 3.702 Selecting previously unselected package libc-ares2:arm64.
#6 3.702 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.712 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.714 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.728 Selecting previously unselected package libuv1:arm64.
#6 3.729 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.731 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.743 Selecting previously unselected package node-xtend.
#6 3.744 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.746 Unpacking node-xtend (4.0.2-3) ...
#6 3.755 Selecting previously unselected package nodejs.
#6 3.756 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.757 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.789 Selecting previously unselected package node-acorn.
#6 3.790 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.791 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.808 Selecting previously unselected package node-cjs-module-lexer.
#6 3.809 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.810 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.819 Selecting previously unselected package node-busboy.
#6 3.820 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.824 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.835 Selecting previously unselected package node-undici.
#6 3.836 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.839 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.862 Selecting previously unselected package libnode108:arm64.
#6 3.863 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.865 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.161 Selecting previously unselected package netcat-openbsd.
#6 4.162 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.164 Unpacking netcat-openbsd (1.219-1) ...
#6 4.174 Selecting previously unselected package nodejs-doc.
#6 4.175 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.176 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.309 Selecting previously unselected package postgresql-client-common.
#6 4.310 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.311 Unpacking postgresql-client-common (248) ...
#6 4.323 Selecting previously unselected package postgresql-client-15.
#6 4.324 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.325 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.412 Selecting previously unselected package postgresql-client.
#6 4.413 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.414 Unpacking postgresql-client (15+248) ...
#6 4.427 Setting up postgresql-client-common (248) ...
#6 4.432 Setting up netcat-openbsd (1.219-1) ...
#6 4.436 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.438 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.573 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.587 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.591 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.593 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.596 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.598 Setting up node-xtend (4.0.2-3) ...
#6 4.601 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.603 Setting up postgresql-client (15+248) ...
#6 4.606 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.610 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.613 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.618 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.620 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.621 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.330 Successfully installed bundler-2.5.18
#11 1.330 1 gem installed
#11 DONE 1.3s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 13.16 Successfully installed zeitwerk-2.6.18
#12 13.16 Successfully installed thor-1.3.2
#12 13.16 Successfully installed webrick-1.8.1
#12 13.16 Successfully installed rack-3.1.7
#12 13.16 Successfully installed rackup-2.1.0
#12 13.16 Successfully installed concurrent-ruby-1.3.4
#12 13.16 Successfully installed tzinfo-2.0.6
#12 13.16 Successfully installed i18n-1.14.5
#12 13.16 Successfully installed connection_pool-2.4.1
#12 13.16 Successfully installed activesupport-7.1.0
#12 13.16 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 13.16 Successfully installed crass-1.0.6
#12 13.16 Successfully installed loofah-2.22.0
#12 13.16 Successfully installed rails-html-sanitizer-1.6.0
#12 13.16 Successfully installed rails-dom-testing-2.2.0
#12 13.16 Successfully installed rack-test-2.1.0
#12 13.16 Successfully installed rack-session-2.0.0
#12 13.16 Successfully installed erubi-1.13.0
#12 13.16 Successfully installed builder-3.3.0
#12 13.16 Successfully installed actionview-7.1.0
#12 13.16 Successfully installed actionpack-7.1.0
#12 13.16 Successfully installed railties-7.1.0
#12 13.16 Successfully installed marcel-1.0.4
#12 13.16 Successfully installed activemodel-7.1.0
#12 13.16 Successfully installed activerecord-7.1.0
#12 13.16 Successfully installed globalid-1.2.1
#12 13.16 Successfully installed activejob-7.1.0
#12 13.16 Successfully installed activestorage-7.1.0
#12 13.16 Successfully installed actiontext-7.1.0
#12 13.16 Successfully installed mini_mime-1.1.5
#12 13.16 Successfully installed mail-2.8.1
#12 13.16 Successfully installed actionmailer-7.1.0
#12 13.16 Successfully installed actionmailbox-7.1.0
#12 13.16 Successfully installed websocket-extensions-0.1.5
#12 13.16 Building native extensions. This could take a while...
#12 13.28 Successfully installed websocket-driver-0.7.6
#12 13.28 Building native extensions. This could take a while...
#12 14.80 Successfully installed nio4r-2.7.3
#12 14.80 Successfully installed actioncable-7.1.0
#12 14.80 Successfully installed rails-7.1.0
#12 14.80 38 gems installed
#12 DONE 14.9s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:b69ff1188a018459036bfce1b414d909807de61e80f8275ea4d38de087f0af32
#15 writing image sha256:b69ff1188a018459036bfce1b414d909807de61e80f8275ea4d38de087f0af32 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.7s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.71kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.967 Reading package lists...
#6 2.189 Building dependency tree...
#6 2.245 Reading state information...
#6 2.310 The following additional packages will be installed:
#6 2.310   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.310   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.310   postgresql-client-common
#6 2.311 Suggested packages:
#6 2.311   npm postgresql-15 postgresql-doc-15
#6 2.357 The following NEW packages will be installed:
#6 2.357   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.357   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.358   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.488 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.488 Need to get 15.9 MB of archives.
#6 2.488 After this operation, 75.6 MB of additional disk space will be used.
#6 2.488 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.646 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.673 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.674 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.817 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.860 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.866 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.873 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.955 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.478 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 4.480 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.763 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.764 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.878 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.999 debconf: delaying package configuration, since apt-utils is not installed
#6 5.014 Fetched 15.9 MB in 3s (6299 kB/s)
#6 5.025 Selecting previously unselected package libc-ares2:arm64.
#6 5.025 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 5.035 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 5.037 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 5.051 Selecting previously unselected package libuv1:arm64.
#6 5.052 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 5.053 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.068 Selecting previously unselected package node-xtend.
#6 5.069 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 5.070 Unpacking node-xtend (4.0.2-3) ...
#6 5.080 Selecting previously unselected package nodejs.
#6 5.081 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.082 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.117 Selecting previously unselected package node-acorn.
#6 5.118 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 5.119 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.136 Selecting previously unselected package node-cjs-module-lexer.
#6 5.137 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 5.139 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.148 Selecting previously unselected package node-busboy.
#6 5.149 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 5.151 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.163 Selecting previously unselected package node-undici.
#6 5.164 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 5.166 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.190 Selecting previously unselected package libnode108:arm64.
#6 5.191 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.192 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.485 Selecting previously unselected package netcat-openbsd.
#6 5.486 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 5.487 Unpacking netcat-openbsd (1.219-1) ...
#6 5.499 Selecting previously unselected package nodejs-doc.
#6 5.500 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 5.501 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.632 Selecting previously unselected package postgresql-client-common.
#6 5.633 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 5.634 Unpacking postgresql-client-common (248) ...
#6 5.646 Selecting previously unselected package postgresql-client-15.
#6 5.647 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.648 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.736 Selecting previously unselected package postgresql-client.
#6 5.737 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.738 Unpacking postgresql-client (15+248) ...
#6 5.751 Setting up postgresql-client-common (248) ...
#6 5.757 Setting up netcat-openbsd (1.219-1) ...
#6 5.760 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.762 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.900 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.914 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.916 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.920 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.924 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.926 Setting up node-xtend (4.0.2-3) ...
#6 5.930 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.933 Setting up postgresql-client (15+248) ...
#6 5.936 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.941 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.944 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.947 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.951 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.952 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 6.0s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.124 Successfully installed bundler-2.5.18
#11 1.124 1 gem installed
#11 DONE 1.1s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 13.26 Successfully installed zeitwerk-2.6.18
#12 13.26 Successfully installed thor-1.3.2
#12 13.26 Successfully installed webrick-1.8.1
#12 13.26 Successfully installed rack-3.1.7
#12 13.26 Successfully installed rackup-2.1.0
#12 13.26 Successfully installed concurrent-ruby-1.3.4
#12 13.26 Successfully installed tzinfo-2.0.6
#12 13.26 Successfully installed i18n-1.14.5
#12 13.26 Successfully installed connection_pool-2.4.1
#12 13.26 Successfully installed activesupport-7.1.0
#12 13.26 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 13.26 Successfully installed crass-1.0.6
#12 13.26 Successfully installed loofah-2.22.0
#12 13.26 Successfully installed rails-html-sanitizer-1.6.0
#12 13.26 Successfully installed rails-dom-testing-2.2.0
#12 13.26 Successfully installed rack-test-2.1.0
#12 13.26 Successfully installed rack-session-2.0.0
#12 13.26 Successfully installed erubi-1.13.0
#12 13.26 Successfully installed builder-3.3.0
#12 13.26 Successfully installed actionview-7.1.0
#12 13.26 Successfully installed actionpack-7.1.0
#12 13.26 Successfully installed railties-7.1.0
#12 13.26 Successfully installed marcel-1.0.4
#12 13.26 Successfully installed activemodel-7.1.0
#12 13.26 Successfully installed activerecord-7.1.0
#12 13.26 Successfully installed globalid-1.2.1
#12 13.26 Successfully installed activejob-7.1.0
#12 13.26 Successfully installed activestorage-7.1.0
#12 13.26 Successfully installed actiontext-7.1.0
#12 13.26 Successfully installed mini_mime-1.1.5
#12 13.26 Successfully installed mail-2.8.1
#12 13.26 Successfully installed actionmailer-7.1.0
#12 13.26 Successfully installed actionmailbox-7.1.0
#12 13.26 Successfully installed websocket-extensions-0.1.5
#12 13.26 Building native extensions. This could take a while...
#12 13.38 Successfully installed websocket-driver-0.7.6
#12 13.38 Building native extensions. This could take a while...
#12 14.88 Successfully installed nio4r-2.7.3
#12 14.88 Successfully installed actioncable-7.1.0
#12 14.88 Successfully installed rails-7.1.0
#12 14.88 38 gems installed
#12 DONE 14.9s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:010163a72e25bdb63e3b2a43847e9500d9077b69c24609c8a31e4ead48a2a4bb
#15 writing image sha256:010163a72e25bdb63e3b2a43847e9500d9077b69c24609c8a31e4ead48a2a4bb done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.2s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.70kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.980 Reading package lists...
#6 2.193 Building dependency tree...
#6 2.251 Reading state information...
#6 2.316 The following additional packages will be installed:
#6 2.316   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.316   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.316   postgresql-client-common
#6 2.317 Suggested packages:
#6 2.317   npm postgresql-15 postgresql-doc-15
#6 2.364 The following NEW packages will be installed:
#6 2.364   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.364   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.364   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.491 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.491 Need to get 15.9 MB of archives.
#6 2.491 After this operation, 75.6 MB of additional disk space will be used.
#6 2.491 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.756 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.781 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.781 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.876 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.889 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.891 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.892 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.912 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.361 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.362 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.503 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.505 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.559 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.678 debconf: delaying package configuration, since apt-utils is not installed
#6 3.694 Fetched 15.9 MB in 1s (13.3 MB/s)
#6 3.704 Selecting previously unselected package libc-ares2:arm64.
#6 3.704 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.715 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.719 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.735 Selecting previously unselected package libuv1:arm64.
#6 3.736 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.737 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.752 Selecting previously unselected package node-xtend.
#6 3.753 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.756 Unpacking node-xtend (4.0.2-3) ...
#6 3.767 Selecting previously unselected package nodejs.
#6 3.768 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.769 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.800 Selecting previously unselected package node-acorn.
#6 3.801 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.802 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.821 Selecting previously unselected package node-cjs-module-lexer.
#6 3.822 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.823 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.832 Selecting previously unselected package node-busboy.
#6 3.833 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.834 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.846 Selecting previously unselected package node-undici.
#6 3.847 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.849 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.874 Selecting previously unselected package libnode108:arm64.
#6 3.875 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.876 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.167 Selecting previously unselected package netcat-openbsd.
#6 4.168 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.169 Unpacking netcat-openbsd (1.219-1) ...
#6 4.181 Selecting previously unselected package nodejs-doc.
#6 4.182 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.183 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.319 Selecting previously unselected package postgresql-client-common.
#6 4.321 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.322 Unpacking postgresql-client-common (248) ...
#6 4.332 Selecting previously unselected package postgresql-client-15.
#6 4.333 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.334 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.422 Selecting previously unselected package postgresql-client.
#6 4.423 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.424 Unpacking postgresql-client (15+248) ...
#6 4.437 Setting up postgresql-client-common (248) ...
#6 4.442 Setting up netcat-openbsd (1.219-1) ...
#6 4.447 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.449 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.586 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.601 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.605 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.608 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.610 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.614 Setting up node-xtend (4.0.2-3) ...
#6 4.615 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.619 Setting up postgresql-client (15+248) ...
#6 4.621 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.626 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.628 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.630 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.635 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.637 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.149 Successfully installed bundler-2.5.18
#11 1.149 1 gem installed
#11 DONE 1.2s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 19.12 Successfully installed zeitwerk-2.6.18
#12 19.12 Successfully installed thor-1.3.2
#12 19.12 Successfully installed webrick-1.8.1
#12 19.12 Successfully installed rack-3.1.7
#12 19.12 Successfully installed rackup-2.1.0
#12 19.12 Successfully installed concurrent-ruby-1.3.4
#12 19.12 Successfully installed tzinfo-2.0.6
#12 19.12 Successfully installed i18n-1.14.5
#12 19.12 Successfully installed connection_pool-2.4.1
#12 19.12 Successfully installed activesupport-7.1.0
#12 19.12 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 19.12 Successfully installed crass-1.0.6
#12 19.12 Successfully installed loofah-2.22.0
#12 19.12 Successfully installed rails-html-sanitizer-1.6.0
#12 19.12 Successfully installed rails-dom-testing-2.2.0
#12 19.12 Successfully installed rack-test-2.1.0
#12 19.12 Successfully installed rack-session-2.0.0
#12 19.12 Successfully installed erubi-1.13.0
#12 19.12 Successfully installed builder-3.3.0
#12 19.12 Successfully installed actionview-7.1.0
#12 19.12 Successfully installed actionpack-7.1.0
#12 19.12 Successfully installed railties-7.1.0
#12 19.12 Successfully installed marcel-1.0.4
#12 19.12 Successfully installed activemodel-7.1.0
#12 19.12 Successfully installed activerecord-7.1.0
#12 19.12 Successfully installed globalid-1.2.1
#12 19.12 Successfully installed activejob-7.1.0
#12 19.12 Successfully installed activestorage-7.1.0
#12 19.12 Successfully installed actiontext-7.1.0
#12 19.12 Successfully installed mini_mime-1.1.5
#12 19.12 Successfully installed mail-2.8.1
#12 19.12 Successfully installed actionmailer-7.1.0
#12 19.12 Successfully installed actionmailbox-7.1.0
#12 19.12 Successfully installed websocket-extensions-0.1.5
#12 19.12 Building native extensions. This could take a while...
#12 19.24 Successfully installed websocket-driver-0.7.6
#12 19.24 Building native extensions. This could take a while...
#12 20.73 Successfully installed nio4r-2.7.3
#12 20.73 Successfully installed actioncable-7.1.0
#12 20.73 Successfully installed rails-7.1.0
#12 20.73 38 gems installed
#12 DONE 20.8s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:b3e2c0c406122be6f3e2ea510b4af158cc2dc06c9011c16f78a9e4fce9d23dc0 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.69kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.154 Reading package lists...
#6 2.387 Building dependency tree...
#6 2.444 Reading state information...
#6 2.510 The following additional packages will be installed:
#6 2.510   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.510   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.511   postgresql-client-common
#6 2.511 Suggested packages:
#6 2.511   npm postgresql-15 postgresql-doc-15
#6 2.558 The following NEW packages will be installed:
#6 2.558   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.558   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.558   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.712 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.712 Need to get 15.9 MB of archives.
#6 2.712 After this operation, 75.6 MB of additional disk space will be used.
#6 2.712 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.874 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.954 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.955 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.108 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.165 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.177 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.186 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.295 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 6.861 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 6.877 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 9.176 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 9.195 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 10.11 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 10.21 debconf: delaying package configuration, since apt-utils is not installed
#6 10.22 Fetched 15.9 MB in 8s (2102 kB/s)
#6 10.24 Selecting previously unselected package libc-ares2:arm64.
#6 10.24 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 10.25 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 10.25 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 10.26 Selecting previously unselected package libuv1:arm64.
#6 10.26 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 10.26 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 10.28 Selecting previously unselected package node-xtend.
#6 10.28 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 10.28 Unpacking node-xtend (4.0.2-3) ...
#6 10.29 Selecting previously unselected package nodejs.
#6 10.29 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 10.29 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 10.32 Selecting previously unselected package node-acorn.
#6 10.33 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 10.33 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 10.35 Selecting previously unselected package node-cjs-module-lexer.
#6 10.35 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 10.35 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 10.36 Selecting previously unselected package node-busboy.
#6 10.36 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 10.36 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 10.37 Selecting previously unselected package node-undici.
#6 10.37 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 10.37 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 10.40 Selecting previously unselected package libnode108:arm64.
#6 10.40 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 10.40 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 10.69 Selecting previously unselected package netcat-openbsd.
#6 10.69 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 10.69 Unpacking netcat-openbsd (1.219-1) ...
#6 10.70 Selecting previously unselected package nodejs-doc.
#6 10.70 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 10.70 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 10.83 Selecting previously unselected package postgresql-client-common.
#6 10.84 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 10.84 Unpacking postgresql-client-common (248) ...
#6 10.85 Selecting previously unselected package postgresql-client-15.
#6 10.85 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 10.85 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 10.94 Selecting previously unselected package postgresql-client.
#6 10.94 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 10.94 Unpacking postgresql-client (15+248) ...
#6 10.95 Setting up postgresql-client-common (248) ...
#6 10.96 Setting up netcat-openbsd (1.219-1) ...
#6 10.96 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 10.96 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 11.11 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 11.12 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 11.12 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 11.12 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 11.13 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 11.13 Setting up node-xtend (4.0.2-3) ...
#6 11.14 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 11.14 Setting up postgresql-client (15+248) ...
#6 11.15 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 11.15 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 11.15 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 11.16 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 11.16 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 11.16 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 11.2s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.586 Successfully installed bundler-2.5.18
#11 1.586 1 gem installed
#11 DONE 1.6s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 12.92 Successfully installed zeitwerk-2.6.18
#12 12.92 Successfully installed thor-1.3.2
#12 12.92 Successfully installed webrick-1.8.1
#12 12.92 Successfully installed rack-3.1.7
#12 12.92 Successfully installed rackup-2.1.0
#12 12.92 Successfully installed concurrent-ruby-1.3.4
#12 12.92 Successfully installed tzinfo-2.0.6
#12 12.92 Successfully installed i18n-1.14.5
#12 12.92 Successfully installed connection_pool-2.4.1
#12 12.92 Successfully installed activesupport-7.1.0
#12 12.92 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 12.92 Successfully installed crass-1.0.6
#12 12.92 Successfully installed loofah-2.22.0
#12 12.92 Successfully installed rails-html-sanitizer-1.6.0
#12 12.92 Successfully installed rails-dom-testing-2.2.0
#12 12.92 Successfully installed rack-test-2.1.0
#12 12.92 Successfully installed rack-session-2.0.0
#12 12.92 Successfully installed erubi-1.13.0
#12 12.92 Successfully installed builder-3.3.0
#12 12.92 Successfully installed actionview-7.1.0
#12 12.92 Successfully installed actionpack-7.1.0
#12 12.92 Successfully installed railties-7.1.0
#12 12.92 Successfully installed marcel-1.0.4
#12 12.92 Successfully installed activemodel-7.1.0
#12 12.92 Successfully installed activerecord-7.1.0
#12 12.92 Successfully installed globalid-1.2.1
#12 12.92 Successfully installed activejob-7.1.0
#12 12.92 Successfully installed activestorage-7.1.0
#12 12.92 Successfully installed actiontext-7.1.0
#12 12.92 Successfully installed mini_mime-1.1.5
#12 12.92 Successfully installed mail-2.8.1
#12 12.92 Successfully installed actionmailer-7.1.0
#12 12.92 Successfully installed actionmailbox-7.1.0
#12 12.92 Successfully installed websocket-extensions-0.1.5
#12 12.92 Building native extensions. This could take a while...
#12 13.04 Successfully installed websocket-driver-0.7.6
#12 13.04 Building native extensions. This could take a while...
#12 14.61 Successfully installed nio4r-2.7.3
#12 14.61 Successfully installed actioncable-7.1.0
#12 14.61 Successfully installed rails-7.1.0
#12 14.61 38 gems installed
#12 DONE 14.7s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:2db8141733f983b621c7d698e19f884b35e3d317013638e6996a049407283ecc done
#15 naming to docker.io/library/spina-app-web
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.57kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.029 Reading package lists...
#6 2.244 Building dependency tree...
#6 2.300 Reading state information...
#6 2.365 The following additional packages will be installed:
#6 2.365   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.365   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.365   postgresql-client-common
#6 2.365 Suggested packages:
#6 2.365   npm postgresql-15 postgresql-doc-15
#6 2.411 The following NEW packages will be installed:
#6 2.411   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.411   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.411   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.541 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.541 Need to get 15.9 MB of archives.
#6 2.541 After this operation, 75.6 MB of additional disk space will be used.
#6 2.541 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.683 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.710 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.710 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.851 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.854 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.855 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.856 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.879 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.379 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.381 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.520 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.523 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.582 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.686 debconf: delaying package configuration, since apt-utils is not installed
#6 3.697 Fetched 15.9 MB in 1s (13.6 MB/s)
#6 3.706 Selecting previously unselected package libc-ares2:arm64.
#6 3.706 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.716 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.717 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.732 Selecting previously unselected package libuv1:arm64.
#6 3.733 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.734 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.747 Selecting previously unselected package node-xtend.
#6 3.748 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.749 Unpacking node-xtend (4.0.2-3) ...
#6 3.758 Selecting previously unselected package nodejs.
#6 3.759 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.759 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.790 Selecting previously unselected package node-acorn.
#6 3.791 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.792 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.810 Selecting previously unselected package node-cjs-module-lexer.
#6 3.811 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.812 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.821 Selecting previously unselected package node-busboy.
#6 3.822 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.823 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.833 Selecting previously unselected package node-undici.
#6 3.834 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.837 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.859 Selecting previously unselected package libnode108:arm64.
#6 3.860 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.861 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.156 Selecting previously unselected package netcat-openbsd.
#6 4.157 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.158 Unpacking netcat-openbsd (1.219-1) ...
#6 4.168 Selecting previously unselected package nodejs-doc.
#6 4.169 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.170 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.300 Selecting previously unselected package postgresql-client-common.
#6 4.301 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.302 Unpacking postgresql-client-common (248) ...
#6 4.312 Selecting previously unselected package postgresql-client-15.
#6 4.313 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.314 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.401 Selecting previously unselected package postgresql-client.
#6 4.402 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.403 Unpacking postgresql-client (15+248) ...
#6 4.415 Setting up postgresql-client-common (248) ...
#6 4.419 Setting up netcat-openbsd (1.219-1) ...
#6 4.423 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.424 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.560 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.573 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.575 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.578 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.580 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.583 Setting up node-xtend (4.0.2-3) ...
#6 4.585 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.588 Setting up postgresql-client (15+248) ...
#6 4.590 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.594 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.597 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.599 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.602 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.604 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.281 Successfully installed bundler-2.5.18
#11 1.281 1 gem installed
#11 DONE 1.3s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 14.55 Successfully installed zeitwerk-2.6.18
#12 14.55 Successfully installed thor-1.3.2
#12 14.55 Successfully installed webrick-1.8.1
#12 14.55 Successfully installed rack-3.1.7
#12 14.55 Successfully installed rackup-2.1.0
#12 14.55 Successfully installed concurrent-ruby-1.3.4
#12 14.55 Successfully installed tzinfo-2.0.6
#12 14.55 Successfully installed i18n-1.14.5
#12 14.55 Successfully installed connection_pool-2.4.1
#12 14.55 Successfully installed activesupport-7.1.0
#12 14.55 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 14.55 Successfully installed crass-1.0.6
#12 14.55 Successfully installed loofah-2.22.0
#12 14.55 Successfully installed rails-html-sanitizer-1.6.0
#12 14.55 Successfully installed rails-dom-testing-2.2.0
#12 14.55 Successfully installed rack-test-2.1.0
#12 14.55 Successfully installed rack-session-2.0.0
#12 14.55 Successfully installed erubi-1.13.0
#12 14.55 Successfully installed builder-3.3.0
#12 14.55 Successfully installed actionview-7.1.0
#12 14.55 Successfully installed actionpack-7.1.0
#12 14.55 Successfully installed railties-7.1.0
#12 14.55 Successfully installed marcel-1.0.4
#12 14.55 Successfully installed activemodel-7.1.0
#12 14.55 Successfully installed activerecord-7.1.0
#12 14.55 Successfully installed globalid-1.2.1
#12 14.55 Successfully installed activejob-7.1.0
#12 14.55 Successfully installed activestorage-7.1.0
#12 14.55 Successfully installed actiontext-7.1.0
#12 14.55 Successfully installed mini_mime-1.1.5
#12 14.55 Successfully installed mail-2.8.1
#12 14.55 Successfully installed actionmailer-7.1.0
#12 14.55 Successfully installed actionmailbox-7.1.0
#12 14.55 Successfully installed websocket-extensions-0.1.5
#12 14.55 Building native extensions. This could take a while...
#12 14.68 Successfully installed websocket-driver-0.7.6
#12 14.68 Building native extensions. This could take a while...
#12 16.20 Successfully installed nio4r-2.7.3
#12 16.20 Successfully installed actioncable-7.1.0
#12 16.20 Successfully installed rails-7.1.0
#12 16.20 38 gems installed
#12 DONE 16.2s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:1a00da0794bbea2fd581b86e864a50520fe9db8bea0d4182eb5b297ecbc1f76b done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 4.7s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.78kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.935 Reading package lists...
#6 2.156 Building dependency tree...
#6 2.212 Reading state information...
#6 2.277 The following additional packages will be installed:
#6 2.278   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.278   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.278   postgresql-client-common
#6 2.278 Suggested packages:
#6 2.278   npm postgresql-15 postgresql-doc-15
#6 2.326 The following NEW packages will be installed:
#6 2.326   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.326   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.326   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.464 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.464 Need to get 15.9 MB of archives.
#6 2.464 After this operation, 75.6 MB of additional disk space will be used.
#6 2.464 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.623 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.684 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.685 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.753 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.766 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.769 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.772 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.809 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.305 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.307 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.361 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.362 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.394 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.480 debconf: delaying package configuration, since apt-utils is not installed
#6 3.490 Fetched 15.9 MB in 1s (14.9 MB/s)
#6 3.499 Selecting previously unselected package libc-ares2:arm64.
#6 3.499 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.510 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.513 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.526 Selecting previously unselected package libuv1:arm64.
#6 3.527 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.528 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.541 Selecting previously unselected package node-xtend.
#6 3.542 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.543 Unpacking node-xtend (4.0.2-3) ...
#6 3.551 Selecting previously unselected package nodejs.
#6 3.551 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.552 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.586 Selecting previously unselected package node-acorn.
#6 3.587 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.588 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.608 Selecting previously unselected package node-cjs-module-lexer.
#6 3.609 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.611 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.620 Selecting previously unselected package node-busboy.
#6 3.621 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.622 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.632 Selecting previously unselected package node-undici.
#6 3.633 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.636 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.658 Selecting previously unselected package libnode108:arm64.
#6 3.659 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.660 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 3.962 Selecting previously unselected package netcat-openbsd.
#6 3.964 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 3.964 Unpacking netcat-openbsd (1.219-1) ...
#6 3.974 Selecting previously unselected package nodejs-doc.
#6 3.975 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 3.976 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.107 Selecting previously unselected package postgresql-client-common.
#6 4.108 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.109 Unpacking postgresql-client-common (248) ...
#6 4.120 Selecting previously unselected package postgresql-client-15.
#6 4.121 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.122 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.208 Selecting previously unselected package postgresql-client.
#6 4.209 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.210 Unpacking postgresql-client (15+248) ...
#6 4.222 Setting up postgresql-client-common (248) ...
#6 4.226 Setting up netcat-openbsd (1.219-1) ...
#6 4.230 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.232 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.369 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.385 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.388 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.390 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.393 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.395 Setting up node-xtend (4.0.2-3) ...
#6 4.398 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.400 Setting up postgresql-client (15+248) ...
#6 4.402 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.406 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.408 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.411 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.414 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.416 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.593 Successfully installed bundler-2.5.18
#11 1.593 1 gem installed
#11 DONE 1.6s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 16.81 Successfully installed zeitwerk-2.6.18
#12 16.81 Successfully installed thor-1.3.2
#12 16.81 Successfully installed webrick-1.8.1
#12 16.81 Successfully installed rack-3.1.7
#12 16.81 Successfully installed rackup-2.1.0
#12 16.81 Successfully installed concurrent-ruby-1.3.4
#12 16.81 Successfully installed tzinfo-2.0.6
#12 16.81 Successfully installed i18n-1.14.5
#12 16.81 Successfully installed connection_pool-2.4.1
#12 16.81 Successfully installed activesupport-7.1.0
#12 16.81 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 16.81 Successfully installed crass-1.0.6
#12 16.81 Successfully installed loofah-2.22.0
#12 16.81 Successfully installed rails-html-sanitizer-1.6.0
#12 16.81 Successfully installed rails-dom-testing-2.2.0
#12 16.81 Successfully installed rack-test-2.1.0
#12 16.81 Successfully installed rack-session-2.0.0
#12 16.81 Successfully installed erubi-1.13.0
#12 16.81 Successfully installed builder-3.3.0
#12 16.81 Successfully installed actionview-7.1.0
#12 16.81 Successfully installed actionpack-7.1.0
#12 16.81 Successfully installed railties-7.1.0
#12 16.81 Successfully installed marcel-1.0.4
#12 16.81 Successfully installed activemodel-7.1.0
#12 16.81 Successfully installed activerecord-7.1.0
#12 16.81 Successfully installed globalid-1.2.1
#12 16.81 Successfully installed activejob-7.1.0
#12 16.81 Successfully installed activestorage-7.1.0
#12 16.81 Successfully installed actiontext-7.1.0
#12 16.81 Successfully installed mini_mime-1.1.5
#12 16.81 Successfully installed mail-2.8.1
#12 16.81 Successfully installed actionmailer-7.1.0
#12 16.81 Successfully installed actionmailbox-7.1.0
#12 16.81 Successfully installed websocket-extensions-0.1.5
#12 16.81 Building native extensions. This could take a while...
#12 16.96 Successfully installed websocket-driver-0.7.6
#12 16.96 Building native extensions. This could take a while...
#12 18.54 Successfully installed nio4r-2.7.3
#12 18.54 Successfully installed actioncable-7.1.0
#12 18.54 Successfully installed rails-7.1.0
#12 18.54 38 gems installed
#12 DONE 18.6s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:f2eb65d9f0f3474bc02f3eccc0fca302fd23fd9d1738b4b5e75e01b46fc46685 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.6s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.72kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.991 Reading package lists...
#6 2.212 Building dependency tree...
#6 2.271 Reading state information...
#6 2.338 The following additional packages will be installed:
#6 2.338   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.338   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.338   postgresql-client-common
#6 2.339 Suggested packages:
#6 2.339   npm postgresql-15 postgresql-doc-15
#6 2.387 The following NEW packages will be installed:
#6 2.387   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.387   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.387   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.549 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.549 Need to get 15.9 MB of archives.
#6 2.549 After this operation, 75.6 MB of additional disk space will be used.
#6 2.549 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.737 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.814 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.817 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.901 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.917 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.922 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.923 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.970 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.442 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.445 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.670 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.671 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.715 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.823 debconf: delaying package configuration, since apt-utils is not installed
#6 3.833 Fetched 15.9 MB in 1s (12.0 MB/s)
#6 3.843 Selecting previously unselected package libc-ares2:arm64.
#6 3.843 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.854 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.856 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.869 Selecting previously unselected package libuv1:arm64.
#6 3.870 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.871 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.885 Selecting previously unselected package node-xtend.
#6 3.886 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.887 Unpacking node-xtend (4.0.2-3) ...
#6 3.897 Selecting previously unselected package nodejs.
#6 3.898 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.899 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.930 Selecting previously unselected package node-acorn.
#6 3.932 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.932 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.949 Selecting previously unselected package node-cjs-module-lexer.
#6 3.950 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.951 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.960 Selecting previously unselected package node-busboy.
#6 3.961 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.963 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.973 Selecting previously unselected package node-undici.
#6 3.974 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.976 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.999 Selecting previously unselected package libnode108:arm64.
#6 4.000 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.001 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.307 Selecting previously unselected package netcat-openbsd.
#6 4.308 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.309 Unpacking netcat-openbsd (1.219-1) ...
#6 4.319 Selecting previously unselected package nodejs-doc.
#6 4.320 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.321 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.452 Selecting previously unselected package postgresql-client-common.
#6 4.453 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.454 Unpacking postgresql-client-common (248) ...
#6 4.466 Selecting previously unselected package postgresql-client-15.
#6 4.467 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.468 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.557 Selecting previously unselected package postgresql-client.
#6 4.558 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.559 Unpacking postgresql-client (15+248) ...
#6 4.571 Setting up postgresql-client-common (248) ...
#6 4.575 Setting up netcat-openbsd (1.219-1) ...
#6 4.579 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.580 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.720 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.734 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.737 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.739 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.742 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.744 Setting up node-xtend (4.0.2-3) ...
#6 4.747 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.749 Setting up postgresql-client (15+248) ...
#6 4.752 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.757 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.759 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.762 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.765 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.767 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.512 Successfully installed bundler-2.5.18
#11 1.512 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 14.82 Successfully installed zeitwerk-2.6.18
#12 14.82 Successfully installed thor-1.3.2
#12 14.82 Successfully installed webrick-1.8.1
#12 14.82 Successfully installed rack-3.1.7
#12 14.82 Successfully installed rackup-2.1.0
#12 14.82 Successfully installed concurrent-ruby-1.3.4
#12 14.82 Successfully installed tzinfo-2.0.6
#12 14.82 Successfully installed i18n-1.14.5
#12 14.82 Successfully installed connection_pool-2.4.1
#12 14.82 Successfully installed activesupport-7.1.0
#12 14.82 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 14.82 Successfully installed crass-1.0.6
#12 14.82 Successfully installed loofah-2.22.0
#12 14.82 Successfully installed rails-html-sanitizer-1.6.0
#12 14.82 Successfully installed rails-dom-testing-2.2.0
#12 14.82 Successfully installed rack-test-2.1.0
#12 14.82 Successfully installed rack-session-2.0.0
#12 14.82 Successfully installed erubi-1.13.0
#12 14.82 Successfully installed builder-3.3.0
#12 14.82 Successfully installed actionview-7.1.0
#12 14.82 Successfully installed actionpack-7.1.0
#12 14.82 Successfully installed railties-7.1.0
#12 14.82 Successfully installed marcel-1.0.4
#12 14.82 Successfully installed activemodel-7.1.0
#12 14.82 Successfully installed activerecord-7.1.0
#12 14.82 Successfully installed globalid-1.2.1
#12 14.82 Successfully installed activejob-7.1.0
#12 14.82 Successfully installed activestorage-7.1.0
#12 14.82 Successfully installed actiontext-7.1.0
#12 14.82 Successfully installed mini_mime-1.1.5
#12 14.82 Successfully installed mail-2.8.1
#12 14.82 Successfully installed actionmailer-7.1.0
#12 14.82 Successfully installed actionmailbox-7.1.0
#12 14.82 Successfully installed websocket-extensions-0.1.5
#12 14.82 Building native extensions. This could take a while...
#12 14.94 Successfully installed websocket-driver-0.7.6
#12 14.94 Building native extensions. This could take a while...
#12 16.49 Successfully installed nio4r-2.7.3
#12 16.49 Successfully installed actioncable-7.1.0
#12 16.49 Successfully installed rails-7.1.0
#12 16.49 38 gems installed
#12 DONE 16.5s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:5f760b82ce8d4601c868e4550210cd77eb3e1393a74997def412476c085e1261
#15 writing image sha256:5f760b82ce8d4601c868e4550210cd77eb3e1393a74997def412476c085e1261 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.3s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.73kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.981 Reading package lists...
#6 2.198 Building dependency tree...
#6 2.255 Reading state information...
#6 2.320 The following additional packages will be installed:
#6 2.320   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.321   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.321   postgresql-client-common
#6 2.321 Suggested packages:
#6 2.321   npm postgresql-15 postgresql-doc-15
#6 2.371 The following NEW packages will be installed:
#6 2.371   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.371   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.371   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.518 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.518 Need to get 15.9 MB of archives.
#6 2.518 After this operation, 75.6 MB of additional disk space will be used.
#6 2.518 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.758 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.982 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.989 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.382 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.505 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.539 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.554 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.838 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 10.71 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 10.74 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 12.94 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 12.96 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 13.90 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 14.03 debconf: delaying package configuration, since apt-utils is not installed
#6 14.06 Fetched 15.9 MB in 12s (1376 kB/s)
#6 14.07 Selecting previously unselected package libc-ares2:arm64.
#6 14.07 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 14.08 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 14.08 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 14.10 Selecting previously unselected package libuv1:arm64.
#6 14.10 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 14.10 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 14.11 Selecting previously unselected package node-xtend.
#6 14.12 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 14.12 Unpacking node-xtend (4.0.2-3) ...
#6 14.13 Selecting previously unselected package nodejs.
#6 14.13 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 14.13 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 14.16 Selecting previously unselected package node-acorn.
#6 14.16 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 14.16 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 14.18 Selecting previously unselected package node-cjs-module-lexer.
#6 14.18 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 14.18 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 14.19 Selecting previously unselected package node-busboy.
#6 14.20 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 14.20 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 14.21 Selecting previously unselected package node-undici.
#6 14.21 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 14.21 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 14.23 Selecting previously unselected package libnode108:arm64.
#6 14.24 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 14.24 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 14.54 Selecting previously unselected package netcat-openbsd.
#6 14.54 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 14.54 Unpacking netcat-openbsd (1.219-1) ...
#6 14.55 Selecting previously unselected package nodejs-doc.
#6 14.55 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 14.55 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 14.68 Selecting previously unselected package postgresql-client-common.
#6 14.68 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 14.68 Unpacking postgresql-client-common (248) ...
#6 14.69 Selecting previously unselected package postgresql-client-15.
#6 14.69 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 14.70 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 14.78 Selecting previously unselected package postgresql-client.
#6 14.78 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 14.79 Unpacking postgresql-client (15+248) ...
#6 14.80 Setting up postgresql-client-common (248) ...
#6 14.80 Setting up netcat-openbsd (1.219-1) ...
#6 14.81 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 14.81 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 14.95 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 14.96 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 14.96 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 14.97 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 14.97 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 14.97 Setting up node-xtend (4.0.2-3) ...
#6 14.97 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 14.98 Setting up postgresql-client (15+248) ...
#6 14.98 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 14.98 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 14.99 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 14.99 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 14.99 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 14.99 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 15.1s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.455 Successfully installed bundler-2.5.18
#11 1.455 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 13.61 Successfully installed zeitwerk-2.6.18
#12 13.61 Successfully installed thor-1.3.2
#12 13.61 Successfully installed webrick-1.8.1
#12 13.61 Successfully installed rack-3.1.7
#12 13.61 Successfully installed rackup-2.1.0
#12 13.61 Successfully installed concurrent-ruby-1.3.4
#12 13.61 Successfully installed tzinfo-2.0.6
#12 13.61 Successfully installed i18n-1.14.5
#12 13.61 Successfully installed connection_pool-2.4.1
#12 13.61 Successfully installed activesupport-7.1.0
#12 13.61 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 13.61 Successfully installed crass-1.0.6
#12 13.61 Successfully installed loofah-2.22.0
#12 13.61 Successfully installed rails-html-sanitizer-1.6.0
#12 13.61 Successfully installed rails-dom-testing-2.2.0
#12 13.61 Successfully installed rack-test-2.1.0
#12 13.61 Successfully installed rack-session-2.0.0
#12 13.61 Successfully installed erubi-1.13.0
#12 13.61 Successfully installed builder-3.3.0
#12 13.61 Successfully installed actionview-7.1.0
#12 13.61 Successfully installed actionpack-7.1.0
#12 13.61 Successfully installed railties-7.1.0
#12 13.61 Successfully installed marcel-1.0.4
#12 13.61 Successfully installed activemodel-7.1.0
#12 13.61 Successfully installed activerecord-7.1.0
#12 13.61 Successfully installed globalid-1.2.1
#12 13.61 Successfully installed activejob-7.1.0
#12 13.61 Successfully installed activestorage-7.1.0
#12 13.61 Successfully installed actiontext-7.1.0
#12 13.61 Successfully installed mini_mime-1.1.5
#12 13.61 Successfully installed mail-2.8.1
#12 13.61 Successfully installed actionmailer-7.1.0
#12 13.61 Successfully installed actionmailbox-7.1.0
#12 13.61 Successfully installed websocket-extensions-0.1.5
#12 13.61 Building native extensions. This could take a while...
#12 13.73 Successfully installed websocket-driver-0.7.6
#12 13.73 Building native extensions. This could take a while...
#12 15.37 Successfully installed nio4r-2.7.3
#12 15.37 Successfully installed actioncable-7.1.0
#12 15.37 Successfully installed rails-7.1.0
#12 15.37 38 gems installed
#12 DONE 15.4s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:51f6b664514157822f307bee3842918c8cbd597aba2bfd477fc63e852c80388e done
#15 naming to docker.io/library/spina-app-web
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 752B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.1s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.84kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 1.979 Reading package lists...
#6 2.202 Building dependency tree...
#6 2.258 Reading state information...
#6 2.323 The following additional packages will be installed:
#6 2.324   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.324   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.324   postgresql-client-common
#6 2.324 Suggested packages:
#6 2.324   npm postgresql-15 postgresql-doc-15
#6 2.369 The following NEW packages will be installed:
#6 2.370   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.370   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.370   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.500 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.500 Need to get 15.9 MB of archives.
#6 2.500 After this operation, 75.6 MB of additional disk space will be used.
#6 2.500 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.645 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.704 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.708 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.775 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.786 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.790 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.791 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.826 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.274 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.277 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.452 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.453 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.464 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.564 debconf: delaying package configuration, since apt-utils is not installed
#6 3.574 Fetched 15.9 MB in 1s (14.5 MB/s)
#6 3.584 Selecting previously unselected package libc-ares2:arm64.
#6 3.584 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.594 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.597 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.611 Selecting previously unselected package libuv1:arm64.
#6 3.612 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.613 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.626 Selecting previously unselected package node-xtend.
#6 3.627 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.628 Unpacking node-xtend (4.0.2-3) ...
#6 3.637 Selecting previously unselected package nodejs.
#6 3.638 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.639 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.671 Selecting previously unselected package node-acorn.
#6 3.672 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.673 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.690 Selecting previously unselected package node-cjs-module-lexer.
#6 3.691 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.692 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.701 Selecting previously unselected package node-busboy.
#6 3.702 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.703 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.714 Selecting previously unselected package node-undici.
#6 3.715 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.717 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.741 Selecting previously unselected package libnode108:arm64.
#6 3.742 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.742 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.030 Selecting previously unselected package netcat-openbsd.
#6 4.031 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.032 Unpacking netcat-openbsd (1.219-1) ...
#6 4.042 Selecting previously unselected package nodejs-doc.
#6 4.043 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.044 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.173 Selecting previously unselected package postgresql-client-common.
#6 4.174 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.175 Unpacking postgresql-client-common (248) ...
#6 4.186 Selecting previously unselected package postgresql-client-15.
#6 4.187 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.188 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.274 Selecting previously unselected package postgresql-client.
#6 4.275 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.276 Unpacking postgresql-client (15+248) ...
#6 4.289 Setting up postgresql-client-common (248) ...
#6 4.293 Setting up netcat-openbsd (1.219-1) ...
#6 4.297 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.298 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.439 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.453 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.457 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.459 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.461 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.464 Setting up node-xtend (4.0.2-3) ...
#6 4.466 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.468 Setting up postgresql-client (15+248) ...
#6 4.471 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.475 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.478 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.480 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.483 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.485 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.5s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.356 Successfully installed bundler-2.5.18
#11 1.356 1 gem installed
#11 DONE 1.4s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 13.25 Successfully installed zeitwerk-2.6.18
#12 13.25 Successfully installed thor-1.3.2
#12 13.25 Successfully installed webrick-1.8.1
#12 13.25 Successfully installed rack-3.1.7
#12 13.25 Successfully installed rackup-2.1.0
#12 13.25 Successfully installed concurrent-ruby-1.3.4
#12 13.25 Successfully installed tzinfo-2.0.6
#12 13.25 Successfully installed i18n-1.14.5
#12 13.25 Successfully installed connection_pool-2.4.1
#12 13.25 Successfully installed activesupport-7.1.0
#12 13.25 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 13.25 Successfully installed crass-1.0.6
#12 13.25 Successfully installed loofah-2.22.0
#12 13.25 Successfully installed rails-html-sanitizer-1.6.0
#12 13.25 Successfully installed rails-dom-testing-2.2.0
#12 13.25 Successfully installed rack-test-2.1.0
#12 13.25 Successfully installed rack-session-2.0.0
#12 13.25 Successfully installed erubi-1.13.0
#12 13.25 Successfully installed builder-3.3.0
#12 13.25 Successfully installed actionview-7.1.0
#12 13.25 Successfully installed actionpack-7.1.0
#12 13.25 Successfully installed railties-7.1.0
#12 13.25 Successfully installed marcel-1.0.4
#12 13.25 Successfully installed activemodel-7.1.0
#12 13.25 Successfully installed activerecord-7.1.0
#12 13.25 Successfully installed globalid-1.2.1
#12 13.25 Successfully installed activejob-7.1.0
#12 13.25 Successfully installed activestorage-7.1.0
#12 13.25 Successfully installed actiontext-7.1.0
#12 13.25 Successfully installed mini_mime-1.1.5
#12 13.25 Successfully installed mail-2.8.1
#12 13.25 Successfully installed actionmailer-7.1.0
#12 13.25 Successfully installed actionmailbox-7.1.0
#12 13.25 Successfully installed websocket-extensions-0.1.5
#12 13.25 Building native extensions. This could take a while...
#12 13.37 Successfully installed websocket-driver-0.7.6
#12 13.37 Building native extensions. This could take a while...
#12 14.89 Successfully installed nio4r-2.7.3
#12 14.89 Successfully installed actioncable-7.1.0
#12 14.89 Successfully installed rails-7.1.0
#12 14.89 38 gems installed
#12 DONE 14.9s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:b23b64ecccbc34b8d689b266ece1cdb744e79162f01d515920f9de7cd43512f4 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.8s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.92kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.001 Reading package lists...
#6 2.213 Building dependency tree...
#6 2.269 Reading state information...
#6 2.337 The following additional packages will be installed:
#6 2.337   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.337   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.337   postgresql-client-common
#6 2.337 Suggested packages:
#6 2.337   npm postgresql-15 postgresql-doc-15
#6 2.386 The following NEW packages will be installed:
#6 2.386   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.386   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.386   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.555 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.555 Need to get 15.9 MB of archives.
#6 2.555 After this operation, 75.6 MB of additional disk space will be used.
#6 2.555 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.740 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.812 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.813 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.903 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.915 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 2.917 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 2.919 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 2.968 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.497 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.498 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.567 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.568 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.689 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.800 debconf: delaying package configuration, since apt-utils is not installed
#6 3.811 Fetched 15.9 MB in 1s (12.2 MB/s)
#6 3.820 Selecting previously unselected package libc-ares2:arm64.
#6 3.820 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.830 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.832 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.846 Selecting previously unselected package libuv1:arm64.
#6 3.847 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.848 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.861 Selecting previously unselected package node-xtend.
#6 3.862 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.863 Unpacking node-xtend (4.0.2-3) ...
#6 3.872 Selecting previously unselected package nodejs.
#6 3.873 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.874 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.905 Selecting previously unselected package node-acorn.
#6 3.906 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.906 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.923 Selecting previously unselected package node-cjs-module-lexer.
#6 3.924 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.925 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.934 Selecting previously unselected package node-busboy.
#6 3.935 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.936 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.946 Selecting previously unselected package node-undici.
#6 3.947 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.950 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.972 Selecting previously unselected package libnode108:arm64.
#6 3.973 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.974 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.272 Selecting previously unselected package netcat-openbsd.
#6 4.273 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.274 Unpacking netcat-openbsd (1.219-1) ...
#6 4.284 Selecting previously unselected package nodejs-doc.
#6 4.285 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.286 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.415 Selecting previously unselected package postgresql-client-common.
#6 4.416 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.417 Unpacking postgresql-client-common (248) ...
#6 4.428 Selecting previously unselected package postgresql-client-15.
#6 4.429 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.430 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.517 Selecting previously unselected package postgresql-client.
#6 4.518 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.519 Unpacking postgresql-client (15+248) ...
#6 4.532 Setting up postgresql-client-common (248) ...
#6 4.547 Setting up netcat-openbsd (1.219-1) ...
#6 4.551 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.552 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.691 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.705 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.708 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.710 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.713 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.715 Setting up node-xtend (4.0.2-3) ...
#6 4.718 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.720 Setting up postgresql-client (15+248) ...
#6 4.722 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.726 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.729 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.731 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.734 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.735 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.8s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.480 Successfully installed bundler-2.5.18
#11 1.480 1 gem installed
#11 DONE 1.5s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 16.75 Successfully installed zeitwerk-2.6.18
#12 16.75 Successfully installed thor-1.3.2
#12 16.75 Successfully installed webrick-1.8.1
#12 16.75 Successfully installed rack-3.1.7
#12 16.75 Successfully installed rackup-2.1.0
#12 16.75 Successfully installed concurrent-ruby-1.3.4
#12 16.75 Successfully installed tzinfo-2.0.6
#12 16.75 Successfully installed i18n-1.14.5
#12 16.75 Successfully installed connection_pool-2.4.1
#12 16.75 Successfully installed activesupport-7.1.0
#12 16.75 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 16.75 Successfully installed crass-1.0.6
#12 16.75 Successfully installed loofah-2.22.0
#12 16.75 Successfully installed rails-html-sanitizer-1.6.0
#12 16.75 Successfully installed rails-dom-testing-2.2.0
#12 16.75 Successfully installed rack-test-2.1.0
#12 16.75 Successfully installed rack-session-2.0.0
#12 16.75 Successfully installed erubi-1.13.0
#12 16.75 Successfully installed builder-3.3.0
#12 16.75 Successfully installed actionview-7.1.0
#12 16.75 Successfully installed actionpack-7.1.0
#12 16.75 Successfully installed railties-7.1.0
#12 16.75 Successfully installed marcel-1.0.4
#12 16.75 Successfully installed activemodel-7.1.0
#12 16.75 Successfully installed activerecord-7.1.0
#12 16.75 Successfully installed globalid-1.2.1
#12 16.75 Successfully installed activejob-7.1.0
#12 16.75 Successfully installed activestorage-7.1.0
#12 16.75 Successfully installed actiontext-7.1.0
#12 16.75 Successfully installed mini_mime-1.1.5
#12 16.75 Successfully installed mail-2.8.1
#12 16.75 Successfully installed actionmailer-7.1.0
#12 16.75 Successfully installed actionmailbox-7.1.0
#12 16.75 Successfully installed websocket-extensions-0.1.5
#12 16.75 Building native extensions. This could take a while...
#12 16.89 Successfully installed websocket-driver-0.7.6
#12 16.89 Building native extensions. This could take a while...
#12 18.47 Successfully installed nio4r-2.7.3
#12 18.47 Successfully installed actioncable-7.1.0
#12 18.47 Successfully installed rails-7.1.0
#12 18.47 38 gems installed
#12 DONE 18.5s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:bc7e7c4f850e4e4c5d79695339134843d3a90916a6db222a5fac0f5a44bb1f0f done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 2.2s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 1.91kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.163 Reading package lists...
#6 2.376 Building dependency tree...
#6 2.437 Reading state information...
#6 2.501 The following additional packages will be installed:
#6 2.501   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.501   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.501   postgresql-client-common
#6 2.502 Suggested packages:
#6 2.502   npm postgresql-15 postgresql-doc-15
#6 2.552 The following NEW packages will be installed:
#6 2.552   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.552   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.552   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.690 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.690 Need to get 15.9 MB of archives.
#6 2.690 After this operation, 75.6 MB of additional disk space will be used.
#6 2.690 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.864 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.929 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.930 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.018 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.075 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.076 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.081 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.126 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.958 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.959 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.105 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.113 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.178 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.297 debconf: delaying package configuration, since apt-utils is not installed
#6 4.311 Fetched 15.9 MB in 2s (9777 kB/s)
#6 4.323 Selecting previously unselected package libc-ares2:arm64.
#6 4.323 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.339 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.341 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.356 Selecting previously unselected package libuv1:arm64.
#6 4.358 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.358 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.373 Selecting previously unselected package node-xtend.
#6 4.374 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.375 Unpacking node-xtend (4.0.2-3) ...
#6 4.385 Selecting previously unselected package nodejs.
#6 4.386 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.387 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.420 Selecting previously unselected package node-acorn.
#6 4.422 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.423 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.441 Selecting previously unselected package node-cjs-module-lexer.
#6 4.443 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.444 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.454 Selecting previously unselected package node-busboy.
#6 4.455 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.456 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.468 Selecting previously unselected package node-undici.
#6 4.469 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.472 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.496 Selecting previously unselected package libnode108:arm64.
#6 4.497 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.498 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.790 Selecting previously unselected package netcat-openbsd.
#6 4.791 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.792 Unpacking netcat-openbsd (1.219-1) ...
#6 4.802 Selecting previously unselected package nodejs-doc.
#6 4.803 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.804 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.934 Selecting previously unselected package postgresql-client-common.
#6 4.935 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.936 Unpacking postgresql-client-common (248) ...
#6 4.949 Selecting previously unselected package postgresql-client-15.
#6 4.949 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.950 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.039 Selecting previously unselected package postgresql-client.
#6 5.040 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.041 Unpacking postgresql-client (15+248) ...
#6 5.054 Setting up postgresql-client-common (248) ...
#6 5.058 Setting up netcat-openbsd (1.219-1) ...
#6 5.062 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.064 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.207 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.221 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.223 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.225 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.228 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.231 Setting up node-xtend (4.0.2-3) ...
#6 5.233 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.236 Setting up postgresql-client (15+248) ...
#6 5.238 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.243 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.246 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.248 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.252 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.253 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.3s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 2.119 Successfully installed bundler-2.5.18
#11 2.119 1 gem installed
#11 DONE 2.1s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 13.16 Successfully installed zeitwerk-2.6.18
#12 13.16 Successfully installed thor-1.3.2
#12 13.16 Successfully installed webrick-1.8.1
#12 13.16 Successfully installed rack-3.1.7
#12 13.16 Successfully installed rackup-2.1.0
#12 13.16 Successfully installed concurrent-ruby-1.3.4
#12 13.16 Successfully installed tzinfo-2.0.6
#12 13.16 Successfully installed i18n-1.14.5
#12 13.16 Successfully installed connection_pool-2.4.1
#12 13.16 Successfully installed activesupport-7.1.0
#12 13.16 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 13.16 Successfully installed crass-1.0.6
#12 13.16 Successfully installed loofah-2.22.0
#12 13.16 Successfully installed rails-html-sanitizer-1.6.0
#12 13.16 Successfully installed rails-dom-testing-2.2.0
#12 13.16 Successfully installed rack-test-2.1.0
#12 13.16 Successfully installed rack-session-2.0.0
#12 13.16 Successfully installed erubi-1.13.0
#12 13.16 Successfully installed builder-3.3.0
#12 13.16 Successfully installed actionview-7.1.0
#12 13.16 Successfully installed actionpack-7.1.0
#12 13.16 Successfully installed railties-7.1.0
#12 13.16 Successfully installed marcel-1.0.4
#12 13.16 Successfully installed activemodel-7.1.0
#12 13.16 Successfully installed activerecord-7.1.0
#12 13.16 Successfully installed globalid-1.2.1
#12 13.16 Successfully installed activejob-7.1.0
#12 13.16 Successfully installed activestorage-7.1.0
#12 13.16 Successfully installed actiontext-7.1.0
#12 13.16 Successfully installed mini_mime-1.1.5
#12 13.16 Successfully installed mail-2.8.1
#12 13.16 Successfully installed actionmailer-7.1.0
#12 13.16 Successfully installed actionmailbox-7.1.0
#12 13.16 Successfully installed websocket-extensions-0.1.5
#12 13.16 Building native extensions. This could take a while...
#12 13.29 Successfully installed websocket-driver-0.7.6
#12 13.29 Building native extensions. This could take a while...
#12 14.84 Successfully installed nio4r-2.7.3
#12 14.84 Successfully installed actioncable-7.1.0
#12 14.84 Successfully installed rails-7.1.0
#12 14.84 38 gems installed
#12 DONE 14.9s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:ee93af55642aec93ba157e32ab0bd2e6dcc7ad323241580491cabb6900b6977a
#15 writing image sha256:ee93af55642aec93ba157e32ab0bd2e6dcc7ad323241580491cabb6900b6977a done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.3s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 2.07kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.053 Reading package lists...
#6 2.265 Building dependency tree...
#6 2.320 Reading state information...
#6 2.385 The following additional packages will be installed:
#6 2.385   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.385   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.385   postgresql-client-common
#6 2.385 Suggested packages:
#6 2.385   npm postgresql-15 postgresql-doc-15
#6 2.431 The following NEW packages will be installed:
#6 2.431   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.431   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.431   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.565 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.565 Need to get 15.9 MB of archives.
#6 2.565 After this operation, 75.6 MB of additional disk space will be used.
#6 2.565 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.743 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.792 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.792 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.974 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.032 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.033 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.038 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.153 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.511 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 4.512 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.820 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.822 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.934 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 5.043 debconf: delaying package configuration, since apt-utils is not installed
#6 5.053 Fetched 15.9 MB in 3s (6346 kB/s)
#6 5.062 Selecting previously unselected package libc-ares2:arm64.
#6 5.062 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 5.072 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 5.073 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 5.087 Selecting previously unselected package libuv1:arm64.
#6 5.088 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 5.088 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.101 Selecting previously unselected package node-xtend.
#6 5.102 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 5.103 Unpacking node-xtend (4.0.2-3) ...
#6 5.111 Selecting previously unselected package nodejs.
#6 5.112 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.112 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.143 Selecting previously unselected package node-acorn.
#6 5.144 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 5.145 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.162 Selecting previously unselected package node-cjs-module-lexer.
#6 5.163 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 5.163 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.172 Selecting previously unselected package node-busboy.
#6 5.172 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 5.173 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.183 Selecting previously unselected package node-undici.
#6 5.183 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 5.186 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.208 Selecting previously unselected package libnode108:arm64.
#6 5.209 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.210 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.503 Selecting previously unselected package netcat-openbsd.
#6 5.504 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 5.505 Unpacking netcat-openbsd (1.219-1) ...
#6 5.515 Selecting previously unselected package nodejs-doc.
#6 5.516 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 5.518 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.650 Selecting previously unselected package postgresql-client-common.
#6 5.651 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 5.652 Unpacking postgresql-client-common (248) ...
#6 5.663 Selecting previously unselected package postgresql-client-15.
#6 5.664 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.665 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.752 Selecting previously unselected package postgresql-client.
#6 5.753 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.754 Unpacking postgresql-client (15+248) ...
#6 5.765 Setting up postgresql-client-common (248) ...
#6 5.769 Setting up netcat-openbsd (1.219-1) ...
#6 5.773 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.775 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.911 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.925 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.927 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.930 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.933 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.935 Setting up node-xtend (4.0.2-3) ...
#6 5.938 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.940 Setting up postgresql-client (15+248) ...
#6 5.943 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.948 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.950 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.953 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.955 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.957 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 6.0s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.210 Successfully installed bundler-2.5.18
#11 1.210 1 gem installed
#11 DONE 1.2s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 16.62 Successfully installed zeitwerk-2.6.18
#12 16.62 Successfully installed thor-1.3.2
#12 16.62 Successfully installed webrick-1.8.1
#12 16.62 Successfully installed rack-3.1.7
#12 16.62 Successfully installed rackup-2.1.0
#12 16.62 Successfully installed concurrent-ruby-1.3.4
#12 16.62 Successfully installed tzinfo-2.0.6
#12 16.62 Successfully installed i18n-1.14.5
#12 16.62 Successfully installed connection_pool-2.4.1
#12 16.62 Successfully installed activesupport-7.1.0
#12 16.62 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 16.62 Successfully installed crass-1.0.6
#12 16.62 Successfully installed loofah-2.22.0
#12 16.62 Successfully installed rails-html-sanitizer-1.6.0
#12 16.62 Successfully installed rails-dom-testing-2.2.0
#12 16.62 Successfully installed rack-test-2.1.0
#12 16.62 Successfully installed rack-session-2.0.0
#12 16.62 Successfully installed erubi-1.13.0
#12 16.62 Successfully installed builder-3.3.0
#12 16.62 Successfully installed actionview-7.1.0
#12 16.62 Successfully installed actionpack-7.1.0
#12 16.62 Successfully installed railties-7.1.0
#12 16.62 Successfully installed marcel-1.0.4
#12 16.62 Successfully installed activemodel-7.1.0
#12 16.62 Successfully installed activerecord-7.1.0
#12 16.62 Successfully installed globalid-1.2.1
#12 16.62 Successfully installed activejob-7.1.0
#12 16.62 Successfully installed activestorage-7.1.0
#12 16.62 Successfully installed actiontext-7.1.0
#12 16.62 Successfully installed mini_mime-1.1.5
#12 16.62 Successfully installed mail-2.8.1
#12 16.62 Successfully installed actionmailer-7.1.0
#12 16.62 Successfully installed actionmailbox-7.1.0
#12 16.62 Successfully installed websocket-extensions-0.1.5
#12 16.62 Building native extensions. This could take a while...
#12 16.74 Successfully installed websocket-driver-0.7.6
#12 16.74 Building native extensions. This could take a while...
#12 18.28 Successfully installed nio4r-2.7.3
#12 18.28 Successfully installed actioncable-7.1.0
#12 18.28 Successfully installed rails-7.1.0
#12 18.28 38 gems installed
#12 DONE 18.3s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:dfcd2809fb391faf7193d701be52adc93bd880659c5209b189e52740db8ee8b4
#15 writing image sha256:dfcd2809fb391faf7193d701be52adc93bd880659c5209b189e52740db8ee8b4 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.9s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 2.10kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.812 Reading package lists...
#6 3.071 Building dependency tree...
#6 3.150 Reading state information...
#6 3.224 The following additional packages will be installed:
#6 3.224   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 3.224   node-undici node-xtend nodejs-doc postgresql-client-15
#6 3.224   postgresql-client-common
#6 3.225 Suggested packages:
#6 3.225   npm postgresql-15 postgresql-doc-15
#6 3.282 The following NEW packages will be installed:
#6 3.282   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 3.282   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 3.282   postgresql-client postgresql-client-15 postgresql-client-common
#6 3.430 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 3.430 Need to get 15.9 MB of archives.
#6 3.430 After this operation, 75.6 MB of additional disk space will be used.
#6 3.430 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.574 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.636 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.637 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.706 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.719 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.720 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.722 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.770 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.177 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 4.178 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.311 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.312 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.380 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.501 debconf: delaying package configuration, since apt-utils is not installed
#6 4.513 Fetched 15.9 MB in 1s (14.5 MB/s)
#6 4.524 Selecting previously unselected package libc-ares2:arm64.
#6 4.524 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.535 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.537 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.551 Selecting previously unselected package libuv1:arm64.
#6 4.552 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.553 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.566 Selecting previously unselected package node-xtend.
#6 4.567 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.568 Unpacking node-xtend (4.0.2-3) ...
#6 4.578 Selecting previously unselected package nodejs.
#6 4.579 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.581 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.616 Selecting previously unselected package node-acorn.
#6 4.617 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.618 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.637 Selecting previously unselected package node-cjs-module-lexer.
#6 4.639 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.640 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.650 Selecting previously unselected package node-busboy.
#6 4.651 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.652 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.664 Selecting previously unselected package node-undici.
#6 4.665 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.668 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.692 Selecting previously unselected package libnode108:arm64.
#6 4.693 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.694 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.023 Selecting previously unselected package netcat-openbsd.
#6 5.024 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 5.025 Unpacking netcat-openbsd (1.219-1) ...
#6 5.037 Selecting previously unselected package nodejs-doc.
#6 5.038 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 5.039 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.177 Selecting previously unselected package postgresql-client-common.
#6 5.178 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 5.179 Unpacking postgresql-client-common (248) ...
#6 5.191 Selecting previously unselected package postgresql-client-15.
#6 5.192 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.193 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.285 Selecting previously unselected package postgresql-client.
#6 5.287 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.288 Unpacking postgresql-client (15+248) ...
#6 5.302 Setting up postgresql-client-common (248) ...
#6 5.307 Setting up netcat-openbsd (1.219-1) ...
#6 5.311 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.313 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.464 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.480 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.483 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.486 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.489 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.492 Setting up node-xtend (4.0.2-3) ...
#6 5.494 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.497 Setting up postgresql-client (15+248) ...
#6 5.499 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.504 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.507 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.509 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.512 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.514 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.6s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 2.187 Successfully installed bundler-2.5.18
#11 2.187 1 gem installed
#11 DONE 2.2s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 14.75 Successfully installed zeitwerk-2.6.18
#12 14.75 Successfully installed thor-1.3.2
#12 14.75 Successfully installed webrick-1.8.1
#12 14.75 Successfully installed rack-3.1.7
#12 14.75 Successfully installed rackup-2.1.0
#12 14.75 Successfully installed concurrent-ruby-1.3.4
#12 14.75 Successfully installed tzinfo-2.0.6
#12 14.75 Successfully installed i18n-1.14.5
#12 14.75 Successfully installed connection_pool-2.4.1
#12 14.75 Successfully installed activesupport-7.1.0
#12 14.75 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 14.75 Successfully installed crass-1.0.6
#12 14.75 Successfully installed loofah-2.22.0
#12 14.75 Successfully installed rails-html-sanitizer-1.6.0
#12 14.75 Successfully installed rails-dom-testing-2.2.0
#12 14.75 Successfully installed rack-test-2.1.0
#12 14.75 Successfully installed rack-session-2.0.0
#12 14.75 Successfully installed erubi-1.13.0
#12 14.75 Successfully installed builder-3.3.0
#12 14.75 Successfully installed actionview-7.1.0
#12 14.75 Successfully installed actionpack-7.1.0
#12 14.75 Successfully installed railties-7.1.0
#12 14.75 Successfully installed marcel-1.0.4
#12 14.75 Successfully installed activemodel-7.1.0
#12 14.75 Successfully installed activerecord-7.1.0
#12 14.75 Successfully installed globalid-1.2.1
#12 14.75 Successfully installed activejob-7.1.0
#12 14.75 Successfully installed activestorage-7.1.0
#12 14.75 Successfully installed actiontext-7.1.0
#12 14.75 Successfully installed mini_mime-1.1.5
#12 14.75 Successfully installed mail-2.8.1
#12 14.75 Successfully installed actionmailer-7.1.0
#12 14.75 Successfully installed actionmailbox-7.1.0
#12 14.75 Successfully installed websocket-extensions-0.1.5
#12 14.75 Building native extensions. This could take a while...
#12 14.88 Successfully installed websocket-driver-0.7.6
#12 14.88 Building native extensions. This could take a while...
#12 16.44 Successfully installed nio4r-2.7.3
#12 16.44 Successfully installed actioncable-7.1.0
#12 16.44 Successfully installed rails-7.1.0
#12 16.44 38 gems installed
#12 DONE 16.5s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:8bf1a9c326bff4fc4054e54343677c1297ee27ed99915a19d8fae91f91eeda03
#15 writing image sha256:8bf1a9c326bff4fc4054e54343677c1297ee27ed99915a19d8fae91f91eeda03 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.0s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 354B done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.538 Reading package lists...
#6 2.805 Building dependency tree...
#6 2.869 Reading state information...
#6 2.938 The following additional packages will be installed:
#6 2.938   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.938   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.938   postgresql-client-common
#6 2.939 Suggested packages:
#6 2.939   npm postgresql-15 postgresql-doc-15
#6 2.988 The following NEW packages will be installed:
#6 2.988   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.988   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.988   postgresql-client postgresql-client-15 postgresql-client-common
#6 3.124 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 3.124 Need to get 15.9 MB of archives.
#6 3.124 After this operation, 75.6 MB of additional disk space will be used.
#6 3.124 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.269 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.296 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.298 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.401 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.409 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.411 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.413 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.461 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.952 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.952 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.100 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.101 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.165 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.284 debconf: delaying package configuration, since apt-utils is not installed
#6 4.296 Fetched 15.9 MB in 1s (13.5 MB/s)
#6 4.307 Selecting previously unselected package libc-ares2:arm64.
#6 4.307 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.319 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.320 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.335 Selecting previously unselected package libuv1:arm64.
#6 4.336 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.337 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.350 Selecting previously unselected package node-xtend.
#6 4.351 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.352 Unpacking node-xtend (4.0.2-3) ...
#6 4.361 Selecting previously unselected package nodejs.
#6 4.362 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.363 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.395 Selecting previously unselected package node-acorn.
#6 4.396 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.397 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.415 Selecting previously unselected package node-cjs-module-lexer.
#6 4.416 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.416 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.426 Selecting previously unselected package node-busboy.
#6 4.427 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.428 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.439 Selecting previously unselected package node-undici.
#6 4.440 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.443 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.466 Selecting previously unselected package libnode108:arm64.
#6 4.467 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.468 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.768 Selecting previously unselected package netcat-openbsd.
#6 4.769 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.770 Unpacking netcat-openbsd (1.219-1) ...
#6 4.781 Selecting previously unselected package nodejs-doc.
#6 4.782 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.783 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.937 Selecting previously unselected package postgresql-client-common.
#6 4.938 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.939 Unpacking postgresql-client-common (248) ...
#6 4.989 Selecting previously unselected package postgresql-client-15.
#6 4.993 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.004 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.139 Selecting previously unselected package postgresql-client.
#6 5.141 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.142 Unpacking postgresql-client (15+248) ...
#6 5.156 Setting up postgresql-client-common (248) ...
#6 5.162 Setting up netcat-openbsd (1.219-1) ...
#6 5.167 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.169 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.340 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.354 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.356 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.358 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.361 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.363 Setting up node-xtend (4.0.2-3) ...
#6 5.365 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.367 Setting up postgresql-client (15+248) ...
#6 5.370 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.374 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.377 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.379 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.382 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.384 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.4s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.dev .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.558 Successfully installed bundler-2.5.18
#11 1.558 1 gem installed
#11 DONE 1.6s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 22.92 Successfully installed zeitwerk-2.6.18
#12 22.92 Successfully installed thor-1.3.2
#12 22.92 Successfully installed webrick-1.8.1
#12 22.92 Successfully installed rack-3.1.7
#12 22.92 Successfully installed rackup-2.1.0
#12 22.92 Successfully installed concurrent-ruby-1.3.4
#12 22.92 Successfully installed tzinfo-2.0.6
#12 22.92 Successfully installed i18n-1.14.5
#12 22.92 Successfully installed connection_pool-2.4.1
#12 22.92 Successfully installed activesupport-7.1.0
#12 22.92 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 22.92 Successfully installed crass-1.0.6
#12 22.92 Successfully installed loofah-2.22.0
#12 22.92 Successfully installed rails-html-sanitizer-1.6.0
#12 22.92 Successfully installed rails-dom-testing-2.2.0
#12 22.92 Successfully installed rack-test-2.1.0
#12 22.92 Successfully installed rack-session-2.0.0
#12 22.92 Successfully installed erubi-1.13.0
#12 22.92 Successfully installed builder-3.3.0
#12 22.92 Successfully installed actionview-7.1.0
#12 22.92 Successfully installed actionpack-7.1.0
#12 22.92 Successfully installed railties-7.1.0
#12 22.92 Successfully installed marcel-1.0.4
#12 22.92 Successfully installed activemodel-7.1.0
#12 22.92 Successfully installed activerecord-7.1.0
#12 22.92 Successfully installed globalid-1.2.1
#12 22.92 Successfully installed activejob-7.1.0
#12 22.92 Successfully installed activestorage-7.1.0
#12 22.92 Successfully installed actiontext-7.1.0
#12 22.92 Successfully installed mini_mime-1.1.5
#12 22.92 Successfully installed mail-2.8.1
#12 22.92 Successfully installed actionmailer-7.1.0
#12 22.92 Successfully installed actionmailbox-7.1.0
#12 22.92 Successfully installed websocket-extensions-0.1.5
#12 22.92 Building native extensions. This could take a while...
#12 23.04 Successfully installed websocket-driver-0.7.6
#12 23.04 Building native extensions. This could take a while...
#12 24.60 Successfully installed nio4r-2.7.3
#12 24.60 Successfully installed actioncable-7.1.0
#12 24.60 Successfully installed rails-7.1.0
#12 24.60 38 gems installed
#12 DONE 24.6s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:367a8fba33f784b6767346d0c42eb6947bef23503c241f8d9b8d4c14500893d5 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_web_data  Removing
 Volume spina-app_postgres_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_web_data  Removed
 Volume spina-app_postgres_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 2.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 2.03kB done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.342 Reading package lists...
#6 2.585 Building dependency tree...
#6 2.647 Reading state information...
#6 2.717 The following additional packages will be installed:
#6 2.718   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.718   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.718   postgresql-client-common
#6 2.718 Suggested packages:
#6 2.718   npm postgresql-15 postgresql-doc-15
#6 2.768 The following NEW packages will be installed:
#6 2.768   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.768   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.769   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.910 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.910 Need to get 15.9 MB of archives.
#6 2.910 After this operation, 75.6 MB of additional disk space will be used.
#6 2.910 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.078 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.105 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.106 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.225 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.239 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.240 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.242 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.292 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.108 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 4.110 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.362 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.365 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.531 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.657 debconf: delaying package configuration, since apt-utils is not installed
#6 4.672 Fetched 15.9 MB in 2s (9013 kB/s)
#6 4.682 Selecting previously unselected package libc-ares2:arm64.
#6 4.682 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.697 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.700 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.715 Selecting previously unselected package libuv1:arm64.
#6 4.716 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.717 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.732 Selecting previously unselected package node-xtend.
#6 4.733 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.733 Unpacking node-xtend (4.0.2-3) ...
#6 4.743 Selecting previously unselected package nodejs.
#6 4.744 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.745 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.778 Selecting previously unselected package node-acorn.
#6 4.779 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.780 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.799 Selecting previously unselected package node-cjs-module-lexer.
#6 4.800 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.801 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.811 Selecting previously unselected package node-busboy.
#6 4.812 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.813 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.824 Selecting previously unselected package node-undici.
#6 4.825 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.828 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.853 Selecting previously unselected package libnode108:arm64.
#6 4.854 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.855 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.161 Selecting previously unselected package netcat-openbsd.
#6 5.162 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 5.163 Unpacking netcat-openbsd (1.219-1) ...
#6 5.173 Selecting previously unselected package nodejs-doc.
#6 5.174 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 5.175 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.306 Selecting previously unselected package postgresql-client-common.
#6 5.307 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 5.308 Unpacking postgresql-client-common (248) ...
#6 5.319 Selecting previously unselected package postgresql-client-15.
#6 5.320 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.321 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.407 Selecting previously unselected package postgresql-client.
#6 5.408 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.409 Unpacking postgresql-client (15+248) ...
#6 5.422 Setting up postgresql-client-common (248) ...
#6 5.426 Setting up netcat-openbsd (1.219-1) ...
#6 5.430 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.432 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.574 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.589 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.592 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.595 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.597 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.599 Setting up node-xtend (4.0.2-3) ...
#6 5.602 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.604 Setting up postgresql-client (15+248) ...
#6 5.607 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.611 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.614 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.616 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.619 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.621 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.7s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.dev .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 3.342 Successfully installed bundler-2.5.18
#11 3.342 1 gem installed
#11 DONE 3.4s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 27.40 Successfully installed zeitwerk-2.6.18
#12 27.40 Successfully installed thor-1.3.2
#12 27.40 Successfully installed webrick-1.8.1
#12 27.40 Successfully installed rack-3.1.7
#12 27.40 Successfully installed rackup-2.1.0
#12 27.40 Successfully installed concurrent-ruby-1.3.4
#12 27.40 Successfully installed tzinfo-2.0.6
#12 27.40 Successfully installed i18n-1.14.5
#12 27.40 Successfully installed connection_pool-2.4.1
#12 27.40 Successfully installed activesupport-7.1.0
#12 27.40 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 27.40 Successfully installed crass-1.0.6
#12 27.40 Successfully installed loofah-2.22.0
#12 27.40 Successfully installed rails-html-sanitizer-1.6.0
#12 27.40 Successfully installed rails-dom-testing-2.2.0
#12 27.40 Successfully installed rack-test-2.1.0
#12 27.40 Successfully installed rack-session-2.0.0
#12 27.40 Successfully installed erubi-1.13.0
#12 27.40 Successfully installed builder-3.3.0
#12 27.40 Successfully installed actionview-7.1.0
#12 27.40 Successfully installed actionpack-7.1.0
#12 27.40 Successfully installed railties-7.1.0
#12 27.40 Successfully installed marcel-1.0.4
#12 27.40 Successfully installed activemodel-7.1.0
#12 27.40 Successfully installed activerecord-7.1.0
#12 27.40 Successfully installed globalid-1.2.1
#12 27.40 Successfully installed activejob-7.1.0
#12 27.40 Successfully installed activestorage-7.1.0
#12 27.40 Successfully installed actiontext-7.1.0
#12 27.40 Successfully installed mini_mime-1.1.5
#12 27.40 Successfully installed mail-2.8.1
#12 27.40 Successfully installed actionmailer-7.1.0
#12 27.40 Successfully installed actionmailbox-7.1.0
#12 27.40 Successfully installed websocket-extensions-0.1.5
#12 27.40 Building native extensions. This could take a while...
#12 27.53 Successfully installed websocket-driver-0.7.6
#12 27.53 Building native extensions. This could take a while...
#12 29.07 Successfully installed nio4r-2.7.3
#12 29.07 Successfully installed actioncable-7.1.0
#12 29.07 Successfully installed rails-7.1.0
#12 29.07 38 gems installed
#12 DONE 29.1s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:ae8073babcfcd35b66abb90927ae9289dfb6f0b760ee55de3dd8189308507bd0
#15 writing image sha256:ae8073babcfcd35b66abb90927ae9289dfb6f0b760ee55de3dd8189308507bd0 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.9s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 377B done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.622 Reading package lists...
#6 2.859 Building dependency tree...
#6 2.925 Reading state information...
#6 2.995 The following additional packages will be installed:
#6 2.995   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.995   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.995   postgresql-client-common
#6 2.996 Suggested packages:
#6 2.996   npm postgresql-15 postgresql-doc-15
#6 3.048 The following NEW packages will be installed:
#6 3.048   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 3.048   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 3.048   postgresql-client postgresql-client-15 postgresql-client-common
#6 3.183 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 3.183 Need to get 15.9 MB of archives.
#6 3.183 After this operation, 75.6 MB of additional disk space will be used.
#6 3.183 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.339 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.365 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.368 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.485 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.497 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.499 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.502 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.552 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.417 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 4.419 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.649 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.651 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.755 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.903 debconf: delaying package configuration, since apt-utils is not installed
#6 4.924 Fetched 15.9 MB in 2s (9307 kB/s)
#6 4.937 Selecting previously unselected package libc-ares2:arm64.
#6 4.937 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.957 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.959 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.977 Selecting previously unselected package libuv1:arm64.
#6 4.978 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.980 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.996 Selecting previously unselected package node-xtend.
#6 4.998 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.999 Unpacking node-xtend (4.0.2-3) ...
#6 5.010 Selecting previously unselected package nodejs.
#6 5.012 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.013 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.055 Selecting previously unselected package node-acorn.
#6 5.057 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 5.058 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.079 Selecting previously unselected package node-cjs-module-lexer.
#6 5.080 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 5.081 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.092 Selecting previously unselected package node-busboy.
#6 5.094 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 5.095 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.107 Selecting previously unselected package node-undici.
#6 5.109 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 5.112 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.137 Selecting previously unselected package libnode108:arm64.
#6 5.138 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 5.139 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.438 Selecting previously unselected package netcat-openbsd.
#6 5.439 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 5.439 Unpacking netcat-openbsd (1.219-1) ...
#6 5.450 Selecting previously unselected package nodejs-doc.
#6 5.451 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 5.452 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.584 Selecting previously unselected package postgresql-client-common.
#6 5.586 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 5.586 Unpacking postgresql-client-common (248) ...
#6 5.598 Selecting previously unselected package postgresql-client-15.
#6 5.600 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.600 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.690 Selecting previously unselected package postgresql-client.
#6 5.691 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.692 Unpacking postgresql-client (15+248) ...
#6 5.705 Setting up postgresql-client-common (248) ...
#6 5.709 Setting up netcat-openbsd (1.219-1) ...
#6 5.712 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.714 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.854 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.869 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.872 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.874 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.876 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.879 Setting up node-xtend (4.0.2-3) ...
#6 5.881 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.883 Setting up postgresql-client (15+248) ...
#6 5.885 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.890 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.892 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.894 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.897 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.899 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 6.0s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 3.051 Successfully installed bundler-2.5.18
#11 3.051 1 gem installed
#11 DONE 3.1s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 20.00 Successfully installed zeitwerk-2.6.18
#12 20.00 Successfully installed thor-1.3.2
#12 20.00 Successfully installed webrick-1.8.1
#12 20.00 Successfully installed rack-3.1.7
#12 20.00 Successfully installed rackup-2.1.0
#12 20.00 Successfully installed concurrent-ruby-1.3.4
#12 20.00 Successfully installed tzinfo-2.0.6
#12 20.00 Successfully installed i18n-1.14.5
#12 20.00 Successfully installed connection_pool-2.4.1
#12 20.00 Successfully installed activesupport-7.1.0
#12 20.00 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 20.00 Successfully installed crass-1.0.6
#12 20.00 Successfully installed loofah-2.22.0
#12 20.00 Successfully installed rails-html-sanitizer-1.6.0
#12 20.00 Successfully installed rails-dom-testing-2.2.0
#12 20.00 Successfully installed rack-test-2.1.0
#12 20.00 Successfully installed rack-session-2.0.0
#12 20.00 Successfully installed erubi-1.13.0
#12 20.00 Successfully installed builder-3.3.0
#12 20.00 Successfully installed actionview-7.1.0
#12 20.00 Successfully installed actionpack-7.1.0
#12 20.00 Successfully installed railties-7.1.0
#12 20.00 Successfully installed marcel-1.0.4
#12 20.00 Successfully installed activemodel-7.1.0
#12 20.00 Successfully installed activerecord-7.1.0
#12 20.00 Successfully installed globalid-1.2.1
#12 20.00 Successfully installed activejob-7.1.0
#12 20.00 Successfully installed activestorage-7.1.0
#12 20.00 Successfully installed actiontext-7.1.0
#12 20.00 Successfully installed mini_mime-1.1.5
#12 20.00 Successfully installed mail-2.8.1
#12 20.00 Successfully installed actionmailer-7.1.0
#12 20.00 Successfully installed actionmailbox-7.1.0
#12 20.00 Successfully installed websocket-extensions-0.1.5
#12 20.00 Building native extensions. This could take a while...
#12 20.12 Successfully installed websocket-driver-0.7.6
#12 20.12 Building native extensions. This could take a while...
#12 21.73 Successfully installed nio4r-2.7.3
#12 21.73 Successfully installed actioncable-7.1.0
#12 21.73 Successfully installed rails-7.1.0
#12 21.73 38 gems installed
#12 DONE 21.8s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:76196c7d7816cb7c1775599d59d8b0922308d32ba47e74dcd5c06eb1b4456bb8
#15 writing image sha256:76196c7d7816cb7c1775599d59d8b0922308d32ba47e74dcd5c06eb1b4456bb8 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.7s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 354B done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 3.446 Reading package lists...
#6 3.710 Building dependency tree...
#6 3.789 Reading state information...
#6 3.870 The following additional packages will be installed:
#6 3.870   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 3.870   node-undici node-xtend nodejs-doc postgresql-client-15
#6 3.870   postgresql-client-common
#6 3.870 Suggested packages:
#6 3.870   npm postgresql-15 postgresql-doc-15
#6 3.927 The following NEW packages will be installed:
#6 3.927   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 3.927   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 3.928   postgresql-client postgresql-client-15 postgresql-client-common
#6 4.073 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 4.073 Need to get 15.9 MB of archives.
#6 4.073 After this operation, 75.6 MB of additional disk space will be used.
#6 4.073 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 4.236 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 4.264 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 4.269 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 4.427 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 4.429 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 4.431 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 4.432 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 4.464 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 5.408 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 5.441 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 5.751 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 5.753 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 5.848 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 5.951 debconf: delaying package configuration, since apt-utils is not installed
#6 5.965 Fetched 15.9 MB in 2s (8272 kB/s)
#6 5.975 Selecting previously unselected package libc-ares2:arm64.
#6 5.975 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 5.987 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 5.990 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 6.005 Selecting previously unselected package libuv1:arm64.
#6 6.006 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 6.007 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 6.021 Selecting previously unselected package node-xtend.
#6 6.022 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 6.023 Unpacking node-xtend (4.0.2-3) ...
#6 6.033 Selecting previously unselected package nodejs.
#6 6.034 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 6.036 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 6.073 Selecting previously unselected package node-acorn.
#6 6.075 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 6.076 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 6.096 Selecting previously unselected package node-cjs-module-lexer.
#6 6.097 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 6.098 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 6.109 Selecting previously unselected package node-busboy.
#6 6.110 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 6.111 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 6.123 Selecting previously unselected package node-undici.
#6 6.125 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 6.128 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 6.152 Selecting previously unselected package libnode108:arm64.
#6 6.153 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 6.154 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 6.490 Selecting previously unselected package netcat-openbsd.
#6 6.491 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 6.492 Unpacking netcat-openbsd (1.219-1) ...
#6 6.503 Selecting previously unselected package nodejs-doc.
#6 6.505 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 6.506 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 6.648 Selecting previously unselected package postgresql-client-common.
#6 6.649 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 6.651 Unpacking postgresql-client-common (248) ...
#6 6.663 Selecting previously unselected package postgresql-client-15.
#6 6.665 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 6.666 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 6.760 Selecting previously unselected package postgresql-client.
#6 6.762 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 6.763 Unpacking postgresql-client (15+248) ...
#6 6.777 Setting up postgresql-client-common (248) ...
#6 6.782 Setting up netcat-openbsd (1.219-1) ...
#6 6.787 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 6.788 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 6.961 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 6.977 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 6.980 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 6.983 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 6.986 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 6.988 Setting up node-xtend (4.0.2-3) ...
#6 6.990 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 6.993 Setting up postgresql-client (15+248) ...
#6 6.995 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 7.000 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 7.003 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 7.006 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 7.009 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 7.012 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 7.1s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.dev .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.925 Successfully installed bundler-2.5.18
#11 1.925 1 gem installed
#11 DONE 1.9s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 16.20 Successfully installed zeitwerk-2.6.18
#12 16.20 Successfully installed thor-1.3.2
#12 16.20 Successfully installed webrick-1.8.1
#12 16.20 Successfully installed rack-3.1.7
#12 16.20 Successfully installed rackup-2.1.0
#12 16.20 Successfully installed concurrent-ruby-1.3.4
#12 16.20 Successfully installed tzinfo-2.0.6
#12 16.20 Successfully installed i18n-1.14.5
#12 16.20 Successfully installed connection_pool-2.4.1
#12 16.20 Successfully installed activesupport-7.1.0
#12 16.20 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 16.20 Successfully installed crass-1.0.6
#12 16.20 Successfully installed loofah-2.22.0
#12 16.20 Successfully installed rails-html-sanitizer-1.6.0
#12 16.20 Successfully installed rails-dom-testing-2.2.0
#12 16.20 Successfully installed rack-test-2.1.0
#12 16.20 Successfully installed rack-session-2.0.0
#12 16.20 Successfully installed erubi-1.13.0
#12 16.20 Successfully installed builder-3.3.0
#12 16.20 Successfully installed actionview-7.1.0
#12 16.20 Successfully installed actionpack-7.1.0
#12 16.20 Successfully installed railties-7.1.0
#12 16.20 Successfully installed marcel-1.0.4
#12 16.20 Successfully installed activemodel-7.1.0
#12 16.20 Successfully installed activerecord-7.1.0
#12 16.20 Successfully installed globalid-1.2.1
#12 16.20 Successfully installed activejob-7.1.0
#12 16.20 Successfully installed activestorage-7.1.0
#12 16.20 Successfully installed actiontext-7.1.0
#12 16.20 Successfully installed mini_mime-1.1.5
#12 16.20 Successfully installed mail-2.8.1
#12 16.20 Successfully installed actionmailer-7.1.0
#12 16.20 Successfully installed actionmailbox-7.1.0
#12 16.20 Successfully installed websocket-extensions-0.1.5
#12 16.20 Building native extensions. This could take a while...
#12 16.36 Successfully installed websocket-driver-0.7.6
#12 16.36 Building native extensions. This could take a while...
#12 18.12 Successfully installed nio4r-2.7.3
#12 18.12 Successfully installed actioncable-7.1.0
#12 18.12 Successfully installed rails-7.1.0
#12 18.12 38 gems installed
#12 DONE 18.2s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.2s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:1b27f445dc4afc0768d2db6b25a9a55e946ddbf513bd2d4271d99c52ad5ea7c6 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
