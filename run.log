Environment set to dev. RAILS_ENV set to development
Loaded environment variables from .env.dev
Build args: --build-arg ENV=dev --build-arg RAILS_ENV=development --build-arg POSTGRES_USER=dev_user --build-arg POSTGRES_PASSWORD=dev_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://dev_user:dev_password@db:5432/spina 
Removing old volumes
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 0.7s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 117B done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.122 Reading package lists...
#6 2.370 Building dependency tree...
#6 2.435 Reading state information...
#6 2.518 The following additional packages will be installed:
#6 2.518   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.518   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.518   postgresql-client-common
#6 2.519 Suggested packages:
#6 2.519   npm postgresql-15 postgresql-doc-15
#6 2.574 The following NEW packages will be installed:
#6 2.574   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.574   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.574   postgresql-client postgresql-client-15 postgresql-client-common
#6 2.706 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 2.706 Need to get 15.9 MB of archives.
#6 2.706 After this operation, 75.6 MB of additional disk space will be used.
#6 2.706 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 2.858 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 2.888 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 2.890 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 2.989 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 2.997 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.000 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.000 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.040 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 3.418 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 3.420 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 3.515 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 3.516 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 3.565 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 3.672 debconf: delaying package configuration, since apt-utils is not installed
#6 3.683 Fetched 15.9 MB in 1s (16.1 MB/s)
#6 3.692 Selecting previously unselected package libc-ares2:arm64.
#6 3.692 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 3.701 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 3.702 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 3.716 Selecting previously unselected package libuv1:arm64.
#6 3.717 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 3.718 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 3.730 Selecting previously unselected package node-xtend.
#6 3.731 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 3.732 Unpacking node-xtend (4.0.2-3) ...
#6 3.741 Selecting previously unselected package nodejs.
#6 3.742 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.743 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 3.774 Selecting previously unselected package node-acorn.
#6 3.775 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 3.776 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 3.793 Selecting previously unselected package node-cjs-module-lexer.
#6 3.794 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 3.795 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 3.804 Selecting previously unselected package node-busboy.
#6 3.805 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 3.806 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 3.816 Selecting previously unselected package node-undici.
#6 3.817 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 3.820 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 3.843 Selecting previously unselected package libnode108:arm64.
#6 3.844 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 3.845 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.168 Selecting previously unselected package netcat-openbsd.
#6 4.169 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 4.170 Unpacking netcat-openbsd (1.219-1) ...
#6 4.182 Selecting previously unselected package nodejs-doc.
#6 4.183 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 4.184 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.319 Selecting previously unselected package postgresql-client-common.
#6 4.320 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 4.321 Unpacking postgresql-client-common (248) ...
#6 4.332 Selecting previously unselected package postgresql-client-15.
#6 4.333 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 4.334 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.421 Selecting previously unselected package postgresql-client.
#6 4.422 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 4.423 Unpacking postgresql-client (15+248) ...
#6 4.435 Setting up postgresql-client-common (248) ...
#6 4.439 Setting up netcat-openbsd (1.219-1) ...
#6 4.443 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 4.444 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 4.583 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 4.595 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.598 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 4.600 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.603 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 4.605 Setting up node-xtend (4.0.2-3) ...
#6 4.607 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.609 Setting up postgresql-client (15+248) ...
#6 4.612 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.616 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.618 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 4.620 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.623 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 4.625 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 4.7s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.dev .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.701 Successfully installed bundler-2.5.18
#11 1.701 1 gem installed
#11 DONE 1.7s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 17.00 Successfully installed zeitwerk-2.6.18
#12 17.00 Successfully installed thor-1.3.2
#12 17.00 Successfully installed webrick-1.8.1
#12 17.00 Successfully installed rack-3.1.7
#12 17.00 Successfully installed rackup-2.1.0
#12 17.00 Successfully installed concurrent-ruby-1.3.4
#12 17.00 Successfully installed tzinfo-2.0.6
#12 17.00 Successfully installed i18n-1.14.5
#12 17.00 Successfully installed connection_pool-2.4.1
#12 17.00 Successfully installed activesupport-7.1.0
#12 17.00 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 17.00 Successfully installed crass-1.0.6
#12 17.00 Successfully installed loofah-2.22.0
#12 17.00 Successfully installed rails-html-sanitizer-1.6.0
#12 17.00 Successfully installed rails-dom-testing-2.2.0
#12 17.00 Successfully installed rack-test-2.1.0
#12 17.00 Successfully installed rack-session-2.0.0
#12 17.00 Successfully installed erubi-1.13.0
#12 17.00 Successfully installed builder-3.3.0
#12 17.00 Successfully installed actionview-7.1.0
#12 17.00 Successfully installed actionpack-7.1.0
#12 17.00 Successfully installed railties-7.1.0
#12 17.00 Successfully installed marcel-1.0.4
#12 17.00 Successfully installed activemodel-7.1.0
#12 17.00 Successfully installed activerecord-7.1.0
#12 17.00 Successfully installed globalid-1.2.1
#12 17.00 Successfully installed activejob-7.1.0
#12 17.00 Successfully installed activestorage-7.1.0
#12 17.00 Successfully installed actiontext-7.1.0
#12 17.00 Successfully installed mini_mime-1.1.5
#12 17.00 Successfully installed mail-2.8.1
#12 17.00 Successfully installed actionmailer-7.1.0
#12 17.00 Successfully installed actionmailbox-7.1.0
#12 17.00 Successfully installed websocket-extensions-0.1.5
#12 17.00 Building native extensions. This could take a while...
#12 17.17 Successfully installed websocket-driver-0.7.6
#12 17.17 Building native extensions. This could take a while...
#12 18.81 Successfully installed nio4r-2.7.3
#12 18.81 Successfully installed actioncable-7.1.0
#12 18.81 Successfully installed rails-7.1.0
#12 18.81 38 gems installed
#12 DONE 18.8s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.1s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:4e5291876b5962dc4f4f6e400c53c7b05cb327e86b90de0a9a3bd4e6067f0234
#15 writing image sha256:4e5291876b5962dc4f4f6e400c53c7b05cb327e86b90de0a9a3bd4e6067f0234 done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
Environment set to prod. RAILS_ENV set to production
Loaded environment variables from .env.prod
Build args: --build-arg ENV=prod --build-arg RAILS_ENV=production --build-arg POSTGRES_USER=prod_user --build-arg POSTGRES_PASSWORD=prod_password --build-arg POSTGRES_DB=spina --build-arg SPINA_ADMIN_EMAIL=admin@example.com --build-arg SPINA_ADMIN_PASSWORD=password123 --build-arg DATABASE_URL=postgres://prod_user:prod_password@db:5432/spina --build-arg WEB_CONCURRENCY=2 
Removing old volumes
 Container spina-app-web-1  Stopping
 Container spina-app-web-1  Stopped
 Container spina-app-web-1  Removing
 Container spina-app-web-1  Removed
 Container spina-app-db-1  Stopping
 Container spina-app-db-1  Stopped
 Container spina-app-db-1  Removing
 Container spina-app-db-1  Removed
 Volume spina-app_postgres_data  Removing
 Volume spina-app_web_data  Removing
 Network spina-app_spina-app_default  Removing
 Volume spina-app_postgres_data  Removed
 Volume spina-app_web_data  Removed
 Network spina-app_spina-app_default  Removed
Building Docker containers
#0 building with "desktop-linux" instance using docker driver

#1 [web internal] load build definition from Dockerfile
#1 transferring dockerfile: 756B done
#1 DONE 0.0s

#2 [web internal] load metadata for docker.io/library/ruby:3.3.5-bookworm
#2 DONE 1.5s

#3 [web internal] load .dockerignore
#3 transferring context: 898B done
#3 DONE 0.0s

#4 [web  1/10] FROM docker.io/library/ruby:3.3.5-bookworm@sha256:9ee601015fbb7c610ae02137d5698ab712f821069eaf7c0548e58a5b609970aa
#4 CACHED

#5 [web internal] load build context
#5 transferring context: 377B done
#5 DONE 0.0s

#6 [web  2/10] RUN apt-get update -qq && apt-get install -y nodejs postgresql-client netcat-openbsd
#6 2.453 Reading package lists...
#6 2.700 Building dependency tree...
#6 2.772 Reading state information...
#6 2.853 The following additional packages will be installed:
#6 2.854   libc-ares2 libnode108 libuv1 node-acorn node-busboy node-cjs-module-lexer
#6 2.854   node-undici node-xtend nodejs-doc postgresql-client-15
#6 2.854   postgresql-client-common
#6 2.855 Suggested packages:
#6 2.855   npm postgresql-15 postgresql-doc-15
#6 2.907 The following NEW packages will be installed:
#6 2.908   libc-ares2 libnode108 libuv1 netcat-openbsd node-acorn node-busboy
#6 2.908   node-cjs-module-lexer node-undici node-xtend nodejs nodejs-doc
#6 2.908   postgresql-client postgresql-client-15 postgresql-client-common
#6 3.039 0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.
#6 3.039 Need to get 15.9 MB of archives.
#6 3.039 After this operation, 75.6 MB of additional disk space will be used.
#6 3.039 Get:1 http://deb.debian.org/debian bookworm/main arm64 libc-ares2 arm64 1.18.1-3 [99.2 kB]
#6 3.183 Get:2 http://deb.debian.org/debian bookworm/main arm64 libuv1 arm64 1.44.2-1+deb12u1 [130 kB]
#6 3.213 Get:3 http://deb.debian.org/debian bookworm/main arm64 node-xtend all 4.0.2-3 [3932 B]
#6 3.213 Get:4 http://deb.debian.org/debian bookworm/main arm64 nodejs arm64 18.19.0+dfsg-6~deb12u2 [319 kB]
#6 3.329 Get:5 http://deb.debian.org/debian bookworm/main arm64 node-acorn all 8.8.1+ds+~cs25.17.7-2 [128 kB]
#6 3.340 Get:6 http://deb.debian.org/debian bookworm/main arm64 node-cjs-module-lexer all 1.2.2+dfsg-5 [30.1 kB]
#6 3.342 Get:7 http://deb.debian.org/debian bookworm/main arm64 node-busboy all 1.6.0+~cs2.6.0-2 [16.9 kB]
#6 3.343 Get:8 http://deb.debian.org/debian bookworm/main arm64 node-undici all 5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4 [285 kB]
#6 3.396 Get:9 http://deb.debian.org/debian bookworm/main arm64 libnode108 arm64 18.19.0+dfsg-6~deb12u2 [9547 kB]
#6 4.210 Get:10 http://deb.debian.org/debian bookworm/main arm64 netcat-openbsd arm64 1.219-1 [40.8 kB]
#6 4.212 Get:11 http://deb.debian.org/debian bookworm/main arm64 nodejs-doc all 18.19.0+dfsg-6~deb12u2 [3569 kB]
#6 4.410 Get:12 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-common all 248 [35.1 kB]
#6 4.412 Get:13 http://deb.debian.org/debian bookworm/main arm64 postgresql-client-15 arm64 15.8-0+deb12u1 [1652 kB]
#6 4.493 Get:14 http://deb.debian.org/debian bookworm/main arm64 postgresql-client all 15+248 [10.1 kB]
#6 4.593 debconf: delaying package configuration, since apt-utils is not installed
#6 4.605 Fetched 15.9 MB in 2s (10.0 MB/s)
#6 4.614 Selecting previously unselected package libc-ares2:arm64.
#6 4.614 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 23265 files and directories currently installed.)
#6 4.627 Preparing to unpack .../00-libc-ares2_1.18.1-3_arm64.deb ...
#6 4.630 Unpacking libc-ares2:arm64 (1.18.1-3) ...
#6 4.644 Selecting previously unselected package libuv1:arm64.
#6 4.645 Preparing to unpack .../01-libuv1_1.44.2-1+deb12u1_arm64.deb ...
#6 4.646 Unpacking libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 4.660 Selecting previously unselected package node-xtend.
#6 4.661 Preparing to unpack .../02-node-xtend_4.0.2-3_all.deb ...
#6 4.662 Unpacking node-xtend (4.0.2-3) ...
#6 4.671 Selecting previously unselected package nodejs.
#6 4.672 Preparing to unpack .../03-nodejs_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.672 Unpacking nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 4.707 Selecting previously unselected package node-acorn.
#6 4.708 Preparing to unpack .../04-node-acorn_8.8.1+ds+~cs25.17.7-2_all.deb ...
#6 4.709 Unpacking node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 4.726 Selecting previously unselected package node-cjs-module-lexer.
#6 4.727 Preparing to unpack .../05-node-cjs-module-lexer_1.2.2+dfsg-5_all.deb ...
#6 4.728 Unpacking node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 4.738 Selecting previously unselected package node-busboy.
#6 4.739 Preparing to unpack .../06-node-busboy_1.6.0+~cs2.6.0-2_all.deb ...
#6 4.739 Unpacking node-busboy (1.6.0+~cs2.6.0-2) ...
#6 4.750 Selecting previously unselected package node-undici.
#6 4.751 Preparing to unpack .../07-node-undici_5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4_all.deb ...
#6 4.754 Unpacking node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 4.778 Selecting previously unselected package libnode108:arm64.
#6 4.780 Preparing to unpack .../08-libnode108_18.19.0+dfsg-6~deb12u2_arm64.deb ...
#6 4.781 Unpacking libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.095 Selecting previously unselected package netcat-openbsd.
#6 5.096 Preparing to unpack .../09-netcat-openbsd_1.219-1_arm64.deb ...
#6 5.097 Unpacking netcat-openbsd (1.219-1) ...
#6 5.109 Selecting previously unselected package nodejs-doc.
#6 5.110 Preparing to unpack .../10-nodejs-doc_18.19.0+dfsg-6~deb12u2_all.deb ...
#6 5.110 Unpacking nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.245 Selecting previously unselected package postgresql-client-common.
#6 5.246 Preparing to unpack .../11-postgresql-client-common_248_all.deb ...
#6 5.247 Unpacking postgresql-client-common (248) ...
#6 5.260 Selecting previously unselected package postgresql-client-15.
#6 5.261 Preparing to unpack .../12-postgresql-client-15_15.8-0+deb12u1_arm64.deb ...
#6 5.262 Unpacking postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.352 Selecting previously unselected package postgresql-client.
#6 5.353 Preparing to unpack .../13-postgresql-client_15+248_all.deb ...
#6 5.354 Unpacking postgresql-client (15+248) ...
#6 5.367 Setting up postgresql-client-common (248) ...
#6 5.371 Setting up netcat-openbsd (1.219-1) ...
#6 5.375 update-alternatives: using /bin/nc.openbsd to provide /bin/nc (nc) in auto mode
#6 5.376 Setting up postgresql-client-15 (15.8-0+deb12u1) ...
#6 5.530 update-alternatives: using /usr/share/postgresql/15/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
#6 5.545 Setting up node-cjs-module-lexer (1.2.2+dfsg-5) ...
#6 5.548 Setting up libc-ares2:arm64 (1.18.1-3) ...
#6 5.550 Setting up libuv1:arm64 (1.44.2-1+deb12u1) ...
#6 5.553 Setting up nodejs-doc (18.19.0+dfsg-6~deb12u2) ...
#6 5.555 Setting up node-xtend (4.0.2-3) ...
#6 5.557 Setting up node-busboy (1.6.0+~cs2.6.0-2) ...
#6 5.560 Setting up postgresql-client (15+248) ...
#6 5.562 Setting up node-undici (5.15.0+dfsg1+~cs20.10.9.3-1+deb12u4) ...
#6 5.566 Setting up node-acorn (8.8.1+ds+~cs25.17.7-2) ...
#6 5.569 Setting up libnode108:arm64 (18.19.0+dfsg-6~deb12u2) ...
#6 5.571 Setting up nodejs (18.19.0+dfsg-6~deb12u2) ...
#6 5.574 update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
#6 5.575 Processing triggers for libc-bin (2.36-9+deb12u8) ...
#6 DONE 5.6s

#7 [web  3/10] WORKDIR /app/
#7 DONE 0.0s

#8 [web  4/10] COPY .env.prod .env
#8 DONE 0.0s

#9 [web  5/10] COPY seeds.rb /app/seeds.rb
#9 DONE 0.0s

#10 [web  6/10] COPY mobility.rb /app/mobility.rb
#10 DONE 0.0s

#11 [web  7/10] RUN gem install bundler
#11 1.942 Successfully installed bundler-2.5.18
#11 1.942 1 gem installed
#11 DONE 2.0s

#12 [web  8/10] RUN gem install rails -v 7.1.0
#12 14.36 Successfully installed zeitwerk-2.6.18
#12 14.36 Successfully installed thor-1.3.2
#12 14.36 Successfully installed webrick-1.8.1
#12 14.36 Successfully installed rack-3.1.7
#12 14.36 Successfully installed rackup-2.1.0
#12 14.36 Successfully installed concurrent-ruby-1.3.4
#12 14.36 Successfully installed tzinfo-2.0.6
#12 14.36 Successfully installed i18n-1.14.5
#12 14.36 Successfully installed connection_pool-2.4.1
#12 14.36 Successfully installed activesupport-7.1.0
#12 14.36 Successfully installed nokogiri-1.16.7-aarch64-linux
#12 14.36 Successfully installed crass-1.0.6
#12 14.36 Successfully installed loofah-2.22.0
#12 14.36 Successfully installed rails-html-sanitizer-1.6.0
#12 14.36 Successfully installed rails-dom-testing-2.2.0
#12 14.36 Successfully installed rack-test-2.1.0
#12 14.36 Successfully installed rack-session-2.0.0
#12 14.36 Successfully installed erubi-1.13.0
#12 14.36 Successfully installed builder-3.3.0
#12 14.36 Successfully installed actionview-7.1.0
#12 14.36 Successfully installed actionpack-7.1.0
#12 14.36 Successfully installed railties-7.1.0
#12 14.36 Successfully installed marcel-1.0.4
#12 14.36 Successfully installed activemodel-7.1.0
#12 14.36 Successfully installed activerecord-7.1.0
#12 14.36 Successfully installed globalid-1.2.1
#12 14.36 Successfully installed activejob-7.1.0
#12 14.36 Successfully installed activestorage-7.1.0
#12 14.36 Successfully installed actiontext-7.1.0
#12 14.36 Successfully installed mini_mime-1.1.5
#12 14.36 Successfully installed mail-2.8.1
#12 14.36 Successfully installed actionmailer-7.1.0
#12 14.36 Successfully installed actionmailbox-7.1.0
#12 14.36 Successfully installed websocket-extensions-0.1.5
#12 14.36 Building native extensions. This could take a while...
#12 14.50 Successfully installed websocket-driver-0.7.6
#12 14.50 Building native extensions. This could take a while...
#12 16.17 Successfully installed nio4r-2.7.3
#12 16.17 Successfully installed actioncable-7.1.0
#12 16.17 Successfully installed rails-7.1.0
#12 16.17 38 gems installed
#12 DONE 16.2s

#13 [web  9/10] COPY setup.sh /app/setup.sh
#13 DONE 0.0s

#14 [web 10/10] RUN chmod +x /app/setup.sh
#14 DONE 0.3s

#15 [web] exporting to image
#15 exporting layers
#15 exporting layers 0.2s done
#15 writing image sha256:bf83e94afe507f2b93b669f95dc3f5bf8902b8862784330ec3447dae761d4ccc
#15 writing image sha256:bf83e94afe507f2b93b669f95dc3f5bf8902b8862784330ec3447dae761d4ccc done
#15 naming to docker.io/library/spina-app-web done
#15 DONE 0.2s
Starting Docker containers
 Network spina-app_spina-app_default  Creating
 Network spina-app_spina-app_default  Created
 Volume "spina-app_postgres_data"  Creating
 Volume "spina-app_postgres_data"  Created
 Volume "spina-app_web_data"  Creating
 Volume "spina-app_web_data"  Created
 Container spina-app-db-1  Creating
 Container spina-app-db-1  Created
 Container spina-app-web-1  Creating
 Container spina-app-web-1  Created
 Container spina-app-db-1  Starting
 Container spina-app-db-1  Started
 Container spina-app-db-1  Waiting
 Container spina-app-db-1  Healthy
 Container spina-app-web-1  Starting
 Container spina-app-web-1  Started
Docker containers started successfully
